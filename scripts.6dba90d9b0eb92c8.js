!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Quill=e():t.Quill=e()}(typeof self<"u"?self:void 0,function(){return function(o){var t={};function e(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return o[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=o,e.c=t,e.d=function(n,i,r){e.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="",e(e.s=109)}([function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(17),i=e(18),r=e(19),s=e(45),a=e(46),l=e(47),u=e(48),c=e(49),f=e(12),d=e(32),h=e(33),m=e(31),p=e(1);t.default={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:n.default,Format:i.default,Leaf:r.default,Embed:u.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:c.default,Attributor:{Attribute:f.default,Class:d.default,Style:h.default,Store:m.default}}},function(o,t,e){"use strict";var m,n=this&&this.__extends||(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])},function(p,v){function y(){this.constructor=p}m(p,v),p.prototype=null===v?Object.create(v):(y.prototype=v.prototype,new y)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(m){function p(v){var y=this;return(y=m.call(this,v="[Parchment] "+v)||this).message=v,y.name=y.constructor.name,y}return n(p,m),p}(Error);t.ParchmentError=i;var u,r={},s={},a={},l={};function d(m,p){var v;if(void 0===p&&(p=u.ANY),"string"==typeof m)v=l[m]||r[m];else if(m instanceof Text||m.nodeType===Node.TEXT_NODE)v=l.text;else if("number"==typeof m)m&u.LEVEL&u.BLOCK?v=l.block:m&u.LEVEL&u.INLINE&&(v=l.inline);else if(m instanceof HTMLElement){var y=(m.getAttribute("class")||"").split(/\s+/);for(var g in y)if(v=s[y[g]])break;v=v||a[m.tagName]}return null==v?null:p&u.LEVEL&v.scope&&p&u.TYPE&v.scope?v:null}t.DATA_KEY="__blot",function(m){m[m.TYPE=3]="TYPE",m[m.LEVEL=12]="LEVEL",m[m.ATTRIBUTE=13]="ATTRIBUTE",m[m.BLOT=14]="BLOT",m[m.INLINE=7]="INLINE",m[m.BLOCK=11]="BLOCK",m[m.BLOCK_BLOT=10]="BLOCK_BLOT",m[m.INLINE_BLOT=6]="INLINE_BLOT",m[m.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",m[m.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",m[m.ANY=15]="ANY"}(u=t.Scope||(t.Scope={})),t.create=function c(m,p){var v=d(m);if(null==v)throw new i("Unable to create "+m+" blot");var y=v,g=m instanceof Node||m.nodeType===Node.TEXT_NODE?m:y.create(p);return new y(g,p)},t.find=function f(m,p){return void 0===p&&(p=!1),null==m?null:null!=m[t.DATA_KEY]?m[t.DATA_KEY].blot:p?f(m.parentNode,p):null},t.query=d,t.register=function h(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];if(m.length>1)return m.map(function(g){return h(g)});var v=m[0];if("string"!=typeof v.blotName&&"string"!=typeof v.attrName)throw new i("Invalid definition");if("abstract"===v.blotName)throw new i("Cannot register abstract class");if(l[v.blotName||v.attrName]=v,"string"==typeof v.keyName)r[v.keyName]=v;else if(null!=v.className&&(s[v.className]=v),null!=v.tagName){v.tagName=Array.isArray(v.tagName)?v.tagName.map(function(g){return g.toUpperCase()}):v.tagName.toUpperCase();var y=Array.isArray(v.tagName)?v.tagName:[v.tagName];y.forEach(function(g){(null==a[g]||null==v.className)&&(a[g]=v)})}return v}},function(o,t,e){var n=e(51),i=e(11),r=e(3),s=e(20),a=String.fromCharCode(0),l=function(u){this.ops=Array.isArray(u)?u:null!=u&&Array.isArray(u.ops)?u.ops:[]};l.prototype.insert=function(u,c){var f={};return 0===u.length?this:(f.insert=u,null!=c&&"object"==typeof c&&Object.keys(c).length>0&&(f.attributes=c),this.push(f))},l.prototype.delete=function(u){return u<=0?this:this.push({delete:u})},l.prototype.retain=function(u,c){if(u<=0)return this;var f={retain:u};return null!=c&&"object"==typeof c&&Object.keys(c).length>0&&(f.attributes=c),this.push(f)},l.prototype.push=function(u){var c=this.ops.length,f=this.ops[c-1];if(u=r(!0,{},u),"object"==typeof f){if("number"==typeof u.delete&&"number"==typeof f.delete)return this.ops[c-1]={delete:f.delete+u.delete},this;if("number"==typeof f.delete&&null!=u.insert&&"object"!=typeof(f=this.ops[(c-=1)-1]))return this.ops.unshift(u),this;if(i(u.attributes,f.attributes)){if("string"==typeof u.insert&&"string"==typeof f.insert)return this.ops[c-1]={insert:f.insert+u.insert},"object"==typeof u.attributes&&(this.ops[c-1].attributes=u.attributes),this;if("number"==typeof u.retain&&"number"==typeof f.retain)return this.ops[c-1]={retain:f.retain+u.retain},"object"==typeof u.attributes&&(this.ops[c-1].attributes=u.attributes),this}}return c===this.ops.length?this.ops.push(u):this.ops.splice(c,0,u),this},l.prototype.chop=function(){var u=this.ops[this.ops.length-1];return u&&u.retain&&!u.attributes&&this.ops.pop(),this},l.prototype.filter=function(u){return this.ops.filter(u)},l.prototype.forEach=function(u){this.ops.forEach(u)},l.prototype.map=function(u){return this.ops.map(u)},l.prototype.partition=function(u){var c=[],f=[];return this.forEach(function(d){(u(d)?c:f).push(d)}),[c,f]},l.prototype.reduce=function(u,c){return this.ops.reduce(u,c)},l.prototype.changeLength=function(){return this.reduce(function(u,c){return c.insert?u+s.length(c):c.delete?u-c.delete:u},0)},l.prototype.length=function(){return this.reduce(function(u,c){return u+s.length(c)},0)},l.prototype.slice=function(u,c){u=u||0,"number"!=typeof c&&(c=1/0);for(var f=[],d=s.iterator(this.ops),h=0;h<c&&d.hasNext();){var m;h<u?m=d.next(u-h):(m=d.next(c-h),f.push(m)),h+=s.length(m)}return new l(f)},l.prototype.compose=function(u){var c=s.iterator(this.ops),f=s.iterator(u.ops),d=[],h=f.peek();if(null!=h&&"number"==typeof h.retain&&null==h.attributes){for(var m=h.retain;"insert"===c.peekType()&&c.peekLength()<=m;)m-=c.peekLength(),d.push(c.next());h.retain-m>0&&f.next(h.retain-m)}for(var p=new l(d);c.hasNext()||f.hasNext();)if("insert"===f.peekType())p.push(f.next());else if("delete"===c.peekType())p.push(c.next());else{var v=Math.min(c.peekLength(),f.peekLength()),y=c.next(v),g=f.next(v);if("number"==typeof g.retain){var b={};"number"==typeof y.retain?b.retain=v:b.insert=y.insert;var E=s.attributes.compose(y.attributes,g.attributes,"number"==typeof y.retain);if(E&&(b.attributes=E),p.push(b),!f.hasNext()&&i(p.ops[p.ops.length-1],b)){var _=new l(c.rest());return p.concat(_).chop()}}else"number"==typeof g.delete&&"number"==typeof y.retain&&p.push(g)}return p.chop()},l.prototype.concat=function(u){var c=new l(this.ops.slice());return u.ops.length>0&&(c.push(u.ops[0]),c.ops=c.ops.concat(u.ops.slice(1))),c},l.prototype.diff=function(u,c){if(this.ops===u.ops)return new l;var f=[this,u].map(function(v){return v.map(function(y){if(null!=y.insert)return"string"==typeof y.insert?y.insert:a;throw new Error("diff() called "+(v===u?"on":"with")+" non-document")}).join("")}),d=new l,h=n(f[0],f[1],c),m=s.iterator(this.ops),p=s.iterator(u.ops);return h.forEach(function(v){for(var y=v[1].length;y>0;){var g=0;switch(v[0]){case n.INSERT:g=Math.min(p.peekLength(),y),d.push(p.next(g));break;case n.DELETE:g=Math.min(y,m.peekLength()),m.next(g),d.delete(g);break;case n.EQUAL:g=Math.min(m.peekLength(),p.peekLength(),y);var b=m.next(g),E=p.next(g);i(b.insert,E.insert)?d.retain(g,s.attributes.diff(b.attributes,E.attributes)):d.push(E).delete(g)}y-=g}}),d.chop()},l.prototype.eachLine=function(u,c){c=c||"\n";for(var f=s.iterator(this.ops),d=new l,h=0;f.hasNext();){if("insert"!==f.peekType())return;var m=f.peek(),p=s.length(m)-f.peekLength(),v="string"==typeof m.insert?m.insert.indexOf(c,p)-p:-1;if(v<0)d.push(f.next());else if(v>0)d.push(f.next(v));else{if(!1===u(d,f.next(1).attributes||{},h))return;h+=1,d=new l}}d.length()>0&&u(d,{},h)},l.prototype.transform=function(u,c){if(c=!!c,"number"==typeof u)return this.transformPosition(u,c);for(var f=s.iterator(this.ops),d=s.iterator(u.ops),h=new l;f.hasNext()||d.hasNext();)if("insert"!==f.peekType()||!c&&"insert"===d.peekType())if("insert"===d.peekType())h.push(d.next());else{var m=Math.min(f.peekLength(),d.peekLength()),p=f.next(m),v=d.next(m);if(p.delete)continue;v.delete?h.push(v):h.retain(m,s.attributes.transform(p.attributes,v.attributes,c))}else h.retain(s.length(f.next()));return h.chop()},l.prototype.transformPosition=function(u,c){c=!!c;for(var f=s.iterator(this.ops),d=0;f.hasNext()&&d<=u;){var h=f.peekLength(),m=f.peekType();f.next(),"delete"!==m?("insert"===m&&(d<u||!c)&&(u+=h),d+=h):u-=Math.min(h,u-d)}return u},o.exports=l},function(o,t){"use strict";var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return"function"==typeof Array.isArray?Array.isArray(f):"[object Array]"===n.call(f)},a=function(f){if(!f||"[object Object]"!==n.call(f))return!1;var m,d=e.call(f,"constructor"),h=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!d&&!h)return!1;for(m in f);return typeof m>"u"||e.call(f,m)},l=function(f,d){i&&"__proto__"===d.name?i(f,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):f[d.name]=d.newValue},u=function(f,d){if("__proto__"===d){if(!e.call(f,d))return;if(r)return r(f,d).value}return f[d]};o.exports=function c(){var f,d,h,m,p,v,y=arguments[0],g=1,b=arguments.length,E=!1;for("boolean"==typeof y&&(E=y,y=arguments[1]||{},g=2),(null==y||"object"!=typeof y&&"function"!=typeof y)&&(y={});g<b;++g)if(null!=(f=arguments[g]))for(d in f)h=u(y,d),y!==(m=u(f,d))&&(E&&m&&(a(m)||(p=s(m)))?(p?(p=!1,v=h&&s(h)?h:[]):v=h&&a(h)?h:{},l(y,{name:d,newValue:c(E,v,m)})):typeof m<"u"&&l(y,{name:d,newValue:m}));return y}},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function x(w,S){for(var T=0;T<S.length;T++){var N=S[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,N.key,N)}}return function(w,S,T){return S&&x(w.prototype,S),T&&x(w,T),w}}(),i=function x(w,S,T){null===w&&(w=Function.prototype);var N=Object.getOwnPropertyDescriptor(w,S);if(void 0===N){var j=Object.getPrototypeOf(w);return null===j?void 0:x(j,S,T)}if("value"in N)return N.value;var B=N.get;return void 0===B?void 0:B.call(T)},s=y(e(3)),l=y(e(2)),c=y(e(0)),d=y(e(16)),m=y(e(6)),v=y(e(7));function y(x){return x&&x.__esModule?x:{default:x}}function g(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function b(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}function E(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var k=function(x){function w(){return g(this,w),b(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return E(w,x),n(w,[{key:"attach",value:function(){i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new l.default).insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,N){var j=c.default.query(T,c.default.Scope.BLOCK_ATTRIBUTE);null!=j&&this.attributes.attribute(j,N)}},{key:"formatAt",value:function(T,N,j,B){this.format(j,B)}},{key:"insertAt",value:function(T,N,j){if("string"==typeof N&&N.endsWith("\n")){var B=c.default.create(A.blotName);this.parent.insertBefore(B,0===T?this:this.next),B.insertAt(0,N.slice(0,-1))}else i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,T,N,j)}}]),w}(c.default.Embed);k.scope=c.default.Scope.BLOCK_BLOT;var A=function(x){function w(S){g(this,w);var T=b(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S));return T.cache={},T}return E(w,x),n(w,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(T,N){return 0===N.length()?T:T.insert(N.value(),O(N))},new l.default).insert("\n",O(this))),this.cache.delta}},{key:"deleteAt",value:function(T,N){i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,T,N),this.cache={}}},{key:"formatAt",value:function(T,N,j,B){N<=0||(c.default.query(j,c.default.Scope.BLOCK)?T+N===this.length()&&this.format(j,B):i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,T,Math.min(N,this.length()-T-1),j,B),this.cache={})}},{key:"insertAt",value:function(T,N,j){if(null!=j)return i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,T,N,j);if(0!==N.length){var B=N.split("\n"),V=B.shift();V.length>0&&(T<this.length()-1||null==this.children.tail?i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),V):this.children.tail.insertAt(this.children.tail.length(),V),this.cache={});var C=this;B.reduce(function(D,P){return(C=C.split(D,!0)).insertAt(0,P),P.length},T+V.length)}}},{key:"insertBefore",value:function(T,N){var j=this.children.head;i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,T,N),j instanceof d.default&&j.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(T,N){i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"moveChildren",this).call(this,T,N),this.cache={}}},{key:"optimize",value:function(T){i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(N&&(0===T||T>=this.length()-1)){var j=this.clone();return 0===T?(this.parent.insertBefore(j,this),this):(this.parent.insertBefore(j,this.next),j)}var B=i(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"split",this).call(this,T,N);return this.cache={},B}}]),w}(c.default.Block);function O(x){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==x||("function"==typeof x.formats&&(w=(0,s.default)(w,x.formats())),null==x.parent||"scroll"==x.parent.blotName||x.parent.statics.scope!==x.statics.scope)?w:O(x.parent,w)}A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[m.default,c.default.Embed,v.default],t.bubbleFormats=O,t.BlockEmbed=k,t.default=A},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i=function(D,P){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return function C(D,P){var L=[],R=!0,q=!1,F=void 0;try{for(var I,M=D[Symbol.iterator]();!(R=(I=M.next()).done)&&(L.push(I.value),!P||L.length!==P);R=!0);}catch(z){q=!0,F=z}finally{try{!R&&M.return&&M.return()}finally{if(q)throw F}}return L}(D,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function C(D,P){for(var L=0;L<P.length;L++){var R=P[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,P,L){return P&&C(D.prototype,P),L&&C(D,L),D}}();e(50);var a=O(e(2)),u=O(e(14)),f=O(e(8)),h=O(e(9)),p=O(e(0)),v=e(15),y=O(v),b=O(e(3)),_=O(e(10)),A=O(e(34));function O(C){return C&&C.__esModule?C:{default:C}}function x(C,D,P){return D in C?Object.defineProperty(C,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):C[D]=P,C}function w(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}var S=(0,_.default)("quill"),T=function(){function C(D){var P=this,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(this,C),this.options=N(D,L),this.container=this.options.container,null==this.container)return S.error("Invalid Quill container",D);this.options.debug&&C.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new u.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(F){F===f.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(F,M){var I=P.selection.lastRange,z=I&&0===I.length?I.index:void 0;j.call(P,function(){return P.editor.update(null,M,z)},F)});var q=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+R+"<p><br></p></div>");this.setContents(q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return r(C,null,[{key:"debug",value:function(P){!0===P&&(P="log"),_.default.level(P)}},{key:"find",value:function(P){return P.__quill||p.default.find(P)}},{key:"import",value:function(P){return null==this.imports[P]&&S.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,L){var R=this,q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof P){var F=P.attrName||P.blotName;"string"==typeof F?this.register("formats/"+F,P,L):Object.keys(P).forEach(function(M){R.register(M,P[M],L)})}else null!=this.imports[P]&&!q&&S.warn("Overwriting "+P+" with",L),this.imports[P]=L,(P.startsWith("blots/")||P.startsWith("formats/"))&&"abstract"!==L.blotName?p.default.register(L):P.startsWith("modules")&&"function"==typeof L.register&&L.register()}}]),r(C,[{key:"addContainer",value:function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof P){var R=P;(P=document.createElement("div")).classList.add(R)}return this.container.insertBefore(P,L),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,L,R){var q=this,F=B(P,L,R),M=i(F,4);return j.call(this,function(){return q.editor.deleteText(P,L)},R=M[3],P=M[0],-1*(L=M[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,L){var R=this,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;return j.call(this,function(){var F=R.getSelection(!0),M=new a.default;if(null==F)return M;if(p.default.query(P,p.default.Scope.BLOCK))M=R.editor.formatLine(F.index,F.length,x({},P,L));else{if(0===F.length)return R.selection.format(P,L),M;M=R.editor.formatText(F.index,F.length,x({},P,L))}return R.setSelection(F,f.default.sources.SILENT),M},q)}},{key:"formatLine",value:function(P,L,R,q,F){var I,M=this,z=B(P,L,R,q,F),H=i(z,4);return L=H[1],I=H[2],j.call(this,function(){return M.editor.formatLine(P,L,I)},F=H[3],P=H[0],0)}},{key:"formatText",value:function(P,L,R,q,F){var I,M=this,z=B(P,L,R,q,F),H=i(z,4);return L=H[1],I=H[2],j.call(this,function(){return M.editor.formatText(P,L,I)},F=H[3],P=H[0],0)}},{key:"getBounds",value:function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=void 0;R="number"==typeof P?this.selection.getBounds(P,L):this.selection.getBounds(P.index,P.length);var q=this.container.getBoundingClientRect();return{bottom:R.bottom-q.top,height:R.height,left:R.left-q.left,right:R.right-q.left,top:R.top-q.top,width:R.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-P,R=B(P,L),q=i(R,2);return this.editor.getContents(P=q[0],L=q[1])}},{key:"getFormat",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof P?this.editor.getFormat(P,L):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof P?this.scroll.lines(P.index,P.length):this.scroll.lines(P,L)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-P,R=B(P,L),q=i(R,2);return this.editor.getText(P=q[0],L=q[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,L,R){var q=this,F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.sources.API;return j.call(this,function(){return q.editor.insertEmbed(P,L,R)},F,P)}},{key:"insertText",value:function(P,L,R,q,F){var I,M=this,z=B(P,0,R,q,F),H=i(z,4);return I=H[2],j.call(this,function(){return M.editor.insertText(P,L,I)},F=H[3],P=H[0],L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,L,R){this.clipboard.dangerouslyPasteHTML(P,L,R)}},{key:"removeFormat",value:function(P,L,R){var q=this,F=B(P,L,R),M=i(F,4);return L=M[1],j.call(this,function(){return q.editor.removeFormat(P,L)},R=M[3],P=M[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var L=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API;return j.call(this,function(){P=new a.default(P);var q=L.getLength(),F=L.editor.deleteText(0,q),M=L.editor.applyDelta(P),I=M.ops[M.ops.length-1];return null!=I&&"string"==typeof I.insert&&"\n"===I.insert[I.insert.length-1]&&(L.editor.deleteText(L.getLength()-1,1),M.delete(1)),F.compose(M)},R)}},{key:"setSelection",value:function(P,L,R){if(null==P)this.selection.setRange(null,L||C.sources.API);else{var q=B(P,L,R),F=i(q,4);R=F[3],this.selection.setRange(new v.Range(P=F[0],L=F[1]),R),R!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API,R=(new a.default).insert(P);return this.setContents(R,L)}},{key:"update",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,L=this.scroll.update(P);return this.selection.update(P),L}},{key:"updateContents",value:function(P){var L=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API;return j.call(this,function(){return P=new a.default(P),L.editor.applyDelta(P,R)},R,!0)}}]),C}();function N(C,D){if((D=(0,b.default)(!0,{container:C,modules:{clipboard:!0,keyboard:!0,history:!0}},D)).theme&&D.theme!==T.DEFAULTS.theme){if(D.theme=T.import("themes/"+D.theme),null==D.theme)throw new Error("Invalid theme "+D.theme+". Did you register it?")}else D.theme=A.default;var P=(0,b.default)(!0,{},D.theme.DEFAULTS);[P,D].forEach(function(q){q.modules=q.modules||{},Object.keys(q.modules).forEach(function(F){!0===q.modules[F]&&(q.modules[F]={})})});var R=Object.keys(P.modules).concat(Object.keys(D.modules)).reduce(function(q,F){var M=T.import("modules/"+F);return null==M?S.error("Cannot load "+F+" module. Are you sure you registered it?"):q[F]=M.DEFAULTS||{},q},{});return null!=D.modules&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,b.default)(!0,{},T.DEFAULTS,{modules:R},P,D),["bounds","container","scrollingContainer"].forEach(function(q){"string"==typeof D[q]&&(D[q]=document.querySelector(D[q]))}),D.modules=Object.keys(D.modules).reduce(function(q,F){return D.modules[F]&&(q[F]=D.modules[F]),q},{}),D}function j(C,D,P,L){if(this.options.strict&&!this.isEnabled()&&D===f.default.sources.USER)return new a.default;var R=null==P?null:this.getSelection(),q=this.editor.delta,F=C();if(null!=R&&(!0===P&&(P=R.index),null==L?R=V(R,F,D):0!==L&&(R=V(R,P,L,D)),this.setSelection(R,f.default.sources.SILENT)),F.length()>0){var M,z,I=[f.default.events.TEXT_CHANGE,F,q,D];(M=this.emitter).emit.apply(M,[f.default.events.EDITOR_CHANGE].concat(I)),D!==f.default.sources.SILENT&&(z=this.emitter).emit.apply(z,I)}return F}function B(C,D,P,L,R){var q={};return"number"==typeof C.index&&"number"==typeof C.length?"number"!=typeof D?(R=L,L=P,P=D,D=C.length,C=C.index):(D=C.length,C=C.index):"number"!=typeof D&&(R=L,L=P,P=D,D=0),"object"===(typeof P>"u"?"undefined":n(P))?(q=P,R=L):"string"==typeof P&&(null!=L?q[P]=L:R=P),[C,D,q,R=R||f.default.sources.API]}function V(C,D,P,L){if(null==C)return null;var R=void 0,q=void 0;if(D instanceof a.default){var F=[C.index,C.index+C.length].map(function(H){return D.transformPosition(H,L!==f.default.sources.USER)}),M=i(F,2);R=M[0],q=M[1]}else{var I=[C.index,C.index+C.length].map(function(H){return H<D||H===D&&L===f.default.sources.USER?H:P>=0?H+P:Math.max(D,H+P)}),z=i(I,2);R=z[0],q=z[1]}return new v.Range(R,q-R)}T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=f.default.events,T.sources=f.default.sources,T.version="1.3.7",T.imports={delta:a.default,parchment:p.default,"core/module":h.default,"core/theme":A.default},t.expandConfig=N,t.overload=B,t.default=T},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function m(p,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,v,y){return v&&m(p.prototype,v),y&&m(p,y),p}}(),i=function m(p,v,y){null===p&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,v);if(void 0===g){var b=Object.getPrototypeOf(p);return null===b?void 0:m(b,v,y)}if("value"in g)return g.value;var E=g.get;return void 0===E?void 0:E.call(y)},s=u(e(7)),l=u(e(0));function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?m:p}var h=function(m){function p(){return c(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return function d(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(p,m),n(p,[{key:"formatAt",value:function(y,g,b,E){if(p.compare(this.statics.blotName,b)<0&&l.default.query(b,l.default.Scope.BLOT)){var _=this.isolate(y,g);E&&_.wrap(b,E)}else i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,y,g,b,E)}},{key:"optimize",value:function(y){if(i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,y),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(y,g){var b=p.order.indexOf(y),E=p.order.indexOf(g);return b>=0||E>=0?b-E:y===g?0:y<g?-1:1}}]),p}(l.default.Inline);h.allowedChildren=[h,l.default.Embed,s.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=h},function(o,t,e){"use strict";function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?c:f}Object.defineProperty(t,"__esModule",{value:!0});var u=function(c){function f(){return s(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function l(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(f,c),f}(function r(c){return c&&c.__esModule?c:{default:c}}(e(0)).default.Text);t.default=u},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function v(y,g){for(var b=0;b<g.length;b++){var E=g[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,g,b){return g&&v(y.prototype,g),b&&v(y,b),y}}(),i=function v(y,g,b){null===y&&(y=Function.prototype);var E=Object.getOwnPropertyDescriptor(y,g);if(void 0===E){var _=Object.getPrototypeOf(y);return null===_?void 0:v(_,g,b)}if("value"in E)return E.value;var k=E.get;return void 0===k?void 0:k.call(b)},s=u(e(54));function u(v){return v&&v.__esModule?v:{default:v}}var h=(0,u(e(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(v){document.addEventListener(v,function(){for(var y=arguments.length,g=Array(y),b=0;b<y;b++)g[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(E){var _;E.__quill&&E.__quill.emitter&&(_=E.__quill.emitter).handleDOM.apply(_,g)})})});var p=function(v){function y(){!function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y);var g=function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?v:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return g.listeners={},g.on("error",h.error),g}return function d(v,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}(y,v),n(y,[{key:"emit",value:function(){h.log.apply(h,arguments),i(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var E=arguments.length,_=Array(E>1?E-1:0),k=1;k<E;k++)_[k-1]=arguments[k];(this.listeners[b.type]||[]).forEach(function(A){var O=A.node,x=A.handler;(b.target===O||O.contains(b.target))&&x.apply(void 0,[b].concat(_))})}},{key:"listenDOM",value:function(b,E,_){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:E,handler:_})}}]),y}(s.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},t.default=p},function(o,t,e){"use strict";function n(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function r(s){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,r),this.quill=s,this.options=a};i.DEFAULTS={},t.default=i},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],i="warn";function r(a){if(n.indexOf(a)<=n.indexOf(i)){for(var l,u=arguments.length,c=Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];(l=console)[a].apply(l,c)}}function s(a){return n.reduce(function(l,u){return l[u]=r.bind(console,u,a),l},{})}r.level=s.level=function(a){i=a},t.default=s},function(o,t,e){var n=Array.prototype.slice,i=e(52),r=e(53),s=o.exports=function(c,f,d){return d||(d={}),c===f||(c instanceof Date&&f instanceof Date?c.getTime()===f.getTime():!c||!f||"object"!=typeof c&&"object"!=typeof f?d.strict?c===f:c==f:function u(c,f,d){var h,m;if(a(c)||a(f)||c.prototype!==f.prototype)return!1;if(r(c))return!!r(f)&&(c=n.call(c),f=n.call(f),s(c,f,d));if(l(c)){if(!l(f)||c.length!==f.length)return!1;for(h=0;h<c.length;h++)if(c[h]!==f[h])return!1;return!0}try{var p=i(c),v=i(f)}catch{return!1}if(p.length!=v.length)return!1;for(p.sort(),v.sort(),h=p.length-1;h>=0;h--)if(p[h]!=v[h])return!1;for(h=p.length-1;h>=0;h--)if(!s(c[m=p[h]],f[m],d))return!1;return typeof c==typeof f}(c,f,d))};function a(c){return null==c}function l(c){return!(!c||"object"!=typeof c||"number"!=typeof c.length||"function"!=typeof c.copy||"function"!=typeof c.slice||c.length>0&&"number"!=typeof c[0])}},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(1),i=function(){function r(s,a,l){void 0===l&&(l={}),this.attrName=s,this.keyName=a,this.scope=null!=l.scope?l.scope&n.Scope.LEVEL|n.Scope.TYPE&n.Scope.ATTRIBUTE:n.Scope.ATTRIBUTE,null!=l.whitelist&&(this.whitelist=l.whitelist)}return r.keys=function(s){return[].map.call(s.attributes,function(a){return a.name})},r.prototype.add=function(s,a){return!!this.canAdd(s,a)&&(s.setAttribute(this.keyName,a),!0)},r.prototype.canAdd=function(s,a){return null!=n.query(s,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof a?this.whitelist.indexOf(a.replace(/["']/g,""))>-1:this.whitelist.indexOf(a)>-1))},r.prototype.remove=function(s){s.removeAttribute(this.keyName)},r.prototype.value=function(s){var a=s.getAttribute(this.keyName);return this.canAdd(s,a)&&a?a:""},r}();t.default=i},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(A,O){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function k(A,O){var x=[],w=!0,S=!1,T=void 0;try{for(var j,N=A[Symbol.iterator]();!(w=(j=N.next()).done)&&(x.push(j.value),!O||x.length!==O);w=!0);}catch(B){S=!0,T=B}finally{try{!w&&N.return&&N.return()}finally{if(S)throw T}}return x}(A,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function k(A,O){for(var x=0;x<O.length;x++){var w=O[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,O,x){return O&&k(A.prototype,O),x&&k(A,x),A}}(),r=function k(A,O,x){null===A&&(A=Function.prototype);var w=Object.getOwnPropertyDescriptor(A,O);if(void 0===w){var S=Object.getPrototypeOf(A);return null===S?void 0:k(S,O,x)}if("value"in w)return w.value;var T=w.get;return void 0===T?void 0:T.call(x)},a=v(e(2)),u=v(e(0)),f=v(e(4)),h=v(e(6)),p=v(e(7));function v(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function g(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?k:A}function b(k,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var E=function(k){function A(){return y(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return b(A,k),A}(h.default);E.blotName="code",E.tagName="CODE";var _=function(k){function A(){return y(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return b(A,k),i(A,[{key:"delta",value:function(){var x=this,w=this.domNode.textContent;return w.endsWith("\n")&&(w=w.slice(0,-1)),w.split("\n").reduce(function(S,T){return S.insert(T).insert("\n",x.formats())},new a.default)}},{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w){var S=this.descendant(p.default,this.length()-1),N=n(S,1)[0];N?.deleteAt(N.length()-1,1),r(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,x,w)}}},{key:"formatAt",value:function(x,w,S,T){if(0!==w&&null!=u.default.query(S,u.default.Scope.BLOCK)&&(S!==this.statics.blotName||T!==this.statics.formats(this.domNode))){var N=this.newlineIndex(x);if(!(N<0||N>=x+w)){var j=this.newlineIndex(x,!0)+1,B=N-j+1,V=this.isolate(j,B),C=V.next;V.format(S,T),C instanceof A&&C.formatAt(0,x-j+w-B,S,T)}}}},{key:"insertAt",value:function(x,w,S){if(null==S){var T=this.descendant(p.default,x),N=n(T,2);N[0].insertAt(N[1],w)}}},{key:"length",value:function(){var x=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?x:x+1}},{key:"newlineIndex",value:function(x){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(w)return this.domNode.textContent.slice(0,x).lastIndexOf("\n");var S=this.domNode.textContent.slice(x).indexOf("\n");return S>-1?x+S:-1}},{key:"optimize",value:function(x){this.domNode.textContent.endsWith("\n")||this.appendChild(u.default.create("text","\n")),r(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,x);var w=this.next;null!=w&&w.prev===this&&w.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===w.statics.formats(w.domNode)&&(w.optimize(x),w.moveChildren(this),w.remove())}},{key:"replace",value:function(x){r(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,x),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(w){var S=u.default.find(w);null==S?w.parentNode.removeChild(w):S instanceof u.default.Embed?S.remove():S.unwrap()})}}],[{key:"create",value:function(x){var w=r(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,x);return w.setAttribute("spellcheck",!1),w}},{key:"formats",value:function(){return!0}}]),A}(f.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",t.Code=E,t.default=_},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i=function(D,P){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return function C(D,P){var L=[],R=!0,q=!1,F=void 0;try{for(var I,M=D[Symbol.iterator]();!(R=(I=M.next()).done)&&(L.push(I.value),!P||L.length!==P);R=!0);}catch(z){q=!0,F=z}finally{try{!R&&M.return&&M.return()}finally{if(q)throw F}}return L}(D,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function C(D,P){for(var L=0;L<P.length;L++){var R=P[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,P,L){return P&&C(D.prototype,P),L&&C(D,L),D}}(),a=w(e(2)),u=w(e(20)),f=w(e(0)),h=w(e(13)),p=w(e(24)),v=e(4),y=w(v),b=w(e(16)),_=w(e(21)),A=w(e(11)),x=w(e(3));function w(C){return C&&C.__esModule?C:{default:C}}var N=/^[ -~]*$/,j=function(){function C(D){(function T(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")})(this,C),this.scroll=D,this.delta=this.getDelta()}return r(C,[{key:"applyDelta",value:function(P){var L=this,R=!1;this.scroll.update();var q=this.scroll.length();return this.scroll.batchStart(),P=function V(C){return C.reduce(function(D,P){if(1===P.insert){var L=(0,_.default)(P.attributes);return delete L.image,D.insert({image:P.attributes.image},L)}if(null!=P.attributes&&(!0===P.attributes.list||!0===P.attributes.bullet)&&((P=(0,_.default)(P)).attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),"string"==typeof P.insert){var R=P.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return D.insert(R,P.attributes)}return D.push(P)},new a.default)}(P),P.reduce(function(F,M){var I=M.retain||M.delete||M.insert.length||1,z=M.attributes||{};if(null!=M.insert){if("string"==typeof M.insert){var H=M.insert;H.endsWith("\n")&&R&&(R=!1,H=H.slice(0,-1)),F>=q&&!H.endsWith("\n")&&(R=!0),L.scroll.insertAt(F,H);var $=L.scroll.line(F),G=i($,2),Z=G[0],Q=G[1],nt=(0,x.default)({},(0,v.bubbleFormats)(Z));if(Z instanceof y.default){var rt=Z.descendant(f.default.Leaf,Q),_t=i(rt,1);nt=(0,x.default)(nt,(0,v.bubbleFormats)(_t[0]))}z=u.default.attributes.diff(nt,z)||{}}else if("object"===n(M.insert)){var W=Object.keys(M.insert)[0];if(null==W)return F;L.scroll.insertAt(F,W,M.insert[W])}q+=I}return Object.keys(z).forEach(function(U){L.scroll.formatAt(F,I,U,z[U])}),F+I},0),P.reduce(function(F,M){return"number"==typeof M.delete?(L.scroll.deleteAt(F,M.delete),F):F+(M.retain||M.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,L){return this.scroll.deleteAt(P,L),this.update((new a.default).retain(P).delete(L))}},{key:"formatLine",value:function(P,L){var R=this,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(q).forEach(function(F){if(null==R.scroll.whitelist||R.scroll.whitelist[F]){var M=R.scroll.lines(P,Math.max(L,1)),I=L;M.forEach(function(z){var H=z.length();if(z instanceof h.default){var $=P-z.offset(R.scroll),G=z.newlineIndex($+I)-$+1;z.formatAt($,G,F,q[F])}else z.format(F,q[F]);I-=H})}}),this.scroll.optimize(),this.update((new a.default).retain(P).retain(L,(0,_.default)(q)))}},{key:"formatText",value:function(P,L){var R=this,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(q).forEach(function(F){R.scroll.formatAt(P,L,F,q[F])}),this.update((new a.default).retain(P).retain(L,(0,_.default)(q)))}},{key:"getContents",value:function(P,L){return this.delta.slice(P,P+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,L){return P.concat(L.delta())},new a.default)}},{key:"getFormat",value:function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=[],q=[];0===L?this.scroll.path(P).forEach(function(M){var z=i(M,1)[0];z instanceof y.default?R.push(z):z instanceof f.default.Leaf&&q.push(z)}):(R=this.scroll.lines(P,L),q=this.scroll.descendants(f.default.Leaf,P,L));var F=[R,q].map(function(M){if(0===M.length)return{};for(var I=(0,v.bubbleFormats)(M.shift());Object.keys(I).length>0;){var z=M.shift();if(null==z)return I;I=B((0,v.bubbleFormats)(z),I)}return I});return x.default.apply(x.default,F)}},{key:"getText",value:function(P,L){return this.getContents(P,L).filter(function(R){return"string"==typeof R.insert}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(P,L,R){return this.scroll.insertAt(P,L,R),this.update((new a.default).retain(P).insert(function S(C,D,P){return D in C?Object.defineProperty(C,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):C[D]=P,C}({},L,R)))}},{key:"insertText",value:function(P,L){var R=this,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L=L.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(P,L),Object.keys(q).forEach(function(F){R.scroll.formatAt(P,L.length,F,q[F])}),this.update((new a.default).retain(P).insert(L,(0,_.default)(q)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return!(P.statics.blotName!==y.default.blotName||P.children.length>1)&&P.children.head instanceof b.default}},{key:"removeFormat",value:function(P,L){var R=this.getText(P,L),q=this.scroll.line(P+L),F=i(q,2),M=F[0],I=F[1],z=0,H=new a.default;null!=M&&(z=M instanceof h.default?M.newlineIndex(I)-I+1:M.length()-I,H=M.delta().slice(I,I+z-1).insert("\n"));var G=this.getContents(P,L+z).diff((new a.default).insert(R).concat(H)),Z=(new a.default).retain(P).concat(G);return this.applyDelta(Z)}},{key:"update",value:function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,q=this.delta;if(1===L.length&&"characterData"===L[0].type&&L[0].target.data.match(N)&&f.default.find(L[0].target)){var F=f.default.find(L[0].target),M=(0,v.bubbleFormats)(F),I=F.offset(this.scroll),z=L[0].oldValue.replace(p.default.CONTENTS,""),H=(new a.default).insert(z),$=(new a.default).insert(F.value()),G=(new a.default).retain(I).concat(H.diff($,R));P=G.reduce(function(Z,Q){return Q.insert?Z.insert(Q.insert,M):Z.push(Q)},new a.default),this.delta=q.compose(P)}else this.delta=this.getDelta(),(!P||!(0,A.default)(q.compose(P),this.delta))&&(P=q.diff(this.delta,R));return P}}]),C}();function B(C,D){return Object.keys(D).reduce(function(P,L){return null==C[L]||(D[L]===C[L]?P[L]=D[L]:Array.isArray(D[L])?D[L].indexOf(C[L])<0&&(P[L]=D[L].concat([C[L]])):P[L]=[D[L],C[L]]),P},{})}t.default=j},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(A,O){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function k(A,O){var x=[],w=!0,S=!1,T=void 0;try{for(var j,N=A[Symbol.iterator]();!(w=(j=N.next()).done)&&(x.push(j.value),!O||x.length!==O);w=!0);}catch(B){S=!0,T=B}finally{try{!w&&N.return&&N.return()}finally{if(S)throw T}}return x}(A,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function k(A,O){for(var x=0;x<O.length;x++){var w=O[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,O,x){return O&&k(A.prototype,O),x&&k(A,x),A}}(),s=p(e(0)),l=p(e(21)),c=p(e(11)),d=p(e(8));function p(k){return k&&k.__esModule?k:{default:k}}function v(k){if(Array.isArray(k)){for(var A=0,O=Array(k.length);A<k.length;A++)O[A]=k[A];return O}return Array.from(k)}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}var g=(0,p(e(10)).default)("quill:selection"),b=function k(A){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y(this,k),this.index=A,this.length=O},E=function(){function k(A,O){var x=this;y(this,k),this.emitter=O,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){x.mouseDown||setTimeout(x.update.bind(x,d.default.sources.USER),1)}),this.emitter.on(d.default.events.EDITOR_CHANGE,function(w,S){w===d.default.events.TEXT_CHANGE&&S.length()>0&&x.update(d.default.sources.SILENT)}),this.emitter.on(d.default.events.SCROLL_BEFORE_UPDATE,function(){if(x.hasFocus()){var w=x.getNativeRange();null!=w&&w.start.node!==x.cursor.textNode&&x.emitter.once(d.default.events.SCROLL_UPDATE,function(){try{x.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch{}})}}),this.emitter.on(d.default.events.SCROLL_OPTIMIZE,function(w,S){if(S.range){var T=S.range;x.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)}}),this.update(d.default.sources.SILENT)}return i(k,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var x=O.cursor.restore();if(!x)return;setTimeout(function(){O.setNativeRange(x.startNode,x.startOffset,x.endNode,x.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(d.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,x){if(null==this.scroll.whitelist||this.scroll.whitelist[O]){this.scroll.update();var w=this.getNativeRange();if(null!=w&&w.native.collapsed&&!s.default.query(O,s.default.Scope.BLOCK)){if(w.start.node!==this.cursor.textNode){var S=s.default.find(w.start.node,!1);if(null==S)return;if(S instanceof s.default.Leaf){var T=S.split(w.start.offset);S.parent.insertBefore(this.cursor,T)}else S.insertBefore(this.cursor,w.start.node);this.cursor.attach()}this.cursor.format(O,x),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,w=this.scroll.length();O=Math.min(O,w-1),x=Math.min(O+x,w-1)-O;var S=void 0,T=this.scroll.leaf(O),N=n(T,2),j=N[0],B=N[1];if(null==j)return null;var V=j.position(B,!0),C=n(V,2);S=C[0],B=C[1];var D=document.createRange();if(x>0){D.setStart(S,B);var P=this.scroll.leaf(O+x),L=n(P,2);if(null==(j=L[0]))return null;var R=j.position(B=L[1],!0),q=n(R,2);return D.setEnd(S=q[0],B=q[1]),D.getBoundingClientRect()}var F="left",M=void 0;return S instanceof Text?(B<S.data.length?(D.setStart(S,B),D.setEnd(S,B+1)):(D.setStart(S,B-1),D.setEnd(S,B),F="right"),M=D.getBoundingClientRect()):(M=j.domNode.getBoundingClientRect(),B>0&&(F="right")),{bottom:M.top+M.height,height:M.height,left:M[F],right:M[F],top:M.top,width:0}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(null==O||O.rangeCount<=0)return null;var x=O.getRangeAt(0);if(null==x)return null;var w=this.normalizeNative(x);return g.info("getNativeRange",w),w}},{key:"getRange",value:function(){var O=this.getNativeRange();return null==O?[null,null]:[this.normalizedToRange(O),O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var x=this,w=[[O.start.node,O.start.offset]];O.native.collapsed||w.push([O.end.node,O.end.offset]);var S=w.map(function(j){var B=n(j,2),V=B[0],C=B[1],D=s.default.find(V,!0),P=D.offset(x.scroll);return 0===C?P:D instanceof s.default.Container?P+D.length():P+D.index(V,C)}),T=Math.min(Math.max.apply(Math,v(S)),this.scroll.length()-1),N=Math.min.apply(Math,[T].concat(v(S)));return new b(N,T-N)}},{key:"normalizeNative",value:function(O){if(!_(this.root,O.startContainer)||!O.collapsed&&!_(this.root,O.endContainer))return null;var x={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[x.start,x.end].forEach(function(w){for(var S=w.node,T=w.offset;!(S instanceof Text)&&S.childNodes.length>0;)if(S.childNodes.length>T)S=S.childNodes[T],T=0;else{if(S.childNodes.length!==T)break;T=(S=S.lastChild)instanceof Text?S.data.length:S.childNodes.length+1}w.node=S,w.offset=T}),x}},{key:"rangeToNative",value:function(O){var x=this,w=O.collapsed?[O.index]:[O.index,O.index+O.length],S=[],T=this.scroll.length();return w.forEach(function(N,j){N=Math.min(T-1,N);var V=x.scroll.leaf(N),C=n(V,2),P=C[1],L=C[0].position(P,0!==j),R=n(L,2);S.push(R[0],P=R[1])}),S.length<2&&(S=S.concat(S)),S}},{key:"scrollIntoView",value:function(O){var x=this.lastRange;if(null!=x){var w=this.getBounds(x.index,x.length);if(null!=w){var S=this.scroll.length()-1,T=this.scroll.line(Math.min(x.index,S)),j=n(T,1)[0],B=j;if(x.length>0){var V=this.scroll.line(Math.min(x.index+x.length,S));B=n(V,1)[0]}if(null!=j&&null!=B){var D=O.getBoundingClientRect();w.top<D.top?O.scrollTop-=D.top-w.top:w.bottom>D.bottom&&(O.scrollTop+=w.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(O,x){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x,T=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(g.info("setNativeRange",O,x,w,S),null==O||null!=this.root.parentNode&&null!=O.parentNode&&null!=w.parentNode){var N=document.getSelection();if(null!=N)if(null!=O){this.hasFocus()||this.root.focus();var j=(this.getNativeRange()||{}).native;if(null==j||T||O!==j.startContainer||x!==j.startOffset||w!==j.endContainer||S!==j.endOffset){"BR"==O.tagName&&(x=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),"BR"==w.tagName&&(S=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode);var B=document.createRange();B.setStart(O,x),B.setEnd(w,S),N.removeAllRanges(),N.addRange(B)}}else N.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default.sources.API;if("string"==typeof x&&(w=x,x=!1),g.info("setRange",O),null!=O){var S=this.rangeToNative(O);this.setNativeRange.apply(this,v(S).concat([x]))}else this.setNativeRange(null);this.update(w)}},{key:"update",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.sources.USER,x=this.lastRange,w=this.getRange(),S=n(w,2),T=S[0],N=S[1];if(this.lastRange=T,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,c.default)(x,this.lastRange)){var j;!this.composing&&null!=N&&N.native.collapsed&&N.start.node!==this.cursor.textNode&&this.cursor.restore();var V,B=[d.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(x),O];(j=this.emitter).emit.apply(j,[d.default.events.EDITOR_CHANGE].concat(B)),O!==d.default.sources.SILENT&&(V=this.emitter).emit.apply(V,B)}}}]),k}();function _(k,A){return A instanceof Text&&(A=A.parentNode),k.contains(A)}t.Range=b,t.default=E},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function d(h,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,p){return m&&d(h.prototype,m),p&&d(h,p),h}}(),i=function d(h,m,p){null===h&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,m);if(void 0===v){var y=Object.getPrototypeOf(h);return null===y?void 0:d(y,m,p)}if("value"in v)return v.value;var g=v.get;return void 0===g?void 0:g.call(p)};function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?d:h}var f=function(d){function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function c(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}(h,d),n(h,[{key:"insertInto",value:function(p,v){0===p.children.length?i(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,p,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(function a(d){return d&&d.__esModule?d:{default:d}}(e(0)).default.Embed);f.blotName="break",f.tagName="BR",t.default=f},function(o,t,e){"use strict";var u,n=this&&this.__extends||(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])},function(c,f){function d(){this.constructor=c}u(c,f),c.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)});Object.defineProperty(t,"__esModule",{value:!0});var i=e(44),r=e(30),s=e(1),a=function(u){function c(f){var d=u.call(this,f)||this;return d.build(),d}return n(c,u),c.prototype.appendChild=function(f){this.insertBefore(f)},c.prototype.attach=function(){u.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},c.prototype.build=function(){var f=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(d){try{var h=l(d);f.insertBefore(h,f.children.head||void 0)}catch(m){if(m instanceof s.ParchmentError)return;throw m}})},c.prototype.deleteAt=function(f,d){if(0===f&&d===this.length())return this.remove();this.children.forEachAt(f,d,function(h,m,p){h.deleteAt(m,p)})},c.prototype.descendant=function(f,d){var h=this.children.find(d),m=h[0],p=h[1];return null==f.blotName&&f(m)||null!=f.blotName&&m instanceof f?[m,p]:m instanceof c?m.descendant(f,p):[null,-1]},c.prototype.descendants=function(f,d,h){void 0===d&&(d=0),void 0===h&&(h=Number.MAX_VALUE);var m=[],p=h;return this.children.forEachAt(d,h,function(v,y,g){(null==f.blotName&&f(v)||null!=f.blotName&&v instanceof f)&&m.push(v),v instanceof c&&(m=m.concat(v.descendants(f,y,p))),p-=g}),m},c.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),u.prototype.detach.call(this)},c.prototype.formatAt=function(f,d,h,m){this.children.forEachAt(f,d,function(p,v,y){p.formatAt(v,y,h,m)})},c.prototype.insertAt=function(f,d,h){var m=this.children.find(f),p=m[0];if(p)p.insertAt(m[1],d,h);else{var y=null==h?s.create("text",d):s.create(d,h);this.appendChild(y)}},c.prototype.insertBefore=function(f,d){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(h){return f instanceof h}))throw new s.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,d)},c.prototype.length=function(){return this.children.reduce(function(f,d){return f+d.length()},0)},c.prototype.moveChildren=function(f,d){this.children.forEach(function(h){f.insertBefore(h,d)})},c.prototype.optimize=function(f){if(u.prototype.optimize.call(this,f),0===this.children.length)if(null!=this.statics.defaultChild){var d=s.create(this.statics.defaultChild);this.appendChild(d),d.optimize(f)}else this.remove()},c.prototype.path=function(f,d){void 0===d&&(d=!1);var h=this.children.find(f,d),m=h[0],p=h[1],v=[[this,f]];return m instanceof c?v.concat(m.path(p,d)):(null!=m&&v.push([m,p]),v)},c.prototype.removeChild=function(f){this.children.remove(f)},c.prototype.replace=function(f){f instanceof c&&f.moveChildren(this),u.prototype.replace.call(this,f)},c.prototype.split=function(f,d){if(void 0===d&&(d=!1),!d){if(0===f)return this;if(f===this.length())return this.next}var h=this.clone();return this.parent.insertBefore(h,this.next),this.children.forEachAt(f,this.length(),function(m,p,v){m=m.split(p,d),h.appendChild(m)}),h},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(f,d){var h=this,m=[],p=[];f.forEach(function(v){v.target===h.domNode&&"childList"===v.type&&(m.push.apply(m,v.addedNodes),p.push.apply(p,v.removedNodes))}),p.forEach(function(v){if(!(null!=v.parentNode&&"IFRAME"!==v.tagName&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=s.find(v);null!=y&&(null==y.domNode.parentNode||y.domNode.parentNode===h.domNode)&&y.detach()}}),m.filter(function(v){return v.parentNode==h.domNode}).sort(function(v,y){return v===y?0:v.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var y=null;null!=v.nextSibling&&(y=s.find(v.nextSibling));var g=l(v);(g.next!=y||null==g.next)&&(null!=g.parent&&g.parent.removeChild(h),h.insertBefore(g,y||void 0))})},c}(r.default);function l(u){var c=s.find(u);if(null==c)try{c=s.create(u)}catch{c=s.create(s.Scope.INLINE),[].slice.call(u.childNodes).forEach(function(d){c.domNode.appendChild(d)}),u.parentNode&&u.parentNode.replaceChild(c.domNode,u),c.attach()}return c}t.default=a},function(o,t,e){"use strict";var u,n=this&&this.__extends||(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])},function(c,f){function d(){this.constructor=c}u(c,f),c.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)});Object.defineProperty(t,"__esModule",{value:!0});var i=e(12),r=e(31),s=e(17),a=e(1),l=function(u){function c(f){var d=u.call(this,f)||this;return d.attributes=new r.default(d.domNode),d}return n(c,u),c.formats=function(f){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?f.tagName.toLowerCase():void 0)},c.prototype.format=function(f,d){var h=a.query(f);h instanceof i.default?this.attributes.attribute(h,d):d&&null!=h&&(f!==this.statics.blotName||this.formats()[f]!==d)&&this.replaceWith(f,d)},c.prototype.formats=function(){var f=this.attributes.values(),d=this.statics.formats(this.domNode);return null!=d&&(f[this.statics.blotName]=d),f},c.prototype.replaceWith=function(f,d){var h=u.prototype.replaceWith.call(this,f,d);return this.attributes.copy(h),h},c.prototype.update=function(f,d){var h=this;u.prototype.update.call(this,f,d),f.some(function(m){return m.target===h.domNode&&"attributes"===m.type})&&this.attributes.build()},c.prototype.wrap=function(f,d){var h=u.prototype.wrap.call(this,f,d);return h instanceof c&&h.statics.scope===this.statics.scope&&this.attributes.move(h),h},c}(s.default);t.default=l},function(o,t,e){"use strict";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},function(l,u){function c(){this.constructor=l}a(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0});var i=e(30),r=e(1),s=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return n(l,a),l.value=function(u){return!0},l.prototype.index=function(u,c){return this.domNode===u||this.domNode.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},l.prototype.position=function(u,c){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return u>0&&(f+=1),[this.parent.domNode,f]},l.prototype.value=function(){var u;return(u={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,u},l.scope=r.Scope.INLINE_BLOT,l}(i.default);t.default=s},function(o,t,e){var n=e(11),i=e(3),r={attributes:{compose:function(a,l,u){"object"!=typeof a&&(a={}),"object"!=typeof l&&(l={});var c=i(!0,{},l);for(var f in u||(c=Object.keys(c).reduce(function(d,h){return null!=c[h]&&(d[h]=c[h]),d},{})),a)void 0!==a[f]&&void 0===l[f]&&(c[f]=a[f]);return Object.keys(c).length>0?c:void 0},diff:function(a,l){"object"!=typeof a&&(a={}),"object"!=typeof l&&(l={});var u=Object.keys(a).concat(Object.keys(l)).reduce(function(c,f){return n(a[f],l[f])||(c[f]=void 0===l[f]?null:l[f]),c},{});return Object.keys(u).length>0?u:void 0},transform:function(a,l,u){if("object"!=typeof a)return l;if("object"==typeof l){if(!u)return l;var c=Object.keys(l).reduce(function(f,d){return void 0===a[d]&&(f[d]=l[d]),f},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(a){return new s(a)},length:function(a){return"number"==typeof a.delete?a.delete:"number"==typeof a.retain?a.retain:"string"==typeof a.insert?a.insert.length:1}};function s(a){this.ops=a,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(a){a||(a=1/0);var l=this.ops[this.index];if(l){var u=this.offset,c=r.length(l);if(a>=c-u?(a=c-u,this.index+=1,this.offset=0):this.offset+=a,"number"==typeof l.delete)return{delete:a};var f={};return l.attributes&&(f.attributes=l.attributes),"number"==typeof l.retain?f.retain=a:f.insert="string"==typeof l.insert?l.insert.substr(u,a):l.insert,f}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?r.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var a=this.offset,l=this.index,u=this.next(),c=this.ops.slice(this.index);return this.offset=a,this.index=l,[u].concat(c)}return[]},o.exports=r},function(o,t){var e=function(){"use strict";function n(h,m){return null!=m&&h instanceof m}var i,r,s;try{i=Map}catch{i=function(){}}try{r=Set}catch{r=function(){}}try{s=Promise}catch{s=function(){}}function a(h,m,p,v,y){"object"==typeof m&&(p=m.depth,v=m.prototype,y=m.includeNonEnumerable,m=m.circular);var g=[],b=[],E=typeof Buffer<"u";return typeof m>"u"&&(m=!0),typeof p>"u"&&(p=1/0),function _(k,A){if(null===k)return null;if(0===A)return k;var O,x;if("object"!=typeof k)return k;if(n(k,i))O=new i;else if(n(k,r))O=new r;else if(n(k,s))O=new s(function(D,P){k.then(function(L){D(_(L,A-1))},function(L){P(_(L,A-1))})});else if(a.__isArray(k))O=[];else if(a.__isRegExp(k))O=new RegExp(k.source,d(k)),k.lastIndex&&(O.lastIndex=k.lastIndex);else if(a.__isDate(k))O=new Date(k.getTime());else{if(E&&Buffer.isBuffer(k))return O=Buffer.allocUnsafe?Buffer.allocUnsafe(k.length):new Buffer(k.length),k.copy(O),O;n(k,Error)?O=Object.create(k):typeof v>"u"?(x=Object.getPrototypeOf(k),O=Object.create(x)):(O=Object.create(v),x=v)}if(m){var w=g.indexOf(k);if(-1!=w)return b[w];g.push(k),b.push(O)}for(var S in n(k,i)&&k.forEach(function(D,P){var L=_(P,A-1),R=_(D,A-1);O.set(L,R)}),n(k,r)&&k.forEach(function(D){var P=_(D,A-1);O.add(P)}),k){var T;x&&(T=Object.getOwnPropertyDescriptor(x,S)),(!T||null!=T.set)&&(O[S]=_(k[S],A-1))}if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(k);for(S=0;S<N.length;S++){var j=N[S];(B=Object.getOwnPropertyDescriptor(k,j))&&!B.enumerable&&!y||(O[j]=_(k[j],A-1),B.enumerable||Object.defineProperty(O,j,{enumerable:!1}))}}if(y){var V=Object.getOwnPropertyNames(k);for(S=0;S<V.length;S++){var B,C=V[S];(B=Object.getOwnPropertyDescriptor(k,C))&&B.enumerable||(O[C]=_(k[C],A-1),Object.defineProperty(O,C,{enumerable:!1}))}}return O}(h,p)}function l(h){return Object.prototype.toString.call(h)}function d(h){var m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),m}return a.clonePrototype=function(m){if(null===m)return null;var p=function(){};return p.prototype=m,new p},a.__objToStr=l,a.__isDate=function u(h){return"object"==typeof h&&"[object Date]"===l(h)},a.__isArray=function c(h){return"object"==typeof h&&"[object Array]"===l(h)},a.__isRegExp=function f(h){return"object"==typeof h&&"[object RegExp]"===l(h)},a.__getRegExpFlags=d,a}();"object"==typeof o&&o.exports&&(o.exports=e)},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return function O(x,w){var S=[],T=!0,N=!1,j=void 0;try{for(var V,B=x[Symbol.iterator]();!(T=(V=B.next()).done)&&(S.push(V.value),!w||S.length!==w);T=!0);}catch(C){N=!0,j=C}finally{try{!T&&B.return&&B.return()}finally{if(N)throw j}}return S}(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function O(x,w){for(var S=0;S<w.length;S++){var T=w[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,w,S){return w&&O(x.prototype,w),S&&O(x,S),x}}(),r=function O(x,w,S){null===x&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,w);if(void 0===T){var N=Object.getPrototypeOf(x);return null===N?void 0:O(N,w,S)}if("value"in T)return T.value;var j=T.get;return void 0===j?void 0:j.call(S)},a=g(e(0)),u=g(e(8)),c=e(4),f=g(c),h=g(e(16)),p=g(e(13)),y=g(e(25));function g(O){return O&&O.__esModule?O:{default:O}}function k(O){return O instanceof f.default||O instanceof c.BlockEmbed}var A=function(O){function x(w,S){!function b(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var T=function E(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return T.emitter=S.emitter,Array.isArray(S.whitelist)&&(T.whitelist=S.whitelist.reduce(function(N,j){return N[j]=!0,N},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return function _(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}(x,O),i(x,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(S,T){var N=this.line(S),j=n(N,2),B=j[0],V=j[1],C=this.line(S+T),P=n(C,1)[0];if(r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,S,T),null!=P&&B!==P&&V>0){if(B instanceof c.BlockEmbed||P instanceof c.BlockEmbed)return void this.optimize();if(B instanceof p.default){var L=B.newlineIndex(B.length(),!0);if(L>-1&&(B=B.split(L+1))===P)return void this.optimize()}else if(P instanceof p.default){var R=P.newlineIndex(0);R>-1&&P.split(R+1)}B.moveChildren(P,P.children.head instanceof h.default?null:P.children.head),B.remove()}this.optimize()}},{key:"enable",value:function(){var S=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",S)}},{key:"formatAt",value:function(S,T,N,j){null!=this.whitelist&&!this.whitelist[N]||(r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,S,T,N,j),this.optimize())}},{key:"insertAt",value:function(S,T,N){if(null==N||null==this.whitelist||this.whitelist[T]){if(S>=this.length())if(null==N||null==a.default.query(T,a.default.Scope.BLOCK)){var j=a.default.create(this.statics.defaultChild);this.appendChild(j),null==N&&T.endsWith("\n")&&(T=T.slice(0,-1)),j.insertAt(0,T,N)}else{var B=a.default.create(T,N);this.appendChild(B)}else r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,S,T,N);this.optimize()}}},{key:"insertBefore",value:function(S,T){if(S.statics.scope===a.default.Scope.INLINE_BLOT){var N=a.default.create(this.statics.defaultChild);N.appendChild(S),S=N}r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,S,T)}},{key:"leaf",value:function(S){return this.path(S).pop()||[null,-1]}},{key:"line",value:function(S){return S===this.length()?this.line(S-1):this.descendant(k,S)}},{key:"lines",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,N=function j(B,V,C){var D=[],P=C;return B.children.forEachAt(V,C,function(L,R,q){k(L)?D.push(L):L instanceof a.default.Container&&(D=D.concat(j(L,R,P))),P-=q}),D};return N(this,S,T)}},{key:"optimize",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,S,T),S.length>0&&this.emitter.emit(u.default.events.SCROLL_OPTIMIZE,S,T))}},{key:"path",value:function(S){return r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,S).slice(1)}},{key:"update",value:function(S){if(!0!==this.batch){var T=u.default.sources.USER;"string"==typeof S&&(T=S),Array.isArray(S)||(S=this.observer.takeRecords()),S.length>0&&this.emitter.emit(u.default.events.SCROLL_BEFORE_UPDATE,T,S),r(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"update",this).call(this,S.concat([])),S.length>0&&this.emitter.emit(u.default.events.SCROLL_UPDATE,T,S)}}}]),x}(a.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[f.default,c.BlockEmbed,y.default],t.default=A},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},i=function(I,z){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function M(I,z){var H=[],$=!0,G=!1,Z=void 0;try{for(var nt,Q=I[Symbol.iterator]();!($=(nt=Q.next()).done)&&(H.push(nt.value),!z||H.length!==z);$=!0);}catch(rt){G=!0,Z=rt}finally{try{!$&&Q.return&&Q.return()}finally{if(G)throw Z}}return H}(I,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function M(I,z){for(var H=0;H<z.length;H++){var $=z[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,z,H){return z&&M(I.prototype,z),H&&M(I,H),I}}(),a=O(e(21)),u=O(e(11)),f=O(e(3)),h=O(e(2)),p=O(e(20)),y=O(e(0)),b=O(e(5)),_=O(e(10)),A=O(e(9));function O(M){return M&&M.__esModule?M:{default:M}}function x(M,I,z){return I in M?Object.defineProperty(M,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):M[I]=z,M}var N=(0,_.default)("quill:keyboard"),j=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(M){function I(z,H){!function w(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I);var $=function S(M,I){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?M:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,z,H));return $.bindings={},Object.keys($.options.bindings).forEach(function(G){"list autofill"===G&&null!=z.scroll.whitelist&&!z.scroll.whitelist.list||$.options.bindings[G]&&$.addBinding($.options.bindings[G])}),$.addBinding({key:I.keys.ENTER,shiftKey:null},L),$.addBinding({key:I.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?($.addBinding({key:I.keys.BACKSPACE},{collapsed:!0},C),$.addBinding({key:I.keys.DELETE},{collapsed:!0},D)):($.addBinding({key:I.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},C),$.addBinding({key:I.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),$.addBinding({key:I.keys.BACKSPACE},{collapsed:!1},P),$.addBinding({key:I.keys.DELETE},{collapsed:!1},P),$.addBinding({key:I.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},C),$.listen(),$}return function T(M,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);M.prototype=Object.create(I&&I.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(M,I):M.__proto__=I)}(I,M),r(I,null,[{key:"match",value:function(H,$){return $=F($),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(G){return!!$[G]!==H[G]&&null!==$[G]})&&$.key===(H.which||H.keyCode)}}]),r(I,[{key:"addBinding",value:function(H){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Z=F(H);if(null==Z||null==Z.key)return N.warn("Attempted to add invalid keyboard binding",Z);"function"==typeof $&&($={handler:$}),"function"==typeof G&&(G={handler:G}),Z=(0,f.default)(Z,$,G),this.bindings[Z.key]=this.bindings[Z.key]||[],this.bindings[Z.key].push(Z)}},{key:"listen",value:function(){var H=this;this.quill.root.addEventListener("keydown",function($){if(!$.defaultPrevented){var Z=(H.bindings[$.which||$.keyCode]||[]).filter(function(ct){return I.match($,ct)});if(0!==Z.length){var Q=H.quill.getSelection();if(null!=Q&&H.quill.hasFocus()){var nt=H.quill.getLine(Q.index),rt=i(nt,2),_t=rt[0],dt=rt[1],W=H.quill.getLeaf(Q.index),U=i(W,2),Y=U[0],X=U[1],K=0===Q.length?[Y,X]:H.quill.getLeaf(Q.index+Q.length),J=i(K,2),tt=J[0],et=J[1],Et=Y instanceof y.default.Text?Y.value().slice(0,X):"",Nt=tt instanceof y.default.Text?tt.value().slice(et):"",lt={collapsed:0===Q.length,empty:0===Q.length&&_t.length()<=1,format:H.quill.getFormat(Q),offset:dt,prefix:Et,suffix:Nt};Z.some(function(ct){if(null!=ct.collapsed&&ct.collapsed!==lt.collapsed||null!=ct.empty&&ct.empty!==lt.empty||null!=ct.offset&&ct.offset!==lt.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(Bt){return null==lt.format[Bt]}))return!1}else if("object"===n(ct.format)&&!Object.keys(ct.format).every(function(Bt){return!0===ct.format[Bt]?null!=lt.format[Bt]:!1===ct.format[Bt]?null==lt.format[Bt]:(0,u.default)(ct.format[Bt],lt.format[Bt])}))return!1;return!(null!=ct.prefix&&!ct.prefix.test(lt.prefix)||null!=ct.suffix&&!ct.suffix.test(lt.suffix))&&!0!==ct.handler.call(H,Q,lt)})&&$.preventDefault()}}}})}}]),I}(A.default);function V(M,I){var z;return x(z={key:M,shiftKey:I,altKey:null},M===B.keys.LEFT?"prefix":"suffix",/^$/),x(z,"handler",function(G){var Z=G.index;M===B.keys.RIGHT&&(Z+=G.length+1);var Q=this.quill.getLeaf(Z);return!(i(Q,1)[0]instanceof y.default.Embed&&(M===B.keys.LEFT?I?this.quill.setSelection(G.index-1,G.length+1,b.default.sources.USER):this.quill.setSelection(G.index-1,b.default.sources.USER):I?this.quill.setSelection(G.index,G.length+1,b.default.sources.USER):this.quill.setSelection(G.index+G.length+1,b.default.sources.USER),1))}),z}function C(M,I){if(!(0===M.index||this.quill.getLength()<=1)){var z=this.quill.getLine(M.index),$=i(z,1)[0],G={};if(0===I.offset){var Z=this.quill.getLine(M.index-1),nt=i(Z,1)[0];if(null!=nt&&nt.length()>1){var rt=$.formats(),_t=this.quill.getFormat(M.index-1,1);G=p.default.attributes.diff(rt,_t)||{}}}var dt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(I.prefix)?2:1;this.quill.deleteText(M.index-dt,dt,b.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(M.index-dt,dt,G,b.default.sources.USER),this.quill.focus()}}function D(M,I){var z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(I.suffix)?2:1;if(!(M.index>=this.quill.getLength()-z)){var H={},$=0,G=this.quill.getLine(M.index),Q=i(G,1)[0];if(I.offset>=Q.length()-1){var nt=this.quill.getLine(M.index+1),_t=i(nt,1)[0];if(_t){var dt=Q.formats(),W=this.quill.getFormat(M.index,1);H=p.default.attributes.diff(dt,W)||{},$=_t.length()}}this.quill.deleteText(M.index,z,b.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(M.index+$-1,z,H,b.default.sources.USER)}}function P(M){var I=this.quill.getLines(M),z={};if(I.length>1){var H=I[0].formats(),$=I[I.length-1].formats();z=p.default.attributes.diff($,H)||{}}this.quill.deleteText(M,b.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(M.index,1,z,b.default.sources.USER),this.quill.setSelection(M.index,b.default.sources.SILENT),this.quill.focus()}function L(M,I){var z=this;M.length>0&&this.quill.scroll.deleteAt(M.index,M.length);var H=Object.keys(I.format).reduce(function($,G){return y.default.query(G,y.default.Scope.BLOCK)&&!Array.isArray(I.format[G])&&($[G]=I.format[G]),$},{});this.quill.insertText(M.index,"\n",H,b.default.sources.USER),this.quill.setSelection(M.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(I.format).forEach(function($){null==H[$]&&(Array.isArray(I.format[$])||"link"!==$&&z.quill.format($,I.format[$],b.default.sources.USER))})}function R(M){return{key:B.keys.TAB,shiftKey:!M,format:{"code-block":!0},handler:function(z){var H=y.default.query("code-block"),$=z.index,G=z.length,Z=this.quill.scroll.descendant(H,$),Q=i(Z,2),nt=Q[0],rt=Q[1];if(null!=nt){var _t=this.quill.getIndex(nt),dt=nt.newlineIndex(rt,!0)+1,W=nt.newlineIndex(_t+rt+G),U=nt.domNode.textContent.slice(dt,W).split("\n");rt=0,U.forEach(function(Y,X){M?(nt.insertAt(dt+rt,H.TAB),rt+=H.TAB.length,0===X?$+=H.TAB.length:G+=H.TAB.length):Y.startsWith(H.TAB)&&(nt.deleteAt(dt+rt,H.TAB.length),rt-=H.TAB.length,0===X?$-=H.TAB.length:G-=H.TAB.length),rt+=Y.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection($,G,b.default.sources.SILENT)}}}}function q(M){return{key:M[0].toUpperCase(),shortKey:!0,handler:function(z,H){this.quill.format(M,!H.format[M],b.default.sources.USER)}}}function F(M){if("string"==typeof M||"number"==typeof M)return F({key:M});if("object"===(typeof M>"u"?"undefined":n(M))&&(M=(0,a.default)(M,!1)),"string"==typeof M.key)if(null!=B.keys[M.key.toUpperCase()])M.key=B.keys[M.key.toUpperCase()];else{if(1!==M.key.length)return null;M.key=M.key.toUpperCase().charCodeAt(0)}return M.shortKey&&(M[j]=M.shortKey,delete M.shortKey),M}B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:q("bold"),italic:q("italic"),underline:q("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(I,z){if(z.collapsed&&0!==z.offset)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(I,z){if(z.collapsed&&0!==z.offset)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(I,z){null!=z.format.indent?this.quill.format("indent","-1",b.default.sources.USER):null!=z.format.list&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(I){this.quill.deleteText(I.index-1,1,b.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(I){this.quill.history.cutoff();var z=(new h.default).retain(I.index).delete(I.length).insert("\t");this.quill.updateContents(z,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(I.index+1,b.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(I,z){this.quill.format("list",!1,b.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(I){var z=this.quill.getLine(I.index),H=i(z,2),$=H[0],G=H[1],Z=(0,f.default)({},$.formats(),{list:"checked"}),Q=(new h.default).retain(I.index).insert("\n",Z).retain($.length()-G-1).retain(1,{list:"unchecked"});this.quill.updateContents(Q,b.default.sources.USER),this.quill.setSelection(I.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(I,z){var H=this.quill.getLine(I.index),$=i(H,2),G=$[0],Z=$[1],Q=(new h.default).retain(I.index).insert("\n",z.format).retain(G.length()-Z-1).retain(1,{header:null});this.quill.updateContents(Q,b.default.sources.USER),this.quill.setSelection(I.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(I,z){var H=z.prefix.length,$=this.quill.getLine(I.index),G=i($,2),Z=G[0],Q=G[1];if(Q>H)return!0;var nt=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":nt="unchecked";break;case"[x]":nt="checked";break;case"-":case"*":nt="bullet";break;default:nt="ordered"}this.quill.insertText(I.index," ",b.default.sources.USER),this.quill.history.cutoff();var rt=(new h.default).retain(I.index-Q).delete(H+1).retain(Z.length()-2-Q).retain(1,{list:nt});this.quill.updateContents(rt,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(I.index-H,b.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(I){var z=this.quill.getLine(I.index),H=i(z,2),$=H[0],G=H[1],Z=(new h.default).retain(I.index+$.length()-G-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Z,b.default.sources.USER)}},"embed left":V(B.keys.LEFT,!1),"embed left shift":V(B.keys.LEFT,!0),"embed right":V(B.keys.RIGHT,!1),"embed right shift":V(B.keys.RIGHT,!0)}},t.default=B,t.SHORTKEY=j},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function p(v,y,g){null===v&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,y);if(void 0===b){var E=Object.getPrototypeOf(v);return null===E?void 0:p(E,y,g)}if("value"in b)return b.value;var _=b.get;return void 0===_?void 0:_.call(g)},r=function(){function p(v,y){for(var g=0;g<y.length;g++){var b=y[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,y,g){return y&&p(v.prototype,y),g&&p(v,g),v}}(),a=c(e(0)),u=c(e(7));function c(p){return p&&p.__esModule?p:{default:p}}var m=function(p){function v(y,g){!function f(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var b=function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?p:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return b.selection=g,b.textNode=document.createTextNode(v.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return function h(p,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}(v,p),r(v,null,[{key:"value",value:function(){}}]),r(v,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(g,b){if(0!==this._length)return i(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,g,b);for(var E=this,_=0;null!=E&&E.statics.scope!==a.default.Scope.BLOCK_BLOT;)_+=E.offset(E.parent),E=E.parent;null!=E&&(this._length=v.CONTENTS.length,E.optimize(),E.formatAt(_,v.CONTENTS.length,g,b),this._length=0)}},{key:"index",value:function(g,b){return g===this.textNode?0:i(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,g,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var g=this.textNode,b=this.selection.getNativeRange(),E=void 0,_=void 0,k=void 0;if(null!=b&&b.start.node===g&&b.end.node===g){var A=[g,b.start.offset,b.end.offset];E=A[0],_=A[1],k=A[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var O=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof u.default?(E=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=v.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=_){var w=function(v,y){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return function p(v,y){var g=[],b=!0,E=!1,_=void 0;try{for(var A,k=v[Symbol.iterator]();!(b=(A=k.next()).done)&&(g.push(A.value),!y||g.length!==y);b=!0);}catch(O){E=!0,_=O}finally{try{!b&&k.return&&k.return()}finally{if(E)throw _}}return g}(v,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([_,k].map(function(S){return Math.max(0,Math.min(E.data.length,S-1))}),2);return{startNode:E,startOffset:_=w[0],endNode:E,endOffset:k=w[1]}}}}},{key:"update",value:function(g,b){var E=this;if(g.some(function(k){return"characterData"===k.type&&k.target===E.textNode})){var _=this.restore();_&&(b.range=_)}}},{key:"value",value:function(){return""}}]),v}(a.default.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\ufeff",t.default=m},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(e(0)),r=e(4),s=a(r);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?d:h}var f=function(d){function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function c(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}(h,d),h}(i.default.Container);f.allowedChildren=[s.default,r.BlockEmbed,f],t.default=f},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n=function(){function m(p,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,v,y){return v&&m(p.prototype,v),y&&m(p,y),p}}(),i=function m(p,v,y){null===p&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,v);if(void 0===g){var b=Object.getPrototypeOf(p);return null===b?void 0:m(b,v,y)}if("value"in g)return g.value;var E=g.get;return void 0===E?void 0:E.call(y)},s=function a(m){return m&&m.__esModule?m:{default:m}}(e(0));function l(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function u(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?m:p}var f=function(m){function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return function c(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(p,m),n(p,[{key:"value",value:function(y){var g=i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,y);return g.startsWith("rgb(")?"#"+(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join(""):g}}]),p}(s.default.Attributor.Style),d=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),h=new f("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=f,t.ColorClass=d,t.ColorStyle=h},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n=function(){function h(m,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,p,v){return p&&h(m.prototype,p),v&&h(m,v),m}}(),i=function h(m,p,v){null===m&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,p);if(void 0===y){var g=Object.getPrototypeOf(m);return null===g?void 0:h(g,p,v)}if("value"in y)return y.value;var b=y.get;return void 0===b?void 0:b.call(v)};function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?h:m}var f=function(h){function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function c(h,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}(m,h),n(m,[{key:"format",value:function(v,y){if(v!==this.statics.blotName||!y)return i(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(v){var y=i(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return v=this.sanitize(v),y.setAttribute("href",v),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return d(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),m}(function a(h){return h&&h.__esModule?h:{default:h}}(e(6)).default);function d(h,m){var p=document.createElement("a");p.href=h;var v=p.href.slice(0,p.href.indexOf(":"));return m.indexOf(v)>-1}f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=f,t.sanitize=d},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},i=function(){function m(p,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,v,y){return v&&m(p.prototype,v),y&&m(p,y),p}}(),s=u(e(23)),l=u(e(107));function u(m){return m&&m.__esModule?m:{default:m}}var f=0;function d(m,p){m.setAttribute(p,"true"!==m.getAttribute(p))}var h=function(){function m(p){var v=this;(function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case s.default.keys.ENTER:v.togglePicker();break;case s.default.keys.ESCAPE:v.escape(),y.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return i(m,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),d(this.label,"aria-expanded"),d(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var y=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),v.hasAttribute("value")&&g.setAttribute("data-value",v.getAttribute("value")),v.textContent&&g.setAttribute("data-label",v.textContent),g.addEventListener("click",function(){y.selectItem(g,!0)}),g.addEventListener("keydown",function(b){switch(b.keyCode){case s.default.keys.ENTER:y.selectItem(g,!0),b.preventDefault();break;case s.default.keys.ESCAPE:y.escape(),b.preventDefault()}}),g}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=l.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(g){var b=v.buildItem(g);y.appendChild(b),!0===g.selected&&v.selectItem(b)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(y){v.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=this.container.querySelector(".ql-selected");if(v!==g&&(g?.classList.remove("ql-selected"),null!=v&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":n(Event))){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var g=null!=v&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),m}();t.default=h},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=N(e(0)),s=N(e(5)),a=e(4),l=N(a),c=N(e(16)),d=N(e(25)),m=N(e(24)),v=N(e(35)),g=N(e(6)),E=N(e(22)),k=N(e(7)),O=N(e(55)),w=N(e(42)),T=N(e(23));function N(j){return j&&j.__esModule?j:{default:j}}s.default.register({"blots/block":l.default,"blots/block/embed":a.BlockEmbed,"blots/break":c.default,"blots/container":d.default,"blots/cursor":m.default,"blots/embed":v.default,"blots/inline":g.default,"blots/scroll":E.default,"blots/text":k.default,"modules/clipboard":O.default,"modules/history":w.default,"modules/keyboard":T.default}),i.default.register(l.default,c.default,m.default,g.default,E.default,k.default),t.default=s.default},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(1),i=function(){function r(s){this.domNode=s,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(r.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),r.create=function(s){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var a;return Array.isArray(this.tagName)?("string"==typeof s&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),a="number"==typeof s?document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?document.createElement(s):document.createElement(this.tagName[0])):a=document.createElement(this.tagName),this.className&&a.classList.add(this.className),a},r.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},r.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return n.create(s)},r.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},r.prototype.deleteAt=function(s,a){this.isolate(s,a).remove()},r.prototype.formatAt=function(s,a,l,u){var c=this.isolate(s,a);if(null!=n.query(l,n.Scope.BLOT)&&u)c.wrap(l,u);else if(null!=n.query(l,n.Scope.ATTRIBUTE)){var f=n.create(this.statics.scope);c.wrap(f),f.format(l,u)}},r.prototype.insertAt=function(s,a,l){var u=null==l?n.create("text",a):n.create(a,l),c=this.split(s);this.parent.insertBefore(u,c)},r.prototype.insertInto=function(s,a){void 0===a&&(a=null),null!=this.parent&&this.parent.children.remove(this);var l=null;s.children.insertBefore(this,a),null!=a&&(l=a.domNode),(this.domNode.parentNode!=s.domNode||this.domNode.nextSibling!=l)&&s.domNode.insertBefore(this.domNode,l),this.parent=s,this.attach()},r.prototype.isolate=function(s,a){var l=this.split(s);return l.split(a),l},r.prototype.length=function(){return 1},r.prototype.offset=function(s){return void 0===s&&(s=this.parent),null==this.parent||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},r.prototype.optimize=function(s){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},r.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},r.prototype.replace=function(s){null!=s.parent&&(s.parent.insertBefore(this,s.next),s.remove())},r.prototype.replaceWith=function(s,a){var l="string"==typeof s?n.create(s,a):s;return l.replace(this),l},r.prototype.split=function(s,a){return 0===s?this:this.next},r.prototype.update=function(s,a){},r.prototype.wrap=function(s,a){var l="string"==typeof s?n.create(s,a):s;return null!=this.parent&&this.parent.insertBefore(l,this.next),l.appendChild(this),l},r.blotName="abstract",r}();t.default=i},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(12),i=e(32),r=e(33),s=e(1),a=function(){function l(u){this.attributes={},this.domNode=u,this.build()}return l.prototype.attribute=function(u,c){c?u.add(this.domNode,c)&&(null!=u.value(this.domNode)?this.attributes[u.attrName]=u:delete this.attributes[u.attrName]):(u.remove(this.domNode),delete this.attributes[u.attrName])},l.prototype.build=function(){var u=this;this.attributes={};var c=n.default.keys(this.domNode),f=i.default.keys(this.domNode),d=r.default.keys(this.domNode);c.concat(f).concat(d).forEach(function(h){var m=s.query(h,s.Scope.ATTRIBUTE);m instanceof n.default&&(u.attributes[m.attrName]=m)})},l.prototype.copy=function(u){var c=this;Object.keys(this.attributes).forEach(function(f){var d=c.attributes[f].value(c.domNode);u.format(f,d)})},l.prototype.move=function(u){var c=this;this.copy(u),Object.keys(this.attributes).forEach(function(f){c.attributes[f].remove(c.domNode)}),this.attributes={}},l.prototype.values=function(){var u=this;return Object.keys(this.attributes).reduce(function(c,f){return c[f]=u.attributes[f].value(u.domNode),c},{})},l}();t.default=a},function(o,t,e){"use strict";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},function(l,u){function c(){this.constructor=l}a(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});function r(a,l){return(a.getAttribute("class")||"").split(/\s+/).filter(function(c){return 0===c.indexOf(l+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return n(l,a),l.keys=function(u){return(u.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},l.prototype.add=function(u,c){return!!this.canAdd(u,c)&&(this.remove(u),u.classList.add(this.keyName+"-"+c),!0)},l.prototype.remove=function(u){r(u,this.keyName).forEach(function(f){u.classList.remove(f)}),0===u.classList.length&&u.removeAttribute("class")},l.prototype.value=function(u){var f=(r(u,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(u,f)?f:""},l}(e(12).default);t.default=s},function(o,t,e){"use strict";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},function(l,u){function c(){this.constructor=l}a(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});function r(a){var l=a.split("-"),u=l.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return l[0]+u}Object.defineProperty(t,"__esModule",{value:!0});var s=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return n(l,a),l.keys=function(u){return(u.getAttribute("style")||"").split(";").map(function(c){return c.split(":")[0].trim()})},l.prototype.add=function(u,c){return!!this.canAdd(u,c)&&(u.style[r(this.keyName)]=c,!0)},l.prototype.remove=function(u){u.style[r(this.keyName)]="",u.getAttribute("style")||u.removeAttribute("style")},l.prototype.value=function(u){var c=u.style[r(this.keyName)];return this.canAdd(u,c)?c:""},l}(e(12).default);t.default=s},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function s(a,l){for(var u=0;u<l.length;u++){var c=l[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,l,u){return l&&s(a.prototype,l),u&&s(a,u),a}}(),r=function(){function s(a,l){(function i(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),this.quill=a,this.options=l,this.modules={}}return n(s,[{key:"init",value:function(){var l=this;Object.keys(this.options.modules).forEach(function(u){null==l.modules[u]&&l.addModule(u)})}},{key:"addModule",value:function(l){var u=this.quill.constructor.import("modules/"+l);return this.modules[l]=new u(this.quill,this.options.modules[l]||{}),this.modules[l]}}]),s}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function p(v,y){for(var g=0;g<y.length;g++){var b=y[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,y,g){return y&&p(v.prototype,y),g&&p(v,g),v}}(),i=function p(v,y,g){null===v&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,y);if(void 0===b){var E=Object.getPrototypeOf(v);return null===E?void 0:p(E,y,g)}if("value"in b)return b.value;var _=b.get;return void 0===_?void 0:_.call(g)},s=u(e(0)),l=u(e(7));function u(p){return p&&p.__esModule?p:{default:p}}var h="\ufeff",m=function(p){function v(y){!function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var g=function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?p:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(b){g.contentNode.appendChild(b)}),g.leftGuard=document.createTextNode(h),g.rightGuard=document.createTextNode(h),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return function d(p,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}(v,p),n(v,[{key:"index",value:function(g,b){return g===this.leftGuard?0:g===this.rightGuard?1:i(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,g,b)}},{key:"restore",value:function(g){var b=void 0,E=void 0,_=g.data.split(h).join("");if(g===this.leftGuard)if(this.prev instanceof l.default){var k=this.prev.length();this.prev.insertAt(k,_),b={startNode:this.prev.domNode,startOffset:k+_.length}}else E=document.createTextNode(_),this.parent.insertBefore(s.default.create(E),this),b={startNode:E,startOffset:_.length};else g===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,_),b={startNode:this.next.domNode,startOffset:_.length}):(E=document.createTextNode(_),this.parent.insertBefore(s.default.create(E),this.next),b={startNode:E,startOffset:_.length}));return g.data=h,b}},{key:"update",value:function(g,b){var E=this;g.forEach(function(_){if("characterData"===_.type&&(_.target===E.leftGuard||_.target===E.rightGuard)){var k=E.restore(_.target);k&&(b.range=k)}})}}]),v}(s.default.Embed);t.default=m},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i=function r(c){return c&&c.__esModule?c:{default:c}}(e(0)),s={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new i.default.Attributor.Attribute("align","align",s),l=new i.default.Attributor.Class("align","ql-align",s),u=new i.default.Attributor.Style("align","text-align",s);t.AlignAttribute=a,t.AlignClass=l,t.AlignStyle=u},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i=function s(u){return u&&u.__esModule?u:{default:u}}(e(0)),r=e(26),a=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),l=new r.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=l},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i=function r(c){return c&&c.__esModule?c:{default:c}}(e(0)),s={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},a=new i.default.Attributor.Attribute("direction","dir",s),l=new i.default.Attributor.Class("direction","ql-direction",s),u=new i.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=a,t.DirectionClass=l,t.DirectionStyle=u},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n=function(){function p(v,y){for(var g=0;g<y.length;g++){var b=y[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,y,g){return y&&p(v.prototype,y),g&&p(v,g),v}}(),i=function p(v,y,g){null===v&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,y);if(void 0===b){var E=Object.getPrototypeOf(v);return null===E?void 0:p(E,y,g)}if("value"in b)return b.value;var _=b.get;return void 0===_?void 0:_.call(g)},s=function a(p){return p&&p.__esModule?p:{default:p}}(e(0));function l(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?p:v}var f={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new s.default.Attributor.Class("font","ql-font",f),h=function(p){function v(){return l(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function c(p,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}(v,p),n(v,[{key:"value",value:function(g){return i(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),v}(s.default.Attributor.Style),m=new h("font","font-family",f);t.FontStyle=m,t.FontClass=d},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i=function r(l){return l&&l.__esModule?l:{default:l}}(e(0)),s=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=a},function(o,t,e){"use strict";o.exports={align:{"":e(76),center:e(77),right:e(78),justify:e(79)},background:e(80),blockquote:e(81),bold:e(82),clean:e(83),code:e(58),"code-block":e(58),color:e(84),direction:{"":e(85),rtl:e(86)},float:{center:e(87),full:e(88),left:e(89),right:e(90)},formula:e(91),header:{1:e(92),2:e(93)},italic:e(94),image:e(95),indent:{"+1":e(96),"-1":e(97)},link:e(98),list:{ordered:e(99),bullet:e(100),check:e(101)},script:{sub:e(102),super:e(103)},strike:e(104),underline:e(105),video:e(106)}},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function y(g,b){for(var E=0;E<b.length;E++){var _=b[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,b,E){return b&&y(g.prototype,b),E&&y(g,E),g}}(),r=c(e(0)),a=c(e(5));function c(y){return y&&y.__esModule?y:{default:y}}var m=function(y){function g(b,E){!function f(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g);var _=function d(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?y:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,b,E));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(a.default.events.EDITOR_CHANGE,function(k,A,O,x){k!==a.default.events.TEXT_CHANGE||_.ignoreChange||(_.options.userOnly&&x!==a.default.sources.USER?_.transform(A):_.record(A,O))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return function h(y,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}(g,y),n(g,[{key:"change",value:function(E,_){if(0!==this.stack[E].length){var k=this.stack[E].pop();this.stack[_].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[E],a.default.sources.USER),this.ignoreChange=!1;var A=v(k[E]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(E,_){if(0!==E.ops.length){this.stack.redo=[];var k=this.quill.getContents().diff(_),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var O=this.stack.undo.pop();k=k.compose(O.undo),E=O.redo.compose(E)}else this.lastRecorded=A;this.stack.undo.push({redo:E,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(E){this.stack.undo.forEach(function(_){_.undo=E.transform(_.undo,!0),_.redo=E.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=E.transform(_.undo,!0),_.redo=E.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(c(e(9)).default);function v(y){var g=y.reduce(function(E,_){return E+(_.delete||0)},0),b=y.length()-g;return function p(y){var g=y.ops[y.ops.length-1];return null!=g&&(null!=g.insert?"string"==typeof g.insert&&g.insert.endsWith("\n"):null!=g.attributes&&Object.keys(g.attributes).some(function(b){return null!=r.default.query(b,r.default.Scope.BLOCK)}))}(y)&&(b-=1),b}m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=m,t.getLastChangeIndex=v},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function L(R,q){for(var F=0;F<q.length;F++){var M=q[F];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}return function(R,q,F){return q&&L(R.prototype,q),F&&L(R,F),R}}(),i=function L(R,q,F){null===R&&(R=Function.prototype);var M=Object.getOwnPropertyDescriptor(R,q);if(void 0===M){var I=Object.getPrototypeOf(R);return null===I?void 0:L(I,q,F)}if("value"in M)return M.value;var z=M.get;return void 0===z?void 0:z.call(F)},s=A(e(3)),l=A(e(2)),c=A(e(8)),d=A(e(23)),m=A(e(34)),v=A(e(59)),g=A(e(60)),E=A(e(28)),k=A(e(61));function A(L){return L&&L.__esModule?L:{default:L}}function O(L,R){if(!(L instanceof R))throw new TypeError("Cannot call a class as a function")}function x(L,R){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?L:R}function w(L,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);L.prototype=Object.create(R&&R.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(L,R):L.__proto__=R)}var S=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],j=["1","2","3",!1],B=["small",!1,"large","huge"],V=function(L){function R(q,F){O(this,R);var M=x(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,q,F));return q.emitter.listenDOM("click",document.body,function z(H){if(!document.body.contains(q.root))return document.body.removeEventListener("click",z);null!=M.tooltip&&!M.tooltip.root.contains(H.target)&&document.activeElement!==M.tooltip.textbox&&!M.quill.hasFocus()&&M.tooltip.hide(),null!=M.pickers&&M.pickers.forEach(function($){$.container.contains(H.target)||$.close()})}),M}return w(R,L),n(R,[{key:"addModule",value:function(F){var M=i(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,F);return"toolbar"===F&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(F,M){F.forEach(function(I){(I.getAttribute("class")||"").split(/\s+/).forEach(function(H){if(H.startsWith("ql-")&&(H=H.slice(3),null!=M[H]))if("direction"===H)I.innerHTML=M[H][""]+M[H].rtl;else if("string"==typeof M[H])I.innerHTML=M[H];else{var $=I.value||"";null!=$&&M[H][$]&&(I.innerHTML=M[H][$])}})})}},{key:"buildPickers",value:function(F,M){var I=this;this.pickers=F.map(function(H){if(H.classList.contains("ql-align"))return null==H.querySelector("option")&&P(H,S),new g.default(H,M.align);if(H.classList.contains("ql-background")||H.classList.contains("ql-color")){var $=H.classList.contains("ql-background")?"background":"color";return null==H.querySelector("option")&&P(H,T,"background"===$?"#ffffff":"#000000"),new v.default(H,M[$])}return null==H.querySelector("option")&&(H.classList.contains("ql-font")?P(H,N):H.classList.contains("ql-header")?P(H,j):H.classList.contains("ql-size")&&P(H,B)),new E.default(H)}),this.quill.on(c.default.events.EDITOR_CHANGE,function(){I.pickers.forEach(function($){$.update()})})}}]),R}(m.default);V.DEFAULTS=(0,s.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,q=this.container.querySelector("input.ql-image[type=file]");null==q&&((q=document.createElement("input")).setAttribute("type","file"),q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),q.classList.add("ql-image"),q.addEventListener("change",function(){if(null!=q.files&&null!=q.files[0]){var F=new FileReader;F.onload=function(M){var I=R.quill.getSelection(!0);R.quill.updateContents((new l.default).retain(I.index).delete(I.length).insert({image:M.target.result}),c.default.sources.USER),R.quill.setSelection(I.index+1,c.default.sources.SILENT),q.value=""},F.readAsDataURL(q.files[0])}}),this.container.appendChild(q)),q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var C=function(L){function R(q,F){O(this,R);var M=x(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,q,F));return M.textbox=M.root.querySelector('input[type="text"]'),M.listen(),M}return w(R,L),n(R,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(M){d.default.match(M,"enter")?(F.save(),M.preventDefault()):d.default.match(M,"escape")&&(F.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=M?this.textbox.value=M:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var M=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,c.default.sources.USER)),this.quill.root.scrollTop=M;break;case"video":F=function D(L){var R=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":L}(F);case"formula":if(!F)break;var I=this.quill.getSelection(!0);if(null!=I){var z=I.index+I.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),F,c.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(z+1," ",c.default.sources.USER),this.quill.setSelection(z+2,c.default.sources.USER)}}this.textbox.value="",this.hide()}}]),R}(k.default);function P(L,R){var q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R.forEach(function(F){var M=document.createElement("option");F===q?M.setAttribute("selected","selected"):M.setAttribute("value",F),L.appendChild(M)})}t.BaseTooltip=C,t.default=V},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function i(){this.head=this.tail=null,this.length=0}return i.prototype.append=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];this.insertBefore(r[0],null),r.length>1&&this.append.apply(this,r.slice(1))},i.prototype.contains=function(r){for(var s,a=this.iterator();s=a();)if(s===r)return!0;return!1},i.prototype.insertBefore=function(r,s){r&&(r.next=s,null!=s?(r.prev=s.prev,null!=s.prev&&(s.prev.next=r),s.prev=r,s===this.head&&(this.head=r)):null!=this.tail?(this.tail.next=r,r.prev=this.tail,this.tail=r):(r.prev=null,this.head=this.tail=r),this.length+=1)},i.prototype.offset=function(r){for(var s=0,a=this.head;null!=a;){if(a===r)return s;s+=a.length(),a=a.next}return-1},i.prototype.remove=function(r){this.contains(r)&&(null!=r.prev&&(r.prev.next=r.next),null!=r.next&&(r.next.prev=r.prev),r===this.head&&(this.head=r.next),r===this.tail&&(this.tail=r.prev),this.length-=1)},i.prototype.iterator=function(r){return void 0===r&&(r=this.head),function(){var s=r;return null!=r&&(r=r.next),s}},i.prototype.find=function(r,s){void 0===s&&(s=!1);for(var a,l=this.iterator();a=l();){var u=a.length();if(r<u||s&&r===u&&(null==a.next||0!==a.next.length()))return[a,r];r-=u}return[null,0]},i.prototype.forEach=function(r){for(var s,a=this.iterator();s=a();)r(s)},i.prototype.forEachAt=function(r,s,a){if(!(s<=0))for(var f,l=this.find(r),d=r-l[1],h=this.iterator(l[0]);(f=h())&&d<r+s;){var m=f.length();r>d?a(f,r-d,Math.min(s,d+m-r)):a(f,0,Math.min(m,r+s-d)),d+=m}},i.prototype.map=function(r){return this.reduce(function(s,a){return s.push(r(a)),s},[])},i.prototype.reduce=function(r,s){for(var a,l=this.iterator();a=l();)s=r(s,a);return s},i}();t.default=n},function(o,t,e){"use strict";var u,n=this&&this.__extends||(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])},function(c,f){function d(){this.constructor=c}u(c,f),c.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)});Object.defineProperty(t,"__esModule",{value:!0});var i=e(17),r=e(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(u){function c(f){var d=u.call(this,f)||this;return d.scroll=d,d.observer=new MutationObserver(function(h){d.update(h)}),d.observer.observe(d.domNode,s),d.attach(),d}return n(c,u),c.prototype.detach=function(){u.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(f,d){this.update(),0===f&&d===this.length()?this.children.forEach(function(h){h.remove()}):u.prototype.deleteAt.call(this,f,d)},c.prototype.formatAt=function(f,d,h,m){this.update(),u.prototype.formatAt.call(this,f,d,h,m)},c.prototype.insertAt=function(f,d,h){this.update(),u.prototype.insertAt.call(this,f,d,h)},c.prototype.optimize=function(f,d){var h=this;void 0===f&&(f=[]),void 0===d&&(d={}),u.prototype.optimize.call(this,d);for(var m=[].slice.call(this.observer.takeRecords());m.length>0;)f.push(m.pop());for(var p=function(b,E){void 0===E&&(E=!0),null!=b&&b!==h&&null!=b.domNode.parentNode&&(null==b.domNode[r.DATA_KEY].mutations&&(b.domNode[r.DATA_KEY].mutations=[]),E&&p(b.parent))},v=function(b){null==b.domNode[r.DATA_KEY]||null==b.domNode[r.DATA_KEY].mutations||(b instanceof i.default&&b.children.forEach(v),b.optimize(d))},y=f,g=0;y.length>0;g+=1){if(g>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(b){var E=r.find(b.target,!0);null!=E&&(E.domNode===b.target&&("childList"===b.type?(p(r.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(_){var k=r.find(_,!1);p(k,!1),k instanceof i.default&&k.children.forEach(function(A){p(A,!1)})})):"attributes"===b.type&&p(E.prev)),p(E))}),this.children.forEach(v),m=(y=[].slice.call(this.observer.takeRecords())).slice();m.length>0;)f.push(m.pop())}},c.prototype.update=function(f,d){var h=this;void 0===d&&(d={}),(f=f||this.observer.takeRecords()).map(function(m){var p=r.find(m.target,!0);return null==p?null:null==p.domNode[r.DATA_KEY].mutations?(p.domNode[r.DATA_KEY].mutations=[m],p):(p.domNode[r.DATA_KEY].mutations.push(m),null)}).forEach(function(m){null==m||m===h||null==m.domNode[r.DATA_KEY]||m.update(m.domNode[r.DATA_KEY].mutations||[],d)}),null!=this.domNode[r.DATA_KEY].mutations&&u.prototype.update.call(this,this.domNode[r.DATA_KEY].mutations,d),this.optimize(f,d)},c.blotName="scroll",c.defaultChild="block",c.scope=r.Scope.BLOCK_BLOT,c.tagName="DIV",c}(i.default);t.default=l},function(o,t,e){"use strict";var l,n=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])},function(u,c){function f(){this.constructor=u}l(u,c),u.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)});Object.defineProperty(t,"__esModule",{value:!0});var i=e(18),r=e(1),a=function(l){function u(){return null!==l&&l.apply(this,arguments)||this}return n(u,l),u.formats=function(c){if(c.tagName!==u.tagName)return l.formats.call(this,c)},u.prototype.format=function(c,f){var d=this;c!==this.statics.blotName||f?l.prototype.format.call(this,c,f):(this.children.forEach(function(h){h instanceof i.default||(h=h.wrap(u.blotName,!0)),d.attributes.copy(h)}),this.unwrap())},u.prototype.formatAt=function(c,f,d,h){null!=this.formats()[d]||r.query(d,r.Scope.ATTRIBUTE)?this.isolate(c,f).format(d,h):l.prototype.formatAt.call(this,c,f,d,h)},u.prototype.optimize=function(c){l.prototype.optimize.call(this,c);var f=this.formats();if(0===Object.keys(f).length)return this.unwrap();var d=this.next;d instanceof u&&d.prev===this&&function s(l,u){if(Object.keys(l).length!==Object.keys(u).length)return!1;for(var c in l)if(l[c]!==u[c])return!1;return!0}(f,d.formats())&&(d.moveChildren(this),d.remove())},u.blotName="inline",u.scope=r.Scope.INLINE_BLOT,u.tagName="SPAN",u}(i.default);t.default=a},function(o,t,e){"use strict";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},function(l,u){function c(){this.constructor=l}a(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0});var i=e(18),r=e(1),s=function(a){function l(){return null!==a&&a.apply(this,arguments)||this}return n(l,a),l.formats=function(u){var c=r.query(l.blotName).tagName;if(u.tagName!==c)return a.formats.call(this,u)},l.prototype.format=function(u,c){null!=r.query(u,r.Scope.BLOCK)&&(u!==this.statics.blotName||c?a.prototype.format.call(this,u,c):this.replaceWith(l.blotName))},l.prototype.formatAt=function(u,c,f,d){null!=r.query(f,r.Scope.BLOCK)?this.format(f,d):a.prototype.formatAt.call(this,u,c,f,d)},l.prototype.insertAt=function(u,c,f){if(null==f||null!=r.query(c,r.Scope.INLINE))a.prototype.insertAt.call(this,u,c,f);else{var d=this.split(u),h=r.create(c,f);d.parent.insertBefore(h,d)}},l.prototype.update=function(u,c){navigator.userAgent.match(/Trident/)?this.build():a.prototype.update.call(this,u,c)},l.blotName="block",l.scope=r.Scope.BLOCK_BLOT,l.tagName="P",l}(i.default);t.default=s},function(o,t,e){"use strict";var s,n=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var u in l)l.hasOwnProperty(u)&&(a[u]=l[u])},function(a,l){function u(){this.constructor=a}s(a,l),a.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(s){function a(){return null!==s&&s.apply(this,arguments)||this}return n(a,s),a.formats=function(l){},a.prototype.format=function(l,u){s.prototype.formatAt.call(this,0,this.length(),l,u)},a.prototype.formatAt=function(l,u,c,f){0===l&&u===this.length()?this.format(c,f):s.prototype.formatAt.call(this,l,u,c,f)},a.prototype.formats=function(){return this.statics.formats(this.domNode)},a}(e(19).default);t.default=r},function(o,t,e){"use strict";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},function(l,u){function c(){this.constructor=l}a(l,u),l.prototype=null===u?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(t,"__esModule",{value:!0});var i=e(19),r=e(1),s=function(a){function l(u){var c=a.call(this,u)||this;return c.text=c.statics.value(c.domNode),c}return n(l,a),l.create=function(u){return document.createTextNode(u)},l.value=function(u){var c=u.data;return c.normalize&&(c=c.normalize()),c},l.prototype.deleteAt=function(u,c){this.domNode.data=this.text=this.text.slice(0,u)+this.text.slice(u+c)},l.prototype.index=function(u,c){return this.domNode===u?c:-1},l.prototype.insertAt=function(u,c,f){null==f?(this.text=this.text.slice(0,u)+c+this.text.slice(u),this.domNode.data=this.text):a.prototype.insertAt.call(this,u,c,f)},l.prototype.length=function(){return this.text.length},l.prototype.optimize=function(u){a.prototype.optimize.call(this,u),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof l&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},l.prototype.position=function(u,c){return void 0===c&&(c=!1),[this.domNode,u]},l.prototype.split=function(u,c){if(void 0===c&&(c=!1),!c){if(0===u)return this;if(u===this.length())return this.next}var f=r.create(this.domNode.splitText(u));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},l.prototype.update=function(u,c){var f=this;u.some(function(d){return"characterData"===d.type&&d.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},l.prototype.value=function(){return this.text},l.blotName="text",l.scope=r.Scope.INLINE_BLOT,l}(i.default);t.default=s},function(o,t,e){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(r,s){return arguments.length>1&&!this.contains(r)==!s?s:i.call(this,r)}}String.prototype.startsWith||(String.prototype.startsWith=function(r,s){return this.substr(s=s||0,r.length)===r}),String.prototype.endsWith||(String.prototype.endsWith=function(r,s){var a=this.toString();("number"!=typeof s||!isFinite(s)||Math.floor(s)!==s||s>a.length)&&(s=a.length);var l=a.indexOf(r,s-=r.length);return-1!==l&&l===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(s){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof s)throw new TypeError("predicate must be a function");for(var c,a=Object(this),l=a.length>>>0,u=arguments[1],f=0;f<l;f++)if(s.call(u,c=a[f],f,a))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(o,t){var e=-1;function r(g,b,E){if(g==b)return g?[[0,g]]:[];(E<0||g.length<E)&&(E=null);var _=u(g,b),k=g.substring(0,_);_=c(g=g.substring(_),b=b.substring(_));var A=g.substring(g.length-_),O=function s(g,b){var E;if(!g)return[[1,b]];if(!b)return[[e,g]];var _=g.length>b.length?g:b,k=g.length>b.length?b:g,A=_.indexOf(k);if(-1!=A)return E=[[1,_.substring(0,A)],[0,k],[1,_.substring(A+k.length)]],g.length>b.length&&(E[0][0]=E[2][0]=e),E;if(1==k.length)return[[e,g],[1,b]];var O=function f(g,b){var E=g.length>b.length?g:b,_=g.length>b.length?b:g;if(E.length<4||2*_.length<E.length)return null;function k(B,V,C){for(var R,q,F,M,D=B.substring(C,C+Math.floor(B.length/4)),P=-1,L="";-1!=(P=V.indexOf(D,P+1));){var I=u(B.substring(C),V.substring(P)),z=c(B.substring(0,C),V.substring(0,P));L.length<z+I&&(L=V.substring(P-z,P)+V.substring(P,P+I),R=B.substring(0,C-z),q=B.substring(C+I),F=V.substring(0,P-z),M=V.substring(P+I))}return 2*L.length>=B.length?[R,q,F,M,L]:null}var x,w,S,T,N,A=k(E,_,Math.ceil(E.length/4)),O=k(E,_,Math.ceil(E.length/2));return A||O?(x=O?A&&A[4].length>O[4].length?A:O:A,g.length>b.length?(w=x[0],S=x[1],T=x[2],N=x[3]):(T=x[0],N=x[1],w=x[2],S=x[3]),[w,S,T,N,x[4]]):null}(g,b);if(O){var w=O[1],T=O[3],N=O[4],j=r(O[0],O[2]),B=r(w,T);return j.concat([[0,N]],B)}return function a(g,b){for(var E=g.length,_=b.length,k=Math.ceil((E+_)/2),A=k,O=2*k,x=new Array(O),w=new Array(O),S=0;S<O;S++)x[S]=-1,w[S]=-1;x[A+1]=0,w[A+1]=0;for(var T=E-_,N=T%2!=0,j=0,B=0,V=0,C=0,D=0;D<k;D++){for(var P=-D+j;P<=D-B;P+=2){for(var L=A+P,q=(R=P==-D||P!=D&&x[L-1]<x[L+1]?x[L+1]:x[L-1]+1)-P;R<E&&q<_&&g.charAt(R)==b.charAt(q);)R++,q++;if(x[L]=R,R>E)B+=2;else if(q>_)j+=2;else if(N&&(F=A+T-P)>=0&&F<O&&-1!=w[F]&&R>=(M=E-w[F]))return l(g,b,R,q)}for(var I=-D+V;I<=D-C;I+=2){for(var M,F=A+I,z=(M=I==-D||I!=D&&w[F-1]<w[F+1]?w[F+1]:w[F-1]+1)-I;M<E&&z<_&&g.charAt(E-M-1)==b.charAt(_-z-1);)M++,z++;if(w[F]=M,M>E)C+=2;else if(z>_)V+=2;else if(!N){var R;if((L=A+T-I)>=0&&L<O&&-1!=x[L])if(q=A+(R=x[L])-L,R>=(M=E-M))return l(g,b,R,q)}}}return[[e,g],[1,b]]}(g,b)}(g=g.substring(0,g.length-_),b=b.substring(0,b.length-_));return k&&O.unshift([0,k]),A&&O.push([0,A]),d(O),null!=E&&(O=function p(g,b){var E=function m(g,b){if(0===b)return[0,g];for(var E=0,_=0;_<g.length;_++){var k=g[_];if(k[0]===e||0===k[0]){var A=E+k[1].length;if(b===A)return[_+1,g];if(b<A){g=g.slice();var O=b-E,x=[k[0],k[1].slice(0,O)],w=[k[0],k[1].slice(O)];return g.splice(_,1,x,w),[_+1,g]}E=A}}throw new Error("cursor_pos is out of bounds!")}(g,b),_=E[1],k=E[0],A=_[k],O=_[k+1];if(null==A)return g;if(0!==A[0])return g;if(null!=O&&A[1]+O[1]===O[1]+A[1])return _.splice(k,2,O,A),y(_,k,2);if(null!=O&&0===O[1].indexOf(A[1])){_.splice(k,2,[O[0],A[1]],[0,A[1]]);var x=O[1].slice(A[1].length);return x.length>0&&_.splice(k+2,0,[O[0],x]),y(_,k,3)}return g}(O,E)),O=function v(g){for(var b=!1,E=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},_=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},k=2;k<g.length;k+=1)0===g[k-2][0]&&_(g[k-2][1])&&g[k-1][0]===e&&E(g[k-1][1])&&1===g[k][0]&&E(g[k][1])&&(b=!0,g[k-1][1]=g[k-2][1].slice(-1)+g[k-1][1],g[k][1]=g[k-2][1].slice(-1)+g[k][1],g[k-2][1]=g[k-2][1].slice(0,-1));if(!b)return g;var A=[];for(k=0;k<g.length;k+=1)g[k][1].length>0&&A.push(g[k]);return A}(O),O}function l(g,b,E,_){var k=g.substring(0,E),A=b.substring(0,_),O=g.substring(E),x=b.substring(_),w=r(k,A),S=r(O,x);return w.concat(S)}function u(g,b){if(!g||!b||g.charAt(0)!=b.charAt(0))return 0;for(var E=0,_=Math.min(g.length,b.length),k=_,A=0;E<k;)g.substring(A,k)==b.substring(A,k)?A=E=k:_=k,k=Math.floor((_-E)/2+E);return k}function c(g,b){if(!g||!b||g.charAt(g.length-1)!=b.charAt(b.length-1))return 0;for(var E=0,_=Math.min(g.length,b.length),k=_,A=0;E<k;)g.substring(g.length-k,g.length-A)==b.substring(b.length-k,b.length-A)?A=E=k:_=k,k=Math.floor((_-E)/2+E);return k}function d(g){g.push([0,""]);for(var O,b=0,E=0,_=0,k="",A="";b<g.length;)switch(g[b][0]){case 1:_++,A+=g[b][1],b++;break;case e:E++,k+=g[b][1],b++;break;case 0:E+_>1?(0!==E&&0!==_&&(0!==(O=u(A,k))&&(b-E-_>0&&0==g[b-E-_-1][0]?g[b-E-_-1][1]+=A.substring(0,O):(g.splice(0,0,[0,A.substring(0,O)]),b++),A=A.substring(O),k=k.substring(O)),0!==(O=c(A,k))&&(g[b][1]=A.substring(A.length-O)+g[b][1],A=A.substring(0,A.length-O),k=k.substring(0,k.length-O))),0===E?g.splice(b-_,E+_,[1,A]):0===_?g.splice(b-E,E+_,[e,k]):g.splice(b-E-_,E+_,[e,k],[1,A]),b=b-E-_+(E?1:0)+(_?1:0)+1):0!==b&&0==g[b-1][0]?(g[b-1][1]+=g[b][1],g.splice(b,1)):b++,_=0,E=0,k="",A=""}""===g[g.length-1][1]&&g.pop();var x=!1;for(b=1;b<g.length-1;)0==g[b-1][0]&&0==g[b+1][0]&&(g[b][1].substring(g[b][1].length-g[b-1][1].length)==g[b-1][1]?(g[b][1]=g[b-1][1]+g[b][1].substring(0,g[b][1].length-g[b-1][1].length),g[b+1][1]=g[b-1][1]+g[b+1][1],g.splice(b-1,1),x=!0):g[b][1].substring(0,g[b+1][1].length)==g[b+1][1]&&(g[b-1][1]+=g[b+1][1],g[b][1]=g[b][1].substring(g[b+1][1].length)+g[b+1][1],g.splice(b+1,1),x=!0)),b++;x&&d(g)}var h=r;function y(g,b,E){for(var _=b+E-1;_>=0&&_>=b-1;_--)if(_+1<g.length){var k=g[_],A=g[_+1];k[0]===A[1]&&g.splice(_,2,[k[0],k[1]+A[1]])}return g}h.INSERT=1,h.DELETE=e,h.EQUAL=0,o.exports=h},function(o,t){function e(n){var i=[];for(var r in n)i.push(r);return i}(o.exports="function"==typeof Object.keys?Object.keys:e).shim=e},function(o,t){var e="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(r){return"[object Arguments]"==Object.prototype.toString.call(r)}function i(r){return r&&"object"==typeof r&&"number"==typeof r.length&&Object.prototype.hasOwnProperty.call(r,"callee")&&!Object.prototype.propertyIsEnumerable.call(r,"callee")||!1}(t=o.exports=e?n:i).supported=n,t.unsupported=i},function(o,t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(a,l,u){this.fn=a,this.context=l,this.once=u||!1}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var u,c,l=[];if(0===this._eventsCount)return l;for(c in u=this._events)e.call(u,c)&&l.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l,u){var f=this._events[n?n+l:l];if(u)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,m=new Array(h);d<h;d++)m[d]=f[d].fn;return m},s.prototype.emit=function(l,u,c,f,d,h){var m=n?n+l:l;if(!this._events[m])return!1;var y,g,p=this._events[m],v=arguments.length;if(p.fn){switch(p.once&&this.removeListener(l,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,u),!0;case 3:return p.fn.call(p.context,u,c),!0;case 4:return p.fn.call(p.context,u,c,f),!0;case 5:return p.fn.call(p.context,u,c,f,d),!0;case 6:return p.fn.call(p.context,u,c,f,d,h),!0}for(g=1,y=new Array(v-1);g<v;g++)y[g-1]=arguments[g];p.fn.apply(p.context,y)}else{var E,b=p.length;for(g=0;g<b;g++)switch(p[g].once&&this.removeListener(l,p[g].fn,void 0,!0),v){case 1:p[g].fn.call(p[g].context);break;case 2:p[g].fn.call(p[g].context,u);break;case 3:p[g].fn.call(p[g].context,u,c);break;case 4:p[g].fn.call(p[g].context,u,c,f);break;default:if(!y)for(E=1,y=new Array(v-1);E<v;E++)y[E-1]=arguments[E];p[g].fn.apply(p[g].context,y)}}return!0},s.prototype.on=function(l,u,c){var f=new r(u,c||this),d=n?n+l:l;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],f]:this._events[d].push(f):(this._events[d]=f,this._eventsCount++),this},s.prototype.once=function(l,u,c){var f=new r(u,c||this,!0),d=n?n+l:l;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],f]:this._events[d].push(f):(this._events[d]=f,this._eventsCount++),this},s.prototype.removeListener=function(l,u,c,f){var d=n?n+l:l;if(!this._events[d])return this;if(!u)return 0==--this._eventsCount?this._events=new i:delete this._events[d],this;var h=this._events[d];if(h.fn)h.fn===u&&(!f||h.once)&&(!c||h.context===c)&&(0==--this._eventsCount?this._events=new i:delete this._events[d]);else{for(var m=0,p=[],v=h.length;m<v;m++)(h[m].fn!==u||f&&!h[m].once||c&&h[m].context!==c)&&p.push(h[m]);p.length?this._events[d]=1===p.length?p[0]:p:0==--this._eventsCount?this._events=new i:delete this._events[d]}return this},s.prototype.removeAllListeners=function(l){var u;return l?this._events[u=n?n+l:l]&&(0==--this._eventsCount?this._events=new i:delete this._events[u]):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=n,s.EventEmitter=s,typeof o<"u"&&(o.exports=s)},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},i=function(U,Y){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return function W(U,Y){var X=[],K=!0,J=!1,tt=void 0;try{for(var Et,et=U[Symbol.iterator]();!(K=(Et=et.next()).done)&&(X.push(Et.value),!Y||X.length!==Y);K=!0);}catch(Nt){J=!0,tt=Nt}finally{try{!K&&et.return&&et.return()}finally{if(J)throw tt}}return X}(U,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function W(U,Y){for(var X=0;X<Y.length;X++){var K=Y[X];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(U,K.key,K)}}return function(U,Y,X){return Y&&W(U.prototype,Y),X&&W(U,X),U}}(),a=w(e(3)),u=w(e(2)),f=w(e(0)),h=w(e(5)),p=w(e(10)),y=w(e(9)),g=e(36),b=e(37),_=w(e(13)),k=e(26),A=e(38),O=e(39),x=e(40);function w(W){return W&&W.__esModule?W:{default:W}}function S(W,U,Y){return U in W?Object.defineProperty(W,U,{value:Y,enumerable:!0,configurable:!0,writable:!0}):W[U]=Y,W}var B=(0,p.default)("quill:clipboard"),V="__ql-matcher",C=[[Node.TEXT_NODE,dt],[Node.TEXT_NODE,nt],["br",function G(W,U){return F(U,"\n")||U.insert("\n"),U}],[Node.ELEMENT_NODE,nt],[Node.ELEMENT_NODE,$],[Node.ELEMENT_NODE,rt],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,function _t(W,U){var Y={},X=W.style||{};return X.fontStyle&&"italic"===q(W).fontStyle&&(Y.italic=!0),X.fontWeight&&(q(W).fontWeight.startsWith("bold")||parseInt(q(W).fontWeight)>=700)&&(Y.bold=!0),Object.keys(Y).length>0&&(U=R(U,Y)),parseFloat(X.textIndent||0)>0&&(U=(new u.default).insert("\t").concat(U)),U}],["li",function Q(W,U){var Y=f.default.query(W);if(null==Y||"list-item"!==Y.blotName||!F(U,"\n"))return U;for(var X=-1,K=W.parentNode;!K.classList.contains("ql-clipboard");)"list"===(f.default.query(K)||{}).blotName&&(X+=1),K=K.parentNode;return X<=0?U:U.compose((new u.default).retain(U.length()-1).retain(1,{indent:X}))}],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",function Z(){return new u.default}]],D=[g.AlignAttribute,A.DirectionAttribute].reduce(function(W,U){return W[U.keyName]=U,W},{}),P=[g.AlignStyle,b.BackgroundStyle,k.ColorStyle,A.DirectionStyle,O.FontStyle,x.SizeStyle].reduce(function(W,U){return W[U.keyName]=U,W},{}),L=function(W){function U(Y,X){!function T(W,U){if(!(W instanceof U))throw new TypeError("Cannot call a class as a function")}(this,U);var K=function N(W,U){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?W:U}(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Y,X));return K.quill.root.addEventListener("paste",K.onPaste.bind(K)),K.container=K.quill.addContainer("ql-clipboard"),K.container.setAttribute("contenteditable",!0),K.container.setAttribute("tabindex",-1),K.matchers=[],C.concat(K.options.matchers).forEach(function(J){var tt=i(J,2),Et=tt[1];!X.matchVisual&&Et===rt||K.addMatcher(tt[0],Et)}),K}return function j(W,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);W.prototype=Object.create(U&&U.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(W,U):W.__proto__=U)}(U,W),r(U,[{key:"addMatcher",value:function(X,K){this.matchers.push([X,K])}},{key:"convert",value:function(X){if("string"==typeof X)return this.container.innerHTML=X.replace(/\>\r?\n +\</g,"><"),this.convert();var K=this.quill.getFormat(this.quill.selection.savedRange.index);if(K[_.default.blotName]){var J=this.container.innerText;return this.container.innerHTML="",(new u.default).insert(J,S({},_.default.blotName,K[_.default.blotName]))}var tt=this.prepareMatching(),et=i(tt,2),lt=I(this.container,et[0],et[1]);return F(lt,"\n")&&null==lt.ops[lt.ops.length-1].attributes&&(lt=lt.compose((new u.default).retain(lt.length()-1).delete(1))),B.log("convert",this.container.innerHTML,lt),this.container.innerHTML="",lt}},{key:"dangerouslyPasteHTML",value:function(X,K){var J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.default.sources.API;if("string"==typeof X)this.quill.setContents(this.convert(X),K),this.quill.setSelection(0,h.default.sources.SILENT);else{var tt=this.convert(K);this.quill.updateContents((new u.default).retain(X).concat(tt),J),this.quill.setSelection(X+tt.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(X){var K=this;if(!X.defaultPrevented&&this.quill.isEnabled()){var J=this.quill.getSelection(),tt=(new u.default).retain(J.index),et=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout(function(){tt=tt.concat(K.convert()).delete(J.length),K.quill.updateContents(tt,h.default.sources.USER),K.quill.setSelection(tt.length()-J.length,h.default.sources.SILENT),K.quill.scrollingContainer.scrollTop=et,K.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var X=this,K=[],J=[];return this.matchers.forEach(function(tt){var et=i(tt,2),Et=et[0],Nt=et[1];switch(Et){case Node.TEXT_NODE:J.push(Nt);break;case Node.ELEMENT_NODE:K.push(Nt);break;default:[].forEach.call(X.container.querySelectorAll(Et),function(lt){lt[V]=lt[V]||[],lt[V].push(Nt)})}}),[K,J]}}]),U}(y.default);function R(W,U,Y){return"object"===(typeof U>"u"?"undefined":n(U))?Object.keys(U).reduce(function(X,K){return R(X,K,U[K])},W):W.reduce(function(X,K){return K.attributes&&K.attributes[U]?X.push(K):X.insert(K.insert,(0,a.default)({},S({},U,Y),K.attributes))},new u.default)}function q(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var U="__ql-computed-style";return W[U]||(W[U]=window.getComputedStyle(W))}function F(W,U){for(var Y="",X=W.ops.length-1;X>=0&&Y.length<U.length;--X){var K=W.ops[X];if("string"!=typeof K.insert)break;Y=K.insert+Y}return Y.slice(-1*U.length)===U}function M(W){if(0===W.childNodes.length)return!1;var U=q(W);return["block","list-item"].indexOf(U.display)>-1}function I(W,U,Y){return W.nodeType===W.TEXT_NODE?Y.reduce(function(X,K){return K(W,X)},new u.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(X,K){var J=I(K,U,Y);return K.nodeType===W.ELEMENT_NODE&&(J=U.reduce(function(tt,et){return et(K,tt)},J),J=(K[V]||[]).reduce(function(tt,et){return et(K,tt)},J)),X.concat(J)},new u.default):new u.default}function z(W,U,Y){return R(Y,W,!0)}function H(W,U){var Y=f.default.Attributor.Attribute.keys(W),X=f.default.Attributor.Class.keys(W),K=f.default.Attributor.Style.keys(W),J={};return Y.concat(X).concat(K).forEach(function(tt){var et=f.default.query(tt,f.default.Scope.ATTRIBUTE);null!=et&&(J[et.attrName]=et.value(W),J[et.attrName])||(null!=(et=D[tt])&&(et.attrName===tt||et.keyName===tt)&&(J[et.attrName]=et.value(W)||void 0),null!=(et=P[tt])&&(et.attrName===tt||et.keyName===tt)&&(J[(et=P[tt]).attrName]=et.value(W)||void 0))}),Object.keys(J).length>0&&(U=R(U,J)),U}function $(W,U){var Y=f.default.query(W);if(null==Y)return U;if(Y.prototype instanceof f.default.Embed){var X={},K=Y.value(W);null!=K&&(X[Y.blotName]=K,U=(new u.default).insert(X,Y.formats(W)))}else"function"==typeof Y.formats&&(U=R(U,Y.blotName,Y.formats(W)));return U}function nt(W,U){return F(U,"\n")||(M(W)||U.length()>0&&W.nextSibling&&M(W.nextSibling))&&U.insert("\n"),U}function rt(W,U){if(M(W)&&null!=W.nextElementSibling&&!F(U,"\n\n")){var Y=W.offsetHeight+parseFloat(q(W).marginTop)+parseFloat(q(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+1.5*Y&&U.insert("\n")}return U}function dt(W,U){var Y=W.data;if("O:P"===W.parentNode.tagName)return U.insert(Y.trim());if(0===Y.trim().length&&W.parentNode.classList.contains("ql-clipboard"))return U;if(!q(W.parentNode).whiteSpace.startsWith("pre")){var X=function(J,tt){return(tt=tt.replace(/[^\u00a0]/g,"")).length<1&&J?" ":tt};Y=(Y=Y.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,X.bind(X,!0)),(null==W.previousSibling&&M(W.parentNode)||null!=W.previousSibling&&M(W.previousSibling))&&(Y=Y.replace(/^\s+/,X.bind(X,!1))),(null==W.nextSibling&&M(W.parentNode)||null!=W.nextSibling&&M(W.nextSibling))&&(Y=Y.replace(/\s+$/,X.bind(X,!1)))}return U.insert(Y)}L.DEFAULTS={matchers:[],matchVisual:!0},t.default=L,t.matchAttributor=H,t.matchBlot=$,t.matchNewline=nt,t.matchSpacing=rt,t.matchText=dt},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function d(h,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,p){return m&&d(h.prototype,m),p&&d(h,p),h}}(),i=function d(h,m,p){null===h&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,m);if(void 0===v){var y=Object.getPrototypeOf(h);return null===y?void 0:d(y,m,p)}if("value"in v)return v.value;var g=v.get;return void 0===g?void 0:g.call(p)};function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?d:h}var f=function(d){function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function c(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}(h,d),n(h,[{key:"optimize",value:function(p){i(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(function a(d){return d&&d.__esModule?d:{default:d}}(e(6)).default);f.blotName="bold",f.tagName=["STRONG","B"],t.default=f},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(w,S){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return function x(w,S){var T=[],N=!0,j=!1,B=void 0;try{for(var C,V=w[Symbol.iterator]();!(N=(C=V.next()).done)&&(T.push(C.value),!S||T.length!==S);N=!0);}catch(D){j=!0,B=D}finally{try{!N&&V.return&&V.return()}finally{if(j)throw B}}return T}(w,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function x(w,S){for(var T=0;T<S.length;T++){var N=S[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,N.key,N)}}return function(w,S,T){return S&&x(w.prototype,S),T&&x(w,T),w}}(),s=p(e(2)),l=p(e(0)),c=p(e(5)),d=p(e(10)),m=p(e(9));function p(x){return x&&x.__esModule?x:{default:x}}function g(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}var E=(0,d.default)("quill:toolbar"),_=function(x){function w(S,T){!function y(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var B,N=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,T));if(Array.isArray(N.options.container)){var j=document.createElement("div");A(j,N.options.container),S.container.parentNode.insertBefore(j,S.container),N.container=j}else N.container="string"==typeof N.options.container?document.querySelector(N.options.container):N.options.container;return N.container instanceof HTMLElement?(N.container.classList.add("ql-toolbar"),N.controls=[],N.handlers={},Object.keys(N.options.handlers).forEach(function(V){N.addHandler(V,N.options.handlers[V])}),[].forEach.call(N.container.querySelectorAll("button, select"),function(V){N.attach(V)}),N.quill.on(c.default.events.EDITOR_CHANGE,function(V,C){V===c.default.events.SELECTION_CHANGE&&N.update(C)}),N.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var V=N.quill.selection.getRange(),C=n(V,1);N.update(C[0])}),N):(B=E.error("Container required for toolbar",N.options),g(N,B))}return function b(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),i(w,[{key:"addHandler",value:function(T,N){this.handlers[T]=N}},{key:"attach",value:function(T){var N=this,j=[].find.call(T.classList,function(V){return 0===V.indexOf("ql-")});if(j){if(j=j.slice(3),"BUTTON"===T.tagName&&T.setAttribute("type","button"),null==this.handlers[j]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[j])return void E.warn("ignoring attaching to disabled format",j,T);if(null==l.default.query(j))return void E.warn("ignoring attaching to nonexistent format",j,T)}T.addEventListener("SELECT"===T.tagName?"change":"click",function(V){var C=void 0;if("SELECT"===T.tagName){if(T.selectedIndex<0)return;var D=T.options[T.selectedIndex];C=!D.hasAttribute("selected")&&(D.value||!1)}else C=!T.classList.contains("ql-active")&&(T.value||!T.hasAttribute("value")),V.preventDefault();N.quill.focus();var P=N.quill.selection.getRange(),R=n(P,1)[0];if(null!=N.handlers[j])N.handlers[j].call(N,C);else if(l.default.query(j).prototype instanceof l.default.Embed){if(!(C=prompt("Enter "+j)))return;N.quill.updateContents((new s.default).retain(R.index).delete(R.length).insert(function v(x,w,S){return w in x?Object.defineProperty(x,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[w]=S,x}({},j,C)),c.default.sources.USER)}else N.quill.format(j,C,c.default.sources.USER);N.update(R)}),this.controls.push([j,T])}}},{key:"update",value:function(T){var N=null==T?{}:this.quill.getFormat(T);this.controls.forEach(function(j){var B=n(j,2),V=B[0],C=B[1];if("SELECT"===C.tagName){var D=void 0;if(null==T)D=null;else if(null==N[V])D=C.querySelector("option[selected]");else if(!Array.isArray(N[V])){var P=N[V];"string"==typeof P&&(P=P.replace(/\"/g,'\\"')),D=C.querySelector('option[value="'+P+'"]')}null==D?(C.value="",C.selectedIndex=-1):D.selected=!0}else if(null==T)C.classList.remove("ql-active");else if(C.hasAttribute("value")){var L=N[V]===C.getAttribute("value")||null!=N[V]&&N[V].toString()===C.getAttribute("value")||null==N[V]&&!C.getAttribute("value");C.classList.toggle("ql-active",L)}else C.classList.toggle("ql-active",null!=N[V])})}}]),w}(m.default);function k(x,w,S){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+w),null!=S&&(T.value=S),x.appendChild(T)}function A(x,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(S){var T=document.createElement("span");T.classList.add("ql-formats"),S.forEach(function(N){if("string"==typeof N)k(T,N);else{var j=Object.keys(N)[0],B=N[j];Array.isArray(B)?function O(x,w,S){var T=document.createElement("select");T.classList.add("ql-"+w),S.forEach(function(N){var j=document.createElement("option");!1!==N?j.setAttribute("value",N):j.setAttribute("selected","selected"),T.appendChild(j)}),x.appendChild(T)}(T,j,B):k(T,j,B)}}),x.appendChild(T)})}_.DEFAULTS={},_.DEFAULTS={container:null,handlers:{clean:function(){var w=this,S=this.quill.getSelection();if(null!=S)if(0==S.length){var T=this.quill.getFormat();Object.keys(T).forEach(function(N){null!=l.default.query(N,l.default.Scope.INLINE)&&w.quill.format(N,!1)})}else this.quill.removeFormat(S,c.default.sources.USER)},direction:function(w){var S=this.quill.getFormat().align;"rtl"===w&&null==S?this.quill.format("align","right",c.default.sources.USER):!w&&"right"===S&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",w,c.default.sources.USER)},indent:function(w){var S=this.quill.getSelection(),T=this.quill.getFormat(S),N=parseInt(T.indent||0);if("+1"===w||"-1"===w){var j="+1"===w?1:-1;"rtl"===T.direction&&(j*=-1),this.quill.format("indent",N+j,c.default.sources.USER)}},link:function(w){!0===w&&(w=prompt("Enter link URL:")),this.quill.format("link",w,c.default.sources.USER)},list:function(w){var S=this.quill.getSelection(),T=this.quill.getFormat(S);this.quill.format("list","check"===w?"checked"!==T.list&&"unchecked"!==T.list&&"unchecked":w,c.default.sources.USER)}}},t.default=_,t.addControls=A},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function d(h,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,p){return m&&d(h.prototype,m),p&&d(h,p),h}}(),i=function d(h,m,p){null===h&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,m);if(void 0===v){var y=Object.getPrototypeOf(h);return null===y?void 0:d(y,m,p)}if("value"in v)return v.value;var g=v.get;return void 0===g?void 0:g.call(p)},f=function(d){function h(m,p){!function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h);var v=function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?d:h}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m));return v.label.innerHTML=p,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),v}return function c(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}(h,d),n(h,[{key:"buildItem",value:function(p){var v=i(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,p);return v.style.backgroundColor=p.getAttribute("value")||"",v}},{key:"selectItem",value:function(p,v){i(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,p,v);var y=this.label.querySelector(".ql-color-label"),g=p&&p.getAttribute("data-value")||"";y&&("line"===y.tagName?y.style.stroke=g:y.style.fill=g)}}]),h}(function a(d){return d&&d.__esModule?d:{default:d}}(e(28)).default);t.default=f},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function d(h,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,p){return m&&d(h.prototype,m),p&&d(h,p),h}}(),i=function d(h,m,p){null===h&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,m);if(void 0===v){var y=Object.getPrototypeOf(h);return null===y?void 0:d(y,m,p)}if("value"in v)return v.value;var g=v.get;return void 0===g?void 0:g.call(p)},f=function(d){function h(m,p){!function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h);var v=function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?d:h}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,m));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=p[y.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return function c(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}(h,d),n(h,[{key:"selectItem",value:function(p,v){i(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,p,v),this.label.innerHTML=(p=p||this.defaultItem).innerHTML}}]),h}(function a(d){return d&&d.__esModule?d:{default:d}}(e(28)).default);t.default=f},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function s(a,l){for(var u=0;u<l.length;u++){var c=l[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}return function(a,l,u){return l&&s(a.prototype,l),u&&s(a,u),a}}(),r=function(){function s(a,l){var u=this;(function i(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),this.quill=a,this.boundsContainer=l||document.body,this.root=a.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){u.root.style.marginTop=-1*u.quill.root.scrollTop+"px"}),this.hide()}return n(s,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(l){var u=l.left+l.width/2-this.root.offsetWidth/2,c=l.bottom+this.quill.root.scrollTop;this.root.style.left=u+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),d=this.root.getBoundingClientRect(),h=0;return d.right>f.right&&(this.root.style.left=u+(h=f.right-d.right)+"px"),d.left<f.left&&(this.root.style.left=u+(h=f.left-d.left)+"px"),d.bottom>f.bottom&&(this.root.style.top=c-(l.bottom-l.top+(d.bottom-d.top))+"px",this.root.classList.add("ql-flip")),h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),s}();t.default=r},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function O(x,w,S){null===x&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,w);if(void 0===T){var N=Object.getPrototypeOf(x);return null===N?void 0:O(N,w,S)}if("value"in T)return T.value;var j=T.get;return void 0===j?void 0:j.call(S)},r=function(){function O(x,w){for(var S=0;S<w.length;S++){var T=w[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,w,S){return w&&O(x.prototype,w),S&&O(x,S),x}}(),a=y(e(3)),u=y(e(8)),c=e(43),f=y(c),h=y(e(27)),m=e(15),v=y(e(41));function y(O){return O&&O.__esModule?O:{default:O}}function g(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function b(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}function E(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(O){function x(w,S){g(this,x),null!=S.modules.toolbar&&null==S.modules.toolbar.container&&(S.modules.toolbar.container=_);var T=b(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w,S));return T.quill.container.classList.add("ql-snow"),T}return E(x,O),r(x,[{key:"extendToolbar",value:function(S){S.container.classList.add("ql-snow"),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),v.default),this.tooltip=new A(this.quill,this.options.bounds),S.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,N){S.handlers.link.call(S,!N.format.link)})}}]),x}(f.default);k.DEFAULTS=(0,a.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){if(x){var w=this.quill.getSelection();if(null==w||0==w.length)return;var S=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(S)&&0!==S.indexOf("mailto:")&&(S="mailto:"+S),this.quill.theme.tooltip.edit("link",S)}else this.quill.format("link",!1)}}}}});var A=function(O){function x(w,S){g(this,x);var T=b(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w,S));return T.preview=T.root.querySelector("a.ql-preview"),T}return E(x,O),r(x,[{key:"listen",value:function(){var S=this;i(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){S.root.classList.contains("ql-editing")?S.save():S.edit("link",S.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(null!=S.linkRange){var N=S.linkRange;S.restoreFocus(),S.quill.formatText(N,"link",!1,u.default.sources.USER),delete S.linkRange}T.preventDefault(),S.hide()}),this.quill.on(u.default.events.SELECTION_CHANGE,function(T,N,j){if(null!=T){if(0===T.length&&j===u.default.sources.USER){var V=function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return function O(x,w){var S=[],T=!0,N=!1,j=void 0;try{for(var V,B=x[Symbol.iterator]();!(T=(V=B.next()).done)&&(S.push(V.value),!w||S.length!==w);T=!0);}catch(C){N=!0,j=C}finally{try{!T&&B.return&&B.return()}finally{if(N)throw j}}return S}(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(S.quill.scroll.descendant(h.default,T.index),2),C=V[0];if(null!=C){S.linkRange=new m.Range(T.index-V[1],C.length());var P=h.default.formats(C.domNode);return S.preview.textContent=P,S.preview.setAttribute("href",P),S.show(),void S.position(S.quill.getBounds(S.linkRange))}}else delete S.linkRange;S.hide()}})}},{key:"show",value:function(){i(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),x}(c.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=k},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=K(e(29)),r=e(36),s=e(38),a=e(64),u=K(e(65)),f=K(e(66)),d=e(67),h=K(d),m=e(37),p=e(26),v=e(39),y=e(40),b=K(e(56)),_=K(e(68)),A=K(e(27)),x=K(e(69)),S=K(e(70)),N=K(e(71)),B=K(e(72)),C=K(e(73)),D=e(13),P=K(D),R=K(e(74)),F=K(e(75)),I=K(e(57)),H=K(e(41)),G=K(e(28)),Q=K(e(59)),rt=K(e(60)),dt=K(e(61)),U=K(e(108)),X=K(e(62));function K(J){return J&&J.__esModule?J:{default:J}}i.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":y.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":a.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":v.FontClass,"formats/size":y.SizeClass,"formats/blockquote":u.default,"formats/code-block":P.default,"formats/header":f.default,"formats/list":h.default,"formats/bold":b.default,"formats/code":D.Code,"formats/italic":_.default,"formats/link":A.default,"formats/script":x.default,"formats/strike":S.default,"formats/underline":N.default,"formats/image":B.default,"formats/video":C.default,"formats/list/item":d.ListItem,"modules/formula":R.default,"modules/syntax":F.default,"modules/toolbar":I.default,"themes/bubble":U.default,"themes/snow":X.default,"ui/icons":H.default,"ui/picker":G.default,"ui/icon-picker":rt.default,"ui/color-picker":Q.default,"ui/tooltip":dt.default},!0),t.default=i.default},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n=function(){function h(m,p){for(var v=0;v<p.length;v++){var y=p[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,p,v){return p&&h(m.prototype,p),v&&h(m,v),m}}(),i=function h(m,p,v){null===m&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,p);if(void 0===y){var g=Object.getPrototypeOf(m);return null===g?void 0:h(g,p,v)}if("value"in y)return y.value;var b=y.get;return void 0===b?void 0:b.call(v)},s=function a(h){return h&&h.__esModule?h:{default:h}}(e(0));function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?h:m}var f=function(h){function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function c(h,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}(m,h),n(m,[{key:"add",value:function(v,y){if("+1"===y||"-1"===y){var g=this.value(v)||0;y="+1"===y?g+1:g-1}return 0===y?(this.remove(v),!0):i(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"add",this).call(this,v,y)}},{key:"canAdd",value:function(v,y){return i(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,v,y)||i(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"canAdd",this).call(this,v,parseInt(y))}},{key:"value",value:function(v){return parseInt(i(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,v))||void 0}}]),m}(s.default.Attributor.Class),d=new f("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=d},function(o,t,e){"use strict";function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?c:f}Object.defineProperty(t,"__esModule",{value:!0});var u=function(c){function f(){return s(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function l(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(f,c),f}(function r(c){return c&&c.__esModule?c:{default:c}}(e(4)).default);u.blotName="blockquote",u.tagName="blockquote",t.default=u},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function f(d,h){for(var m=0;m<h.length;m++){var p=h[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,h,m){return h&&f(d.prototype,h),m&&f(d,m),d}}();function a(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function l(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?f:d}var c=function(f){function d(){return a(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function u(f,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}(d,f),n(d,null,[{key:"formats",value:function(m){return this.tagName.indexOf(m.tagName)+1}}]),d}(function s(f){return f&&f.__esModule?f:{default:f}}(e(4)).default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],t.default=c},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function g(b,E){for(var _=0;_<E.length;_++){var k=E[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,E,_){return E&&g(b.prototype,E),_&&g(b,_),b}}(),i=function g(b,E,_){null===b&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,E);if(void 0===k){var A=Object.getPrototypeOf(b);return null===A?void 0:g(A,E,_)}if("value"in k)return k.value;var O=k.get;return void 0===O?void 0:O.call(_)},s=f(e(0)),l=f(e(4)),c=f(e(25));function f(g){return g&&g.__esModule?g:{default:g}}function h(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function m(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?g:b}function p(g,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var v=function(g){function b(){return h(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return p(b,g),n(b,[{key:"format",value:function(_,k){_!==y.blotName||k?i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,_,k):this.replaceWith(s.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,k){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,k),this):(this.parent.unwrap(),i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,_,k))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:i(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,_)}}]),b}(l.default);v.blotName="list-item",v.tagName="LI";var y=function(g){function b(E){h(this,b);var _=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E)),k=function(O){if(O.target.parentNode===E){var x=_.statics.formats(E),w=s.default.find(O.target);"checked"===x?w.format("list","unchecked"):"unchecked"===x&&w.format("list","checked")}};return E.addEventListener("touchstart",k),E.addEventListener("mousedown",k),_}return p(b,g),n(b,null,[{key:"create",value:function(_){var k="ordered"===_?"OL":"UL",A=i(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,k);return("checked"===_||"unchecked"===_)&&A.setAttribute("data-checked","checked"===_),A}},{key:"formats",value:function(_){return"OL"===_.tagName?"ordered":"UL"===_.tagName?_.hasAttribute("data-checked")?"true"===_.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(b,[{key:"format",value:function(_,k){this.children.length>0&&this.children.tail.format(_,k)}},{key:"formats",value:function(){return function d(g,b,E){return b in g?Object.defineProperty(g,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[b]=E,g}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,k){if(_ instanceof v)i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,_,k);else{var A=null==k?this.length():k.offset(this),O=this.split(A);O.parent.insertBefore(_,O)}}},{key:"optimize",value:function(_){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,_);var k=this.next;null!=k&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var k=s.default.create(this.statics.defaultChild);_.moveChildren(k),this.appendChild(k)}i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,_)}}]),b}(c.default);y.blotName="list",y.scope=s.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[v],t.ListItem=v,t.default=y},function(o,t,e){"use strict";function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?c:f}Object.defineProperty(t,"__esModule",{value:!0});var u=function(c){function f(){return s(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function l(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(f,c),f}(function r(c){return c&&c.__esModule?c:{default:c}}(e(56)).default);u.blotName="italic",u.tagName=["EM","I"],t.default=u},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function d(h,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,p){return m&&d(h.prototype,m),p&&d(h,p),h}}(),i=function d(h,m,p){null===h&&(h=Function.prototype);var v=Object.getOwnPropertyDescriptor(h,m);if(void 0===v){var y=Object.getPrototypeOf(h);return null===y?void 0:d(y,m,p)}if("value"in v)return v.value;var g=v.get;return void 0===g?void 0:g.call(p)};function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function u(d,h){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?d:h}var f=function(d){function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function c(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(d,h):d.__proto__=h)}(h,d),n(h,null,[{key:"create",value:function(p){return"super"===p?document.createElement("sup"):"sub"===p?document.createElement("sub"):i(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,p)}},{key:"formats",value:function(p){return"SUB"===p.tagName?"sub":"SUP"===p.tagName?"super":void 0}}]),h}(function a(d){return d&&d.__esModule?d:{default:d}}(e(6)).default);f.blotName="script",f.tagName=["SUB","SUP"],t.default=f},function(o,t,e){"use strict";function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?c:f}Object.defineProperty(t,"__esModule",{value:!0});var u=function(c){function f(){return s(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function l(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(f,c),f}(function r(c){return c&&c.__esModule?c:{default:c}}(e(6)).default);u.blotName="strike",u.tagName="S",t.default=u},function(o,t,e){"use strict";function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?c:f}Object.defineProperty(t,"__esModule",{value:!0});var u=function(c){function f(){return s(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function l(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(f,c),f}(function r(c){return c&&c.__esModule?c:{default:c}}(e(6)).default);u.blotName="underline",u.tagName="U",t.default=u},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function m(p,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,v,y){return v&&m(p.prototype,v),y&&m(p,y),p}}(),i=function m(p,v,y){null===p&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,v);if(void 0===g){var b=Object.getPrototypeOf(p);return null===b?void 0:m(b,v,y)}if("value"in g)return g.value;var E=g.get;return void 0===E?void 0:E.call(y)},s=function l(m){return m&&m.__esModule?m:{default:m}}(e(0)),a=e(27);function u(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?m:p}var d=["alt","height","width"],h=function(m){function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return function f(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(p,m),n(p,[{key:"format",value:function(y,g){d.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=i(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,y);return"string"==typeof y&&g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return d.reduce(function(g,b){return y.hasAttribute(b)&&(g[b]=y.getAttribute(b)),g},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,a.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),p}(s.default.Embed);h.blotName="image",h.tagName="IMG",t.default=h},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function m(p,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,v,y){return v&&m(p.prototype,v),y&&m(p,y),p}}(),i=function m(p,v,y){null===p&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,v);if(void 0===g){var b=Object.getPrototypeOf(p);return null===b?void 0:m(b,v,y)}if("value"in g)return g.value;var E=g.get;return void 0===E?void 0:E.call(y)},r=e(4),a=function l(m){return m&&m.__esModule?m:{default:m}}(e(27));function u(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?m:p}var d=["height","width"],h=function(m){function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return function f(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}(p,m),n(p,[{key:"format",value:function(y,g){d.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=i(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,y);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return d.reduce(function(g,b){return y.hasAttribute(b)&&(g[b]=y.getAttribute(b)),g},{})}},{key:"sanitize",value:function(y){return a.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),p}(r.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",t.default=h},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function y(g,b){for(var E=0;E<b.length;E++){var _=b[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,b,E){return b&&y(g.prototype,b),E&&y(g,E),g}}(),i=function y(g,b,E){null===g&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,b);if(void 0===_){var k=Object.getPrototypeOf(g);return null===k?void 0:y(k,b,E)}if("value"in _)return _.value;var A=_.get;return void 0===A?void 0:A.call(E)},s=f(e(35)),l=f(e(5)),c=f(e(9));function f(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function h(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?y:g}function m(y,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var p=function(y){function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return m(g,y),n(g,null,[{key:"create",value:function(E){var _=i(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return"string"==typeof E&&(window.katex.render(E,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",E)),_}},{key:"value",value:function(E){return E.getAttribute("data-value")}}]),g}(s.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var v=function(y){function g(){d(this,g);var b=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return b}return m(g,y),n(g,null,[{key:"register",value:function(){l.default.register(p,!0)}}]),g}(c.default);t.FormulaBlot=p,t.default=v},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function E(_,k){for(var A=0;A<k.length;A++){var O=k[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,k,A){return k&&E(_.prototype,k),A&&E(_,A),_}}(),i=function E(_,k,A){null===_&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,k);if(void 0===O){var x=Object.getPrototypeOf(_);return null===x?void 0:E(x,k,A)}if("value"in O)return O.value;var w=O.get;return void 0===w?void 0:w.call(A)},s=h(e(0)),l=h(e(5)),c=h(e(9));function h(E){return E&&E.__esModule?E:{default:E}}function m(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function p(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?E:_}function v(E,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var y=function(E){function _(){return m(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return v(_,E),n(_,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),i(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=A(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),_}(h(e(13)).default);y.className="ql-syntax";var g=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),b=function(E){function _(k,A){m(this,_);var O=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,k,A));if("function"!=typeof O.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var x=null;return O.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(x),x=setTimeout(function(){O.highlight(),x=null},O.options.interval)}),O.highlight(),O}return v(_,E),n(_,null,[{key:"register",value:function(){l.default.register(g,!0),l.default.register(y,!0)}}]),n(_,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(x){x.highlight(A.options.highlight)}),this.quill.update(l.default.sources.SILENT),null!=O&&this.quill.setSelection(O,l.default.sources.SILENT)}}}]),_}(c.default);b.DEFAULTS={highlight:null==window.hljs?null:function(E){return window.hljs.highlightAuto(E).value},interval:1e3},t.CodeBlock=y,t.CodeToken=g,t.default=b},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(o,t){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(o,t){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(o,t){o.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(o,t){o.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(o,t){o.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function _(k,A,O){null===k&&(k=Function.prototype);var x=Object.getOwnPropertyDescriptor(k,A);if(void 0===x){var w=Object.getPrototypeOf(k);return null===w?void 0:_(w,A,O)}if("value"in x)return x.value;var S=x.get;return void 0===S?void 0:S.call(O)},i=function(){function _(k,A){for(var O=0;O<A.length;O++){var x=A[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(k,x.key,x)}}return function(k,A,O){return A&&_(k.prototype,A),O&&_(k,O),k}}(),s=m(e(3)),l=m(e(8)),u=e(43),c=m(u),f=e(15),h=m(e(41));function m(_){return _&&_.__esModule?_:{default:_}}function p(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function v(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?_:k}function y(_,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(_,k):_.__proto__=k)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(_){function k(A,O){p(this,k),null!=O.modules.toolbar&&null==O.modules.toolbar.container&&(O.modules.toolbar.container=g);var x=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,O));return x.quill.container.classList.add("ql-bubble"),x}return y(k,_),i(k,[{key:"extendToolbar",value:function(O){this.tooltip=new E(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),h.default)}}]),k}(c.default);b.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var E=function(_){function k(A,O){p(this,k);var x=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,O));return x.quill.on(l.default.events.EDITOR_CHANGE,function(w,S,T,N){if(w===l.default.events.SELECTION_CHANGE)if(null!=S&&S.length>0&&N===l.default.sources.USER){x.show(),x.root.style.left="0px",x.root.style.width="",x.root.style.width=x.root.offsetWidth+"px";var j=x.quill.getLines(S.index,S.length);if(1===j.length)x.position(x.quill.getBounds(S));else{var B=j[j.length-1],V=x.quill.getIndex(B),C=Math.min(B.length()-1,S.index+S.length-V),D=x.quill.getBounds(new f.Range(V,C));x.position(D)}}else document.activeElement!==x.textbox&&x.quill.hasFocus()&&x.hide()}),x}return y(k,_),i(k,[{key:"listen",value:function(){var O=this;n(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var x=O.quill.getSelection();null!=x&&O.position(O.quill.getBounds(x))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var x=n(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,O),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",0===x)return x;w.style.marginLeft=-1*x-w.offsetWidth/2+"px"}}]),k}(u.BaseTooltip);E.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=E,t.default=b},function(o,t,e){o.exports=e(63)}]).default});import{r as Ir,a as te,e as dn,c as pn,i as ut,d as ft,b as xt,v as it,u as gn,l as Br,f as Xt,g as ht,h as ee,s as jt,j as Ht,k as ot,_ as mn,t as St,m as jr,n as Fr,T as yt,o as ve,p as ye,H as At,P as Dt,q as vn,w as yn,x as Gt,y as bn,z as Vt,A as qr,B as ne,C as qe,D as _n,E as mt,F as st,G as zr,I as xn,J as On,K as Hr,L as kn,M as wn,N as Vr,O as wt,Q as at,R as Wr,S as bt,U as ze,V as En,W as Ur,X as Wt,Y as be,Z as Ut,$ as _e,a0 as pt,a1 as He,a2 as vt,a3 as Zt,a4 as $r,a5 as Kr,a6 as An,a7 as xe,a8 as Sn,a9 as Yr,aa as Xr,ab as Oe,ac as Gr,ad as Zr,ae as Pn,af as Tn,ag as Mn,ah as ke,ai as Qr,aj as Ft,ak as Jr,al as to,am as eo,an as Ln,ao as no,ap as io,aq as ro,ar as oo,as as so,at as Ve,au as ie,av as ao,aw as $t,ax as lo,ay as re,az as Qt,aA as Nn,aB as uo,aC as Dn,aD as co,aE as fo,aF as Rt,aG as Rn,aH as Cn,aI as ho,aJ as We,aK as In,aL as Ue,aM as oe,aN as po,aO as go,aP as mo}from"./chunks/helpers.segment.js";export{aL as Ticks,d as defaults}from"./chunks/helpers.segment.js";import"@kurkle/color";class vo{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const s=e.duration;e.listeners[i].forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Ir.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let l,s=r.length-1,a=!1;for(;s>=0;--s)l=r[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Tt=new vo;const Bn="transparent",yo={boolean:(o,t,e)=>e>.5?t:o,color(o,t,e){const n=pn(o||Bn),i=n.valid&&pn(t||Bn);return i&&i.valid?i.mix(n,e).hexString():t},number:(o,t,e)=>o+(t-o)*e};class jn{constructor(t,e,n,i){const r=e[n];i=te([t.to,i,r,t.from]);const s=te([t.from,r,i]);this._active=!0,this._fn=t.fn||yo[t.type||typeof s],this._easing=dn[t.easing]||dn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=te([t.to,e,i,t.from]),this._from=te([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,a=this._to;let l;if(this._active=r!==a&&(s||e<n),!this._active)return this._target[i]=a,void this._notify(!0);e<0?this._target[i]=r:(l=e/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class $e{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ut(t))return;const e=Object.keys(ft.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!ut(r))return;const s={};for(const a of e)s[a]=r[a];(xt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,s)})})}_animateOptions(t,e){const n=e.options,i=_o(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&bo(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if("$"===u.charAt(0))continue;if("options"===u){i.push(...this._animateOptions(t,e));continue}const c=e[u];let f=r[u];const d=n.get(u);if(f){if(d&&f.active()){f.update(d,c,a);continue}f.cancel()}d&&d.duration?(r[u]=f=new jn(d,t,u,c),i.push(f)):t[u]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Tt.add(this._chart,n),!0):void 0}}function bo(o,t){const e=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const r=o[n[i]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function _o(o,t){if(!t)return;let e=o.options;if(e)return e.$shared&&(o.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;o.options=t}function Fn(o,t){const e=o&&o.options||{},n=e.reverse,i=void 0===e.min?t:0,r=void 0===e.max?t:0;return{start:n?r:i,end:n?i:r}}function xo(o,t,e){if(!1===e)return!1;const n=Fn(o,e),i=Fn(t,e);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Oo(o){let t,e,n,i;return ut(o)?(t=o.top,e=o.right,n=o.bottom,i=o.left):t=e=n=i=o,{top:t,right:e,bottom:n,left:i,disabled:!1===o}}function qn(o,t){const e=[],n=o._getSortedDatasetMetas(t);let i,r;for(i=0,r=n.length;i<r;++i)e.push(n[i].index);return e}function zn(o,t,e,n={}){const i=o.keys,r="single"===n.mode;let s,a,l,u;if(null!==t){for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===e){if(n.all)continue;break}u=o.values[l],ht(u)&&(r||0===t||jt(t)===jt(u))&&(t+=u)}return t}}function ko(o){const t=Object.keys(o),e=new Array(t.length);let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],e[n]={x:r,y:o[r]};return e}function Hn(o,t){const e=o&&o.options.stacked;return e||void 0===e&&void 0!==t.stack}function wo(o,t,e){return`${o.id}.${t.id}.${e.stack||e.type}`}function Eo(o){const{min:t,max:e,minDefined:n,maxDefined:i}=o.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function Ao(o,t,e){const n=o[t]||(o[t]={});return n[e]||(n[e]={})}function Vn(o,t,e,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const r=o[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function Wn(o,t){const{chart:e,_cachedMeta:n}=o,i=e._stacks||(e._stacks={}),{iScale:r,vScale:s,index:a}=n,l=r.axis,u=s.axis,c=wo(r,s,n),f=t.length;let d;for(let h=0;h<f;++h){const m=t[h],{[l]:p,[u]:v}=m;d=(m._stacks||(m._stacks={}))[u]=Ao(i,c,p),d[a]=v,d._top=Vn(d,s,!0,n.type),d._bottom=Vn(d,s,!1,n.type),(d._visualValues||(d._visualValues={}))[a]=v}}function Ke(o,t){const e=o.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function So(o,t){return Ht(o,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Po(o,t,e){return Ht(o,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function se(o,t){const e=o.controller.index,n=o.vScale&&o.vScale.axis;if(n){t=t||o._parsed;for(const i of t){const r=i._stacks;if(!r||void 0===r[n]||void 0===r[n][e])return;delete r[n][e],void 0!==r[n]._visualValues&&void 0!==r[n]._visualValues[e]&&delete r[n]._visualValues[e]}}}const Ye=o=>"reset"===o||"none"===o,Un=(o,t)=>t?o:Object.assign({},o),To=(o,t,e)=>o&&!t.hidden&&t._stacked&&{keys:qn(e,!0),values:null};class Ct{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Hn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&se(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(f,d,h,m)=>"x"===f?d:"r"===f?m:h,r=e.xAxisID=it(n.xAxisID,Ke(t,"x")),s=e.yAxisID=it(n.yAxisID,Ke(t,"y")),a=e.rAxisID=it(n.rAxisID,Ke(t,"r")),l=e.indexAxis,u=e.iAxisID=i(l,r,s,a),c=e.vAxisID=i(l,s,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&gn(this._data,this),t._stacked&&se(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(ut(e))this._data=ko(e);else if(n!==e){if(n){gn(n,this);const i=this._cachedMeta;se(i),i._parsed=[]}e&&Object.isExtensible(e)&&Br(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Hn(e.vScale,e),e.stack!==n.stack&&(i=!0,se(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&Wn(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,a=r.axis;let c,f,d,l=0===t&&e===i.length||n._sorted,u=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,d=i;else{d=xt(i[t])?this.parseArrayData(n,i,t,e):ut(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const h=()=>null===f[a]||u&&f[a]<u[a];for(c=0;c<e;++c)n._parsed[c+t]=f=d[c],l&&(h()&&(l=!1),u=f);n._sorted=l}s&&Wn(this,d)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,a=r.axis,l=s.axis,u=r.getLabels(),c=r===s,f=new Array(i);let d,h,m;for(d=0,h=i;d<h;++d)m=d+n,f[d]={[a]:c||r.parse(u[m],m),[l]:s.parse(e[m],m)};return f}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,a=new Array(i);let l,u,c,f;for(l=0,u=i;l<u;++l)c=l+n,f=e[c],a[l]={x:r.parse(f[0],c),y:s.parse(f[1],c)};return a}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,f,d,h;for(c=0,f=i;c<f;++c)d=c+n,h=e[d],u[c]={x:r.parse(Xt(h,a),d),y:s.parse(Xt(h,l),d)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this._cachedMeta,s=e[t.axis];return zn({keys:qn(this.chart,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const a=i&&n._stacks[e.axis];i&&a&&(i.values=a,s=zn(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,a=this._getOtherScale(t),l=To(e,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=Eo(a);let d,h;function m(){h=i[d];const p=h[a.axis];return!ht(h[t.axis])||c>p||f<p}for(d=0;d<s&&(m()||(this.updateRangeFromParsed(u,t,h,l),!r));++d);if(r)for(d=s-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(u,t,h,l);break}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],ht(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Oo(it(this.options.clip,xo(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this._cachedMeta,i=n.data||[],r=this.chart.chartArea,s=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,a,l),c=a;c<a+l;++c){const f=i[c];f.hidden||(f.active&&u?s.push(f):f.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];r=s.$context||(s.$context=Po(this.getContext(),t,s)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=So(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,a=r[s],l=this.enableOptionSharing&&ee(n);if(a)return Un(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],d=u.getOptionScopes(this.getDataset(),c),h=Object.keys(ft.elements[t]),p=u.resolveNamedOptions(d,h,()=>this.getContext(n,i,e),f);return p.$shared&&(p.$shared=l,r[s]=Object.freeze(Un(p,l))),p}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s=`animation-${e}`,a=r[s];if(a)return a;let l;if(!1!==i.options.animation){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,e),d=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(d,this.getContext(t,n,e))}const u=new $e(i,l&&l.animations);return l&&l._cacheable&&(r[s]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ye(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){Ye(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Ye(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,n=!0){const i=this._cachedMeta,r=i.data,s=t+e;let a;const l=u=>{for(u.length+=e,a=u.length-1;a>=s;a--)u[a]=u[a-e]};for(l(r),a=t;a<s;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&se(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Mo(o,t){if(!o._cache.$bar){const e=o.getMatchingVisibleMetas(t);let n=[];for(let i=0,r=e.length;i<r;i++)n=n.concat(e[i].controller.getAllParsedValues(o));o._cache.$bar=mn(n.sort((i,r)=>i-r))}return o._cache.$bar}function Lo(o){const t=o.iScale,e=Mo(t,o.type);let i,r,s,a,n=t._length;const l=()=>{32767===s||-32768===s||(ee(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(i=0,r=e.length;i<r;++i)s=t.getPixelForValue(e[i]),l();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)s=t.getPixelForTick(i),l();return n}function No(o,t,e,n){const i=e.barThickness;let r,s;return ot(i)?(r=t.min*e.categoryPercentage,s=e.barPercentage):(r=i*n,s=1),{chunk:r/n,ratio:s,start:t.pixels[o]-r/2}}function Do(o,t,e,n){const i=t.pixels,r=i[o];let s=o>0?i[o-1]:null,a=o<i.length-1?i[o+1]:null;const l=e.categoryPercentage;null===s&&(s=r-(null===a?t.end-t.start:a-r)),null===a&&(a=r+r-s);const u=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/n,ratio:e.barPercentage,start:u}}function Ro(o,t,e,n){const i=e.parse(o[0],n),r=e.parse(o[1],n),s=Math.min(i,r),a=Math.max(i,r);let l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),t[e.axis]=u,t._custom={barStart:l,barEnd:u,start:i,end:r,min:s,max:a}}function $n(o,t,e,n){return xt(o)?Ro(o,t,e,n):t[e.axis]=e.parse(o,n),t}function Kn(o,t,e,n){const i=o.iScale,r=o.vScale,s=i.getLabels(),a=i===r,l=[];let u,c,f,d;for(u=e,c=e+n;u<c;++u)d=t[u],f={},f[i.axis]=a||i.parse(s[u],u),l.push($n(d,f,r,u));return l}function Xe(o){return o&&void 0!==o.barStart&&void 0!==o.barEnd}function Co(o,t,e){return 0!==o?jt(o):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Io(o){let t,e,n,i,r;return o.horizontal?(t=o.base>o.x,e="left",n="right"):(t=o.base<o.y,e="bottom",n="top"),t?(i="end",r="start"):(i="start",r="end"),{start:e,end:n,reverse:t,top:i,bottom:r}}function Bo(o,t,e,n){let i=t.borderSkipped;const r={};if(!i)return void(o.borderSkipped=r);if(!0===i)return void(o.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:u,bottom:c}=Io(o);"middle"===i&&e&&(o.enableBorderRadius=!0,(e._top||0)===n?i=u:(e._bottom||0)===n?i=c:(r[Yn(c,s,a,l)]=!0,i=u)),r[Yn(i,s,a,l)]=!0,o.borderSkipped=r}function Yn(o,t,e,n){return o=n?Xn(o=jo(o,t,e),e,t):Xn(o,t,e)}function jo(o,t,e){return o===t?e:o===e?t:o}function Xn(o,t,e){return"start"===o?t:"end"===o?e:o}function Fo(o,{inflateAmount:t},e){o.inflateAmount="auto"===t?1===e?.33:0:t}class Gn extends Ct{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return Kn(t,e,n,i)}parseArrayData(t,e,n,i){return Kn(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u="x"===r.axis?a:l,c="x"===s.axis?a:l,f=[];let d,h,m,p;for(d=n,h=n+i;d<h;++d)p=e[d],m={},m[r.axis]=r.parse(Xt(p,u),d),f.push($n(Xt(p,c),m,s,d));return f}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,a=Xe(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,i);for(let h=e;h<e+n;h++){const m=this.getParsed(h),p=r||ot(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),v=this._calculateBarIndexPixels(h,c),y=(m._stacks||{})[a.axis],g={horizontal:u,base:p.base,enableBorderRadius:!y||Xe(m._custom)||s===y._top||s===y._bottom,x:u?p.head:v.center,y:u?v.center:p.head,height:u?v.size:Math.abs(p.size),width:u?Math.abs(p.size):v.size};d&&(g.options=f||this.resolveDataElementOptions(h,t[h].active?"active":i));const b=g.options||t[h].options;Bo(g,b,y,s),Fo(g,b,c.ratio),this.updateElement(t[h],h,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=n.options.stacked,s=[],a=l=>{const u=l.controller.getParsed(e),c=u&&u[l.vScale.axis];if(ot(c)||isNaN(c))return!0};for(const l of i)if((void 0===e||!a(l))&&((!1===r||-1===s.indexOf(l.stack)||void 0===r&&void 0===l.stack)&&s.push(l.stack),l.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const a=t.barThickness;return{min:a||Lo(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,a=r||0,l=this.getParsed(t),u=l._custom,c=Xe(u);let m,p,f=l[e.axis],d=0,h=n?this.applyStack(e,l,n):f;h!==f&&(d=h-f,h=f),c&&(f=u.barStart,h=u.barEnd-u.barStart,0!==f&&jt(f)!==jt(u.barEnd)&&(d=0),d+=f);const v=ot(r)||c?d:r;let y=e.getPixelForValue(v);if(m=this.chart.getDataVisibility(t)?e.getPixelForValue(d+h):y,p=m-y,Math.abs(p)<s){p=Co(p,e,a)*s,f===a&&(y-=p/2);const g=e.getPixelForDecimal(0),b=e.getPixelForDecimal(1),E=Math.min(g,b),_=Math.max(g,b);y=Math.max(Math.min(y,_),E),m=y+p,n&&!c&&(l._stacks[e.axis]._visualValues[i]=e.getValueForPixel(m)-e.getValueForPixel(y))}if(y===e.getPixelForValue(a)){const g=jt(p)*e.getLineWidthForValue(a)/2;y+=g,p-=g}return{size:p,base:y,head:m,center:m+p/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=it(i.maxBarThickness,1/0);let a,l;if(e.grouped){const u=r?this._getStackCount(t):e.stackCount,c="flex"===i.barThickness?Do(t,e,i,u):No(t,e,i,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=c.start+c.chunk*f+c.chunk/2,l=Math.min(s,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(s,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[e.axis]&&n[r].draw(this._ctx)}}class Zn extends Ct{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=it(e[n+s][2],this.resolveDataElementOptions(s+n).radius);return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const a=e[n+s];r[s]._custom=it(a&&a.r&&+a.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),a=i.getLabelForValue(s.x),l=r.getLabelForValue(s.y),u=s._custom;return{label:n[t]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(e,i),c=s.axis,f=a.axis;for(let d=e;d<e+n;d++){const h=t[d],m=!r&&this.getParsed(d),p={},v=p[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(m[c]),y=p[f]=r?a.getBasePixel():a.getPixelForValue(m[f]);p.skip=isNaN(v)||isNaN(y),u&&(p.options=l||this.resolveDataElementOptions(d,h.active?"active":i),r&&(p.options.radius=0)),this.updateElement(h,d,p,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=it(n&&n._custom,r),i}}function qo(o,t,e){let n=1,i=1,r=0,s=0;if(t<yt){const a=o,l=a+t,u=Math.cos(a),c=Math.sin(a),f=Math.cos(l),d=Math.sin(l),h=(b,E,_)=>ye(b,a,l,!0)?1:Math.max(E,E*e,_,_*e),m=(b,E,_)=>ye(b,a,l,!0)?-1:Math.min(E,E*e,_,_*e),p=h(0,u,f),v=h(At,c,d),y=m(Dt,u,f),g=m(Dt+At,c,d);n=(p-y)/2,i=(v-g)/2,r=-(p+y)/2,s=-(v+g)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:s}}class we extends Ct{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((r,s)=>{const l=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let s,a,r=l=>+n[l];if(ut(n[t])){const{key:l="value"}=this._parsing;r=u=>+Xt(n[u],l)}for(s=t,a=t+e;s<a;++s)i._parsed[s]=r(s)}}_getRotation(){return St(this.options.rotation-90)}_getCircumference(){return St(this.options.circumference)}_getRotationExtents(){let t=yt,e=-yt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),l=Math.min(jr(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:m,offsetY:p}=qo(f,c,l),g=Math.max(Math.min((n.width-s)/d,(n.height-s)/h)/2,0),b=Fr(this.options.radius,g),_=(b-Math.max(b*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=p*b,i.total=this.calculateTotal(),this.outerRadius=b-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/yt)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,a=s.chartArea,c=(a.left+a.right)/2,f=(a.top+a.bottom)/2,d=r&&s.options.animation.animateScale,h=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(e,i);let g,y=this._getRotation();for(g=0;g<e;++g)y+=this._circumference(g,r);for(g=e;g<e+n;++g){const b=this._circumference(g,r),E=t[g],_={x:c+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:m,innerRadius:h};v&&(_.options=p||this.resolveDataElementOptions(g,E.active?"active":i)),y+=b,this.updateElement(E,g,_,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,n=0;for(i=0;i<e.length;i++){const r=t._parsed[i];null!==r&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?yt*(Math.abs(t)/e):0}getLabelAndValue(t){const n=this.chart,i=n.data.labels||[],r=ve(this._cachedMeta._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,a,l;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,a=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)l=a.resolveDataElementOptions(i),"inner"!==l.borderAlign&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const r=this.resolveDataElementOptions(n);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(it(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Qn extends Ct{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:a,count:l}=vn(e,i,s);this._drawStart=a,this._drawCount=l,yn(e)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:u},t),this.updateElements(i,a,l,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(e,i),d=s.axis,h=a.axis,{spanGaps:m,segment:p}=this.options,v=Gt(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===i,g=e+n,b=t.length;let E=e>0&&this.getParsed(e-1);for(let _=0;_<b;++_){const k=t[_],A=y?k:{};if(_<e||_>=g){A.skip=!0;continue}const O=this.getParsed(_),x=ot(O[h]),w=A[d]=s.getPixelForValue(O[d],_),S=A[h]=r||x?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[h],_);A.skip=isNaN(w)||isNaN(S)||x,A.stop=_>0&&Math.abs(O[d]-E[d])>v,p&&(A.parsed=O,A.raw=u.data[_]),f&&(A.options=c||this.resolveDataElementOptions(_,k.active?"active":i)),y||this.updateElement(k,_,A,i),E=O}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class Ge extends Ct{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((r,s)=>{const l=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this.chart,i=n.data.labels||[],r=ve(this._cachedMeta._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return bn.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((n,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),a=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,l=s.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,f=u.yCenter,d=u.getIndexAngle(0)-.5*Dt;let m,h=d;const p=360/this.countVisibleElements();for(m=0;m<e;++m)h+=this._computeAngle(m,i,p);for(m=e;m<e+n;m++){const v=t[m];let y=h,g=h+this._computeAngle(m,i,p),b=s.getDataVisibility(m)?u.getDistanceFromCenterForValue(this.getParsed(m).r):0;h=g,r&&(l.animateScale&&(b=0),l.animateRotate&&(y=g=d));const E={x:c,y:f,innerRadius:0,outerRadius:b,startAngle:y,endAngle:g,options:this.resolveDataElementOptions(m,v.active?"active":i)};this.updateElement(v,m,E,i)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?St(this.resolveDataElementOptions(t,e).angle||n):0}}class Jn extends we{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class ti extends Ct{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return bn.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0),this.updateElement(n,void 0,{_loop:!0,_fullLoop:r.length===i.length,options:s},t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let a=e;a<e+n;a++){const l=t[a],u=this.resolveDataElementOptions(a,l.active?"active":i),c=r.getPointPositionForValue(a,this.getParsed(a).r),f=s?r.xCenter:c.x,d=s?r.yCenter:c.y,h={x:f,y:d,angle:c.angle,skip:isNaN(f)||isNaN(d),options:u};this.updateElement(l,a,h,i)}}}class ei extends Ct{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),a=i.getLabelForValue(s.x),l=r.getLabelForValue(s.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=vn(e,n,i);if(this._drawStart=r,this._drawCount=s,yn(e)&&(r=0,s=n.length),this.options.showLine){const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:u},t)}this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),f=this.getSharedOptions(c),d=this.includeOptions(i,f),h=s.axis,m=a.axis,{spanGaps:p,segment:v}=this.options,y=Gt(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===i;let b=e>0&&this.getParsed(e-1);for(let E=e;E<e+n;++E){const _=t[E],k=this.getParsed(E),A=g?_:{},O=ot(k[m]),x=A[h]=s.getPixelForValue(k[h],E),w=A[m]=r||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[m],E);A.skip=isNaN(x)||isNaN(w)||O,A.stop=E>0&&Math.abs(k[h]-b[h])>y,v&&(A.parsed=k,A.raw=u.data[E]),d&&(A.options=f||this.resolveDataElementOptions(E,_.active?"active":i)),g||this.updateElement(_,E,A,i),b=k}this.updateSharedOptions(f,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}var ni=Object.freeze({__proto__:null,BarController:Gn,BubbleController:Zn,DoughnutController:we,LineController:Qn,PolarAreaController:Ge,PieController:Jn,RadarController:ti,ScatterController:ei});function Kt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hn{static override(t){Object.assign(hn.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return Kt()}parse(){return Kt()}format(){return Kt()}add(){return Kt()}diff(){return Kt()}startOf(){return Kt()}endOf(){return Kt()}}var ii={_date:hn};function zo(o,t,e,n){const{controller:i,data:r,_sorted:s}=o,a=i._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&r.length){const l=a._reversePixels?qr:ne;if(!n)return l(r,t,e);if(i._sharedOptions){const u=r[0],c="function"==typeof u.getRange&&u.getRange(t);if(c){const f=l(r,t,e-c),d=l(r,t,e+c);return{lo:f.lo,hi:d.hi}}}}return{lo:0,hi:r.length-1}}function ae(o,t,e,n,i){const r=o.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=r.length;a<l;++a){const{index:u,data:c}=r[a],{lo:f,hi:d}=zo(r[a],t,s,i);for(let h=f;h<=d;++h){const m=c[h];m.skip||n(m,u,h)}}}function Ho(o){const t=-1!==o.indexOf("x"),e=-1!==o.indexOf("y");return function(n,i){const r=t?Math.abs(n.x-i.x):0,s=e?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function Ze(o,t,e,n,i){const r=[];return!i&&!o.isPointInArea(t)||ae(o,e,t,function(a,l,u){!i&&!qe(a,o.chartArea,0)||a.inRange(t.x,t.y,n)&&r.push({element:a,datasetIndex:l,index:u})},!0),r}function Vo(o,t,e,n){let i=[];return ae(o,e,t,function r(s,a,l){const{startAngle:u,endAngle:c}=s.getProps(["startAngle","endAngle"],n),{angle:f}=_n(s,{x:t.x,y:t.y});ye(f,u,c)&&i.push({element:s,datasetIndex:a,index:l})}),i}function Wo(o,t,e,n,i,r){let s=[];const a=Ho(e);let l=Number.POSITIVE_INFINITY;return ae(o,e,t,function u(c,f,d){const h=c.inRange(t.x,t.y,i);if(n&&!h)return;const m=c.getCenterPoint(i);if(!r&&!o.isPointInArea(m)&&!h)return;const v=a(t,m);v<l?(s=[{element:c,datasetIndex:f,index:d}],l=v):v===l&&s.push({element:c,datasetIndex:f,index:d})}),s}function Qe(o,t,e,n,i,r){return r||o.isPointInArea(t)?"r"!==e||n?Wo(o,t,e,n,i,r):Vo(o,t,e,i):[]}function ri(o,t,e,n,i){const r=[],s="x"===e?"inXRange":"inYRange";let a=!1;return ae(o,e,t,(l,u,c)=>{l[s](t[e],i)&&(r.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:r}var oi={evaluateInteractionItems:ae,modes:{index(o,t,e,n){const i=Vt(t,o),r=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?Ze(o,i,r,n,s):Qe(o,i,r,!1,n,s),l=[];return a.length?(o.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,f=u.data[c];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:c})}),l):[]},dataset(o,t,e,n){const i=Vt(t,o),r=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?Ze(o,i,r,n,s):Qe(o,i,r,!1,n,s);if(a.length>0){const l=a[0].datasetIndex,u=o.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point:(o,t,e,n)=>Ze(o,Vt(t,o),e.axis||"xy",n,e.includeInvisible||!1),nearest:(o,t,e,n)=>Qe(o,Vt(t,o),e.axis||"xy",e.intersect,n,e.includeInvisible||!1),x:(o,t,e,n)=>ri(o,Vt(t,o),"x",e.intersect,n),y:(o,t,e,n)=>ri(o,Vt(t,o),"y",e.intersect,n)}};const si=["left","top","right","bottom"];function le(o,t){return o.filter(e=>e.pos===t)}function ai(o,t){return o.filter(e=>-1===si.indexOf(e.pos)&&e.box.axis===t)}function ue(o,t){return o.sort((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Uo(o){const t=[];let e,n,i,r,s,a;for(e=0,n=(o||[]).length;e<n;++e)i=o[e],({position:r,options:{stack:s,stackWeight:a=1}}=i),t.push({index:e,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&r+s,stackWeight:a});return t}function $o(o){const t={};for(const e of o){const{stack:n,pos:i,stackWeight:r}=e;if(!n||!si.includes(i))continue;const s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}function Ko(o,t){const e=$o(o),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let r,s,a;for(r=0,s=o.length;r<s;++r){a=o[r];const{fullSize:l}=a.box,u=e[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=c?c*i:l&&t.availableHeight)}return e}function Yo(o){const t=Uo(o),e=ue(t.filter(u=>u.box.fullSize),!0),n=ue(le(t,"left"),!0),i=ue(le(t,"right")),r=ue(le(t,"top"),!0),s=ue(le(t,"bottom")),a=ai(t,"x"),l=ai(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:le(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:r.concat(s).concat(a)}}function li(o,t,e,n){return Math.max(o[e],t[e])+Math.max(o[n],t[n])}function ui(o,t){o.top=Math.max(o.top,t.top),o.left=Math.max(o.left,t.left),o.bottom=Math.max(o.bottom,t.bottom),o.right=Math.max(o.right,t.right)}function Xo(o,t,e,n){const{pos:i,box:r}=e,s=o.maxPadding;if(!ut(i)){e.size&&(o[i]-=e.size);const f=n[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?r.height:r.width),e.size=f.size/f.count,o[i]+=e.size}r.getPadding&&ui(s,r.getPadding());const a=Math.max(0,t.outerWidth-li(s,o,"left","right")),l=Math.max(0,t.outerHeight-li(s,o,"top","bottom")),u=a!==o.w,c=l!==o.h;return o.w=a,o.h=l,e.horizontal?{same:u,other:c}:{same:c,other:u}}function Go(o){const t=o.maxPadding;function e(n){const i=Math.max(t[n]-o[n],0);return o[n]+=i,i}o.y+=e("top"),o.x+=e("left"),e("right"),e("bottom")}function Zo(o,t){const e=t.maxPadding;return function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{r[s]=Math.max(t[s],e[s])}),r}(o?["left","right"]:["top","bottom"])}function ce(o,t,e,n){const i=[];let r,s,a,l,u,c;for(r=0,s=o.length,u=0;r<s;++r){a=o[r],l=a.box,l.update(a.width||t.w,a.height||t.h,Zo(a.horizontal,t));const{same:f,other:d}=Xo(t,e,a,n);u|=f&&i.length,c=c||d,l.fullSize||i.push(a)}return u&&ce(i,t,e,n)||c}function Ee(o,t,e,n,i){o.top=e,o.left=t,o.right=t+n,o.bottom=e+i,o.width=n,o.height=i}function ci(o,t,e,n){const i=e.padding;let{x:r,y:s}=t;for(const a of o){const l=a.box,u=n[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const f=t.w*c,d=u.size||l.height;ee(u.start)&&(s=u.start),l.fullSize?Ee(l,i.left,s,e.outerWidth-i.right-i.left,d):Ee(l,t.left+u.placed,s,f,d),u.start=s,u.placed+=f,s=l.bottom}else{const f=t.h*c,d=u.size||l.width;ee(u.start)&&(r=u.start),l.fullSize?Ee(l,r,i.top,d,e.outerHeight-i.bottom-i.top):Ee(l,r,t.top+u.placed,d,f),u.start=r,u.placed+=f,r=l.right}}t.x=r,t.y=s}var gt={addBox(o,t){o.boxes||(o.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},o.boxes.push(t)},removeBox(o,t){const e=o.boxes?o.boxes.indexOf(t):-1;-1!==e&&o.boxes.splice(e,1)},configure(o,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(o,t,e,n){if(!o)return;const i=mt(o.options.layout.padding),r=Math.max(t-i.width,0),s=Math.max(e-i.height,0),a=Yo(o.boxes),l=a.vertical,u=a.horizontal;st(o.boxes,p=>{"function"==typeof p.beforeLayout&&p.beforeLayout()});const c=l.reduce((p,v)=>v.box.options&&!1===v.box.options.display?p:p+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/c,hBoxMaxHeight:s/2}),d=Object.assign({},i);ui(d,mt(n));const h=Object.assign({maxPadding:d,w:r,h:s,x:i.left,y:i.top},i),m=Ko(l.concat(u),f);ce(a.fullSize,h,f,m),ce(l,h,f,m),ce(u,h,f,m)&&ce(l,h,f,m),Go(h),ci(a.leftAndTop,h,f,m),h.x+=h.w,h.y+=h.h,ci(a.rightAndBottom,h,f,m),o.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},st(a.chartArea,p=>{const v=p.box;Object.assign(v,o.chartArea),v.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Je{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class fi extends Je{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ae="$chartjs",Qo={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hi=o=>null===o||""===o;function Jo(o,t){const e=o.style,n=o.getAttribute("height"),i=o.getAttribute("width");if(o[Ae]={initial:{height:n,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",hi(i)){const r=On(o,"width");void 0!==r&&(o.width=r)}if(hi(n))if(""===o.style.height)o.height=o.width/(t||2);else{const r=On(o,"height");void 0!==r&&(o.height=r)}return o}const di=!!Hr&&{passive:!0};function ts(o,t,e){o.addEventListener(t,e,di)}function es(o,t,e){o.canvas.removeEventListener(t,e,di)}function ns(o,t){const e=Qo[o.type]||o.type,{x:n,y:i}=Vt(o,t);return{type:e,chart:t,native:o,x:void 0!==n?n:null,y:void 0!==i?i:null}}function Se(o,t){for(const e of o)if(e===t||e.contains(t))return!0}function is(o,t,e){const n=o.canvas,i=new MutationObserver(r=>{let s=!1;for(const a of r)s=s||Se(a.addedNodes,n),s=s&&!Se(a.removedNodes,n);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function rs(o,t,e){const n=o.canvas,i=new MutationObserver(r=>{let s=!1;for(const a of r)s=s||Se(a.removedNodes,n),s=s&&!Se(a.addedNodes,n);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const fe=new Map;let pi=0;function gi(){const o=window.devicePixelRatio;o!==pi&&(pi=o,fe.forEach((t,e)=>{e.currentDevicePixelRatio!==o&&t()}))}function os(o,t){fe.size||window.addEventListener("resize",gi),fe.set(o,t)}function ss(o){fe.delete(o),fe.size||window.removeEventListener("resize",gi)}function as(o,t,e){const n=o.canvas,i=n&&xn(n);if(!i)return;const r=kn((a,l)=>{const u=i.clientWidth;e(a,l),u<i.clientWidth&&e()},window),s=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;0===u&&0===c||r(u,c)});return s.observe(i),os(o,r),s}function tn(o,t,e){e&&e.disconnect(),"resize"===t&&ss(o)}function ls(o,t,e){const n=o.canvas,i=kn(r=>{null!==o.ctx&&e(ns(r,o))},o);return ts(n,t,i),i}class mi extends Je{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Jo(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Ae])return!1;const n=e[Ae].initial;["height","width"].forEach(r=>{const s=n[r];ot(s)?e.removeAttribute(r):e.setAttribute(r,s)});const i=n.style||{};return Object.keys(i).forEach(r=>{e.style[r]=i[r]}),e.width=e.width,delete e[Ae],!0}addEventListener(t,e,n){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:is,detach:rs,resize:as}[e]||ls)(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];i&&(({attach:tn,detach:tn,resize:tn}[e]||es)(t,e,i),n[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return zr(t,e,n,i)}isAttached(t){const e=xn(t);return!(!e||!e.isConnected)}}function vi(o){return!wn()||typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas?fi:mi}class Mt{static defaults={};static defaultRoutes=void 0;active=!1;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Gt(this.x)&&Gt(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}}function us(o,t){const e=o.options.ticks,n=cs(o),i=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?hs(t):[],s=r.length,a=r[0],l=r[s-1],u=[];if(s>i)return ds(t,u,r,s/i),u;const c=fs(r,t,i);if(s>0){let f,d;const h=s>1?Math.round((l-a)/(s-1)):null;for(Pe(t,u,c,ot(h)?0:a-h,a),f=0,d=s-1;f<d;f++)Pe(t,u,c,r[f],r[f+1]);return Pe(t,u,c,l,ot(h)?t.length:l+h),u}return Pe(t,u,c),u}function cs(o){const t=o.options.offset,e=o._tickSize();return Math.floor(Math.min(o._length/e+(t?0:1),o._maxLength/e))}function fs(o,t,e){const n=ps(o),i=t.length/e;if(!n)return Math.max(i,1);const r=Vr(n);for(let s=0,a=r.length-1;s<a;s++){const l=r[s];if(l>i)return l}return Math.max(i,1)}function hs(o){const t=[];let e,n;for(e=0,n=o.length;e<n;e++)o[e].major&&t.push(e);return t}function ds(o,t,e,n){let s,i=0,r=e[0];for(n=Math.ceil(n),s=0;s<o.length;s++)s===r&&(t.push(o[s]),i++,r=e[i*n])}function Pe(o,t,e,n,i){const r=it(n,0),s=Math.min(it(i,o.length),o.length);let l,u,c,a=0;for(e=Math.ceil(e),i&&(l=i-n,e=l/Math.floor(l/e)),c=r;c<0;)a++,c=Math.round(r+a*e);for(u=Math.max(r,0);u<s;u++)u===c&&(t.push(o[u]),a++,c=Math.round(r+a*e))}function ps(o){const t=o.length;let e,n;if(t<2)return!1;for(n=o[0],e=1;e<t;++e)if(o[e]-o[e-1]!==n)return!1;return n}const gs=o=>"left"===o?"right":"right"===o?"left":o,yi=(o,t,e)=>"top"===t||"left"===t?o[t]+e:o[t]-e,bi=(o,t)=>Math.min(t||o,o);function _i(o,t){const e=[],n=o.length/t,i=o.length;let r=0;for(;r<i;r+=n)e.push(o[Math.floor(r)]);return e}function ms(o,t,e){const n=o.ticks.length,i=Math.min(t,n-1),r=o._startPixel,s=o._endPixel,a=1e-6;let u,l=o.getPixelForTick(i);if(!(e&&(u=1===n?Math.max(l-r,s-l):0===t?(o.getPixelForTick(1)-l)/2:(l-o.getPixelForTick(i-1))/2,l+=i<t?u:-u,l<r-a||l>s+a)))return l}function vs(o,t){st(o,e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}})}function he(o){return o.drawTicks?o.tickLength:0}function xi(o,t){if(!o.display)return 0;const e=pt(o.font,t),n=mt(o.padding);return(xt(o.text)?o.text.length:1)*e.lineHeight+n.height}function ys(o,t){return Ht(o,{scale:t,type:"scale"})}function bs(o,t,e){return Ht(o,{tick:e,index:t,type:"tick"})}function _s(o,t,e){let n=He(o);return(e&&"right"!==t||!e&&"right"===t)&&(n=gs(n)),n}function xs(o,t,e,n){const{top:i,left:r,bottom:s,right:a,chart:l}=o,{chartArea:u,scales:c}=l;let d,h,m,f=0;const p=s-i,v=a-r;if(o.isHorizontal()){if(h=vt(n,r,a),ut(e)){const y=Object.keys(e)[0];m=c[y].getPixelForValue(e[y])+p-t}else m="center"===e?(u.bottom+u.top)/2+p-t:yi(o,e,t);d=a-r}else{if(ut(e)){const y=Object.keys(e)[0];h=c[y].getPixelForValue(e[y])-v+t}else h="center"===e?(u.left+u.right)/2-v+t:yi(o,e,t);m=vt(n,s,i),f="left"===e?-At:At}return{titleX:h,titleY:m,maxWidth:d,rotation:f}}class zt extends Mt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=wt(t,Number.POSITIVE_INFINITY),e=wt(e,Number.NEGATIVE_INFINITY),n=wt(n,Number.POSITIVE_INFINITY),i=wt(i,Number.NEGATIVE_INFINITY),{min:wt(t,n),max:wt(e,i),minDefined:ht(t),maxDefined:ht(e)}}getMinMax(t){let s,{min:e,max:n,minDefined:i,maxDefined:r}=this.getUserBounds();if(i&&r)return{min:e,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)s=a[l].controller.getMinMax(this,t),i||(e=Math.min(e,s.min)),r||(n=Math.max(n,s.max));return e=r&&e>n?n:e,n=i&&e>n?e:n,{min:wt(e,wt(n,e)),max:wt(n,wt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Wr(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?_i(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=us(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,n,t=this.options.reverse;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),at(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=at(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=bi(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let a,l,u,s=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),f=c.widest.width,d=c.highest.height,h=bt(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/n:h/(n-1),f+6>a&&(a=h/(n-(t.offset?.5:1)),l=this.maxHeight-he(t.grid)-e.padding-xi(t.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),s=ze(Math.min(Math.asin(bt((c.highest.height+6)/a,-1,1)),Math.asin(bt(l/u,-1,1))-Math.asin(bt(d/u,-1,1)))),s=Math.max(i,Math.min(r,s))),this.labelRotation=s}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=xi(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=he(r)+l):(t.height=this.maxHeight,t.width=he(r)+l),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:d}=this._getLabelSizes(),h=2*n.padding,m=St(this.labelRotation),p=Math.cos(m),v=Math.sin(m);a?t.height=Math.min(this.maxHeight,t.height+(n.mirror?0:v*f.width+p*d.height)+h):t.width=Math.min(this.maxWidth,t.width+(n.mirror?0:p*f.width+v*d.height)+h),this._calculatePadding(u,c,v,p)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:a}=this.options,l=0!==this.labelRotation,u="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;l?u?(d=i*t.width,h=n*e.height):(d=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?d=t.width:"inner"!==r&&(d=t.width/2,h=e.width/2),this.paddingLeft=Math.max((d-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-f+s)*this.width/(this.width-f),0)}else{let c=e.height/2,f=t.height/2;"start"===r?(c=0,f=t.height):"end"===r&&(c=e.height,f=0),this.paddingTop=c+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)ot(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=_i(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,s=[],a=[],l=Math.floor(e/bi(e,n));let f,d,h,m,p,v,y,g,b,E,_,u=0,c=0;for(f=0;f<e;f+=l){if(m=t[f].label,p=this._resolveTickFontOptions(f),i.font=v=p.string,y=r[v]=r[v]||{data:{},gc:[]},g=p.lineHeight,b=E=0,ot(m)||xt(m)){if(xt(m))for(d=0,h=m.length;d<h;++d)_=m[d],!ot(_)&&!xt(_)&&(b=En(i,y.data,y.gc,b,_),E+=g)}else b=En(i,y.data,y.gc,b,m),E=g;s.push(b),a.push(E),u=Math.max(b,u),c=Math.max(E,c)}vs(r,e);const k=s.indexOf(u),A=a.indexOf(c),O=x=>({width:s[x]||0,height:a[x]||0});return{first:O(0),last:O(e-1),widest:O(k),highest:O(A),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Ur(this._alignToPixels?Wt(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=bs(this.getContext(),t,n))}return this.$context||(this.$context=ys(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=St(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:a}=i,l=r.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=he(r),h=[],m=a.setContext(this.getContext()),p=m.display?m.width:0,v=p/2,y=function(V){return Wt(n,V,p)};let g,b,E,_,k,A,O,x,w,S,T,N;if("top"===s)g=y(this.bottom),A=this.bottom-d,x=g-v,S=y(t.top)+v,N=t.bottom;else if("bottom"===s)g=y(this.top),S=t.top,N=y(t.bottom)-v,A=g+v,x=this.top+d;else if("left"===s)g=y(this.right),k=this.right-d,O=g-v,w=y(t.left)+v,T=t.right;else if("right"===s)g=y(this.left),w=t.left,T=y(t.right)-v,k=g+v,O=this.left+d;else if("x"===e){if("center"===s)g=y((t.top+t.bottom)/2+.5);else if(ut(s)){const V=Object.keys(s)[0];g=y(this.chart.scales[V].getPixelForValue(s[V]))}S=t.top,N=t.bottom,A=g+v,x=A+d}else if("y"===e){if("center"===s)g=y((t.left+t.right)/2);else if(ut(s)){const V=Object.keys(s)[0];g=y(this.chart.scales[V].getPixelForValue(s[V]))}k=g-v,O=k-d,w=t.left,T=t.right}const j=it(i.ticks.maxTicksLimit,f),B=Math.max(1,Math.ceil(f/j));for(b=0;b<f;b+=B){const V=this.getContext(b),C=r.setContext(V),D=a.setContext(V),P=C.lineWidth,L=C.color,R=D.dash||[],q=D.dashOffset,F=C.tickWidth,M=C.tickColor,I=C.tickBorderDash||[],z=C.tickBorderDashOffset;E=ms(this,b,l),void 0!==E&&(_=Wt(n,E,P),u?k=O=w=T=_:A=x=S=N=_,h.push({tx1:k,ty1:A,tx2:O,ty2:x,x1:w,y1:S,x2:T,y2:N,width:P,color:L,borderDash:R,borderDashOffset:q,tickWidth:F,tickColor:M,tickBorderDash:I,tickBorderDashOffset:z}))}return this._ticksLength=f,this._borderValue=g,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=r,d=he(n.grid),h=d+c,m=f?-c:h,p=-St(this.labelRotation),v=[];let y,g,b,E,_,k,A,O,x,w,S,T,N="middle";if("top"===i)k=this.bottom-m,A=this._getXAxisLabelAlignment();else if("bottom"===i)k=this.top+m,A=this._getXAxisLabelAlignment();else if("left"===i){const B=this._getYAxisLabelAlignment(d);A=B.textAlign,_=B.x}else if("right"===i){const B=this._getYAxisLabelAlignment(d);A=B.textAlign,_=B.x}else if("x"===e){if("center"===i)k=(t.top+t.bottom)/2+h;else if(ut(i)){const B=Object.keys(i)[0];k=this.chart.scales[B].getPixelForValue(i[B])+h}A=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)_=(t.left+t.right)/2-h;else if(ut(i)){const B=Object.keys(i)[0];_=this.chart.scales[B].getPixelForValue(i[B])}A=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===l?N="top":"end"===l&&(N="bottom"));const j=this._getLabelSizes();for(y=0,g=a.length;y<g;++y){b=a[y],E=b.label;const B=r.setContext(this.getContext(y));O=this.getPixelForTick(y)+r.labelOffset,x=this._resolveTickFontOptions(y),w=x.lineHeight,S=xt(E)?E.length:1;const V=S/2,C=B.color,D=B.textStrokeColor,P=B.textStrokeWidth;let R,L=A;if(s?(_=O,"inner"===A&&(L=y===g-1?this.options.reverse?"left":"right":0===y?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===u||0!==p?-S*w+w/2:"center"===u?-j.highest.height/2-V*w+w:w/2-j.highest.height:"near"===u||0!==p?w/2:"center"===u?j.highest.height/2-V*w:j.highest.height-S*w,f&&(T*=-1),0!==p&&!B.showLabelBackdrop&&(_+=w/2*Math.sin(p))):(k=O,T=(1-S)*w/2),B.showLabelBackdrop){const q=mt(B.backdropPadding),F=j.heights[y],M=j.widths[y];let I=T-q.top,z=0-q.left;switch(N){case"middle":I-=F/2;break;case"bottom":I-=F}switch(A){case"center":z-=M/2;break;case"right":z-=M}R={left:z,top:I,width:M+q.width,height:F+q.height,color:B.backdropColor}}v.push({label:E,font:x,textOffset:T,options:{rotation:p,color:C,strokeColor:D,strokeWidth:P,textAlign:L,textBaseline:N,translation:[_,k],backdrop:R}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-St(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=t+r,l=this._getLabelSizes().widest.width;let u,c;return"left"===e?i?(c=this.right+r,"near"===n?u="left":"center"===n?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,"near"===n?u="right":"center"===n?(u="center",c-=l/2):(u="left",c=this.left)):"right"===e?i?(c=this.left+r,"near"===n?u="right":"center"===n?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,"near"===n?u="left":"center"===n?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const a=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const l=i[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,f,d;this.isHorizontal()?(u=Wt(t,this.left,s)-s/2,c=Wt(t,this.right,a)+a/2,f=d=l):(f=Wt(t,this.top,s)-s/2,d=Wt(t,this.bottom,a)+a/2,u=c=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(u,f),e.lineTo(c,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&be(n,i);const r=this.getLabelItems(t);for(const s of r)Ut(n,s.label,0,s.textOffset,s.font,s.options);i&&_e(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=pt(n.font),s=mt(n.padding),a=n.align;let l=r.lineHeight/2;"bottom"===e||"center"===e||ut(e)?(l+=s.bottom,xt(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:u,titleY:c,maxWidth:f,rotation:d}=xs(this,l,e,a);Ut(t,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:d,textAlign:_s(a,e,i),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=it(t.grid&&t.grid.z,-1),i=it(t.border&&t.border.z,0);return this._isVisible()&&this.draw===zt.prototype.draw?[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return pt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Te{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;ws(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,Os(t,s,n),this.override&&ft.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in ft[i]&&(delete ft[i][n],this.override&&delete Zt[n])}}function Os(o,t,e){const n=$r(Object.create(null),[e?ft.get(e):{},ft.get(t),o.defaults]);ft.set(t,n),o.defaultRoutes&&ks(t,o.defaultRoutes),o.descriptors&&ft.describe(t,o.descriptors)}function ks(o,t){Object.keys(t).forEach(e=>{const n=e.split("."),i=n.pop(),r=[o].concat(n).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");ft.route(r,i,l,a)})}function ws(o){return"id"in o&&"defaults"in o}class Es{constructor(){this.controllers=new Te(Ct,"datasets",!0),this.elements=new Te(Mt,"elements"),this.plugins=new Te(Object,"plugins"),this.scales=new Te(zt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):st(i,s=>{const a=n||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,n){const i=Kr(t);at(n["before"+i],[],n),e[t](n),at(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Pt=new Es;class As{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const s=r.plugin;if(!1===at(s[n],[e,i,r.options],s)&&i.cancelable)return!1}return!0}invalidate(){ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=it(n.options&&n.options.plugins,{}),r=Ss(n);return!1!==i||e?Ts(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(r,s)=>r.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Ss(o){const t={},e=[],n=Object.keys(Pt.plugins.items);for(let r=0;r<n.length;r++)e.push(Pt.getPlugin(n[r]));const i=o.plugins||[];for(let r=0;r<i.length;r++){const s=i[r];-1===e.indexOf(s)&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function Ps(o,t){return t||!1!==o?!0===o?{}:o:null}function Ts(o,{plugins:t,localIds:e},n,i){const r=[],s=o.getContext();for(const a of t){const l=a.id,u=Ps(n[l],i);null!==u&&r.push({plugin:a,options:Ms(o.config,{plugin:a,local:e[l]},u,s)})}return r}function Ms(o,{plugin:t,local:e},n,i){const r=o.pluginScopeKeys(t),s=o.getOptionScopes(n,r);return e&&t.defaults&&s.push(t.defaults),o.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function en(o,t){return((t.datasets||{})[o]||{}).indexAxis||t.indexAxis||(ft.datasets[o]||{}).indexAxis||"x"}function Ls(o,t){let e=o;return"_index_"===o?e=t:"_value_"===o&&(e="x"===t?"y":"x"),e}function Ns(o,t){return o===t?"_index_":"_value_"}function Ds(o){return"top"===o||"bottom"===o?"x":"left"===o||"right"===o?"y":void 0}function Me(o,t){if("x"===o||"y"===o||"r"===o||(o=t.axis||Ds(t.position)||o.length>1&&Me(o[0].toLowerCase(),t)))return o;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function Rs(o,t){const e=Zt[o.type]||{scales:{}},n=t.scales||{},i=en(o.type,t),r=Object.create(null);return Object.keys(n).forEach(s=>{const a=n[s];if(!ut(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=Me(s,a),u=Ns(l,i),c=e.scales||{};r[s]=Oe(Object.create(null),[{axis:l},a,c[l],c[u]])}),o.data.datasets.forEach(s=>{const a=s.type||o.type,l=s.indexAxis||en(a,t),c=(Zt[a]||{}).scales||{};Object.keys(c).forEach(f=>{const d=Ls(f,l),h=s[d+"AxisID"]||d;r[h]=r[h]||Object.create(null),Oe(r[h],[{axis:d},n[h],c[f]])})}),Object.keys(r).forEach(s=>{const a=r[s];Oe(a,[ft.scales[a.type],ft.scale])}),r}function Oi(o){const t=o.options||(o.options={});t.plugins=it(t.plugins,{}),t.scales=Rs(o,t)}function ki(o){return(o=o||{}).datasets=o.datasets||[],o.labels=o.labels||[],o}function Cs(o){return(o=o||{}).data=ki(o.data),Oi(o),o}const wi=new Map,Ei=new Set;function Le(o,t){let e=wi.get(o);return e||(e=t(),wi.set(o,e),Ei.add(e)),e}const de=(o,t,e)=>{const n=Xt(t,e);void 0!==n&&o.add(n)};class Is{constructor(t){this._config=Cs(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ki(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Oi(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Le(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Le(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Le(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return Le(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return(!i||e)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),a=s.get(e);if(a)return a;const l=new Set;e.forEach(c=>{t&&(l.add(t),c.forEach(f=>de(l,t,f))),c.forEach(f=>de(l,i,f)),c.forEach(f=>de(l,Zt[r]||{},f)),c.forEach(f=>de(l,ft,f)),c.forEach(f=>de(l,An,f))});const u=Array.from(l);return 0===u.length&&u.push(Object.create(null)),Ei.has(e)&&s.set(e,u),u}chartOptionScopes(){const{options:t,type:e}=this;return[t,Zt[e]||{},ft.datasets[e]||{},{type:e},ft,An]}resolveNamedOptions(t,e,n,i=[""]){const r={$shared:!0},{resolver:s,subPrefixes:a}=Ai(this._resolverCache,t,i);let l=s;if(js(s,e)){r.$shared=!1,n=xe(n)?n():n;const u=this.createResolver(t,n,a);l=Sn(s,n,u)}for(const u of e)r[u]=l[u];return r}createResolver(t,e,n=[""],i){const{resolver:r}=Ai(this._resolverCache,t,n);return ut(e)?Sn(r,e,void 0,i):r}}function Ai(o,t,e){let n=o.get(t);n||(n=new Map,o.set(t,n));const i=e.join();let r=n.get(i);return r||(r={resolver:Yr(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,r)),r}const Bs=o=>ut(o)&&Object.getOwnPropertyNames(o).reduce((t,e)=>t||xe(o[e]),!1);function js(o,t){const{isScriptable:e,isIndexable:n}=Xr(o);for(const i of t){const r=e(i),s=n(i),a=(s||r)&&o[i];if(r&&(xe(a)||Bs(a))||s&&xt(a))return!0}return!1}var Fs="4.2.1";const qs=["top","bottom","left","right","chartArea"];function Si(o,t){return"top"===o||"bottom"===o||-1===qs.indexOf(o)&&"x"===t}function Pi(o,t){return function(e,n){return e[o]===n[o]?e[t]-n[t]:e[o]-n[o]}}function Ti(o){const t=o.chart,e=t.options.animation;t.notifyPlugins("afterRender"),at(e&&e.onComplete,[o],t)}function zs(o){const t=o.chart,e=t.options.animation;at(e&&e.onProgress,[o],t)}function Mi(o){return wn()&&"string"==typeof o?o=document.getElementById(o):o&&o.length&&(o=o[0]),o&&o.canvas&&(o=o.canvas),o}const Ne={},Li=o=>{const t=Mi(o);return Object.values(Ne).filter(e=>e.canvas===t).pop()};function Hs(o,t,e){const n=Object.keys(o);for(const i of n){const r=+i;if(r>=t){const s=o[i];delete o[i],(e>0||r>t)&&(o[r+e]=s)}}}function Vs(o,t,e,n){return e&&"mouseout"!==o.type?n?t:o:null}function Ws(o){const{xScale:t,yScale:e}=o;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}class Ni{static defaults=ft;static instances=Ne;static overrides=Zt;static registry=Pt;static version=Fs;static getChart=Li;static register(...t){Pt.add(...t),Di()}static unregister(...t){Pt.remove(...t),Di()}constructor(t,e){const n=this.config=new Is(e),i=Mi(t),r=Li(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||vi(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,s.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;this.id=Gr(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new As,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Zr(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],Ne[this.id]=this,a&&l?(Tt.listen(this,"complete",Ti),Tt.listen(this,"progress",zs),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return ot(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tn(this.canvas,this.ctx),this}stop(){return Tt.stop(this),this}resize(t,e){Tt.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,s=this.platform.getMaximumSize(this.canvas,t,e,n.maintainAspectRatio&&this.aspectRatio),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Pn(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),at(n.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){st(this.options.scales||{},(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((s,a)=>(s[a]=!1,s),{});let r=[];e&&(r=r.concat(Object.keys(e).map(s=>{const a=e[s],l=Me(s,a),u="r"===l,c="x"===l;return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),st(r,s=>{const a=s.options,l=a.id,u=Me(l,a),c=it(a.type,s.dtype);(void 0===a.position||Si(a.position,u)!==Si(s.dposition))&&(a.position=s.dposition),i[l]=!0;let f=null;l in n&&n[l].type===c?f=n[l]:(f=new(Pt.getScale(c))({id:l,type:c,ctx:this.ctx,chart:this}),n[f.id]=f),f.init(a,t)}),st(i,(s,a)=>{s||delete n[a]}),st(n,s=>{gt.configure(this,s,s.options),gt.addBox(this,s)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((i,r)=>i.index-r.index),n>e){for(let i=e;i<n;++i)this._destroyDatasetMeta(i);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Pi("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,i)=>{0===e.filter(r=>r===n._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const r=e[n];let s=this.getDatasetMeta(n);const a=r.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=a,s.indexAxis=r.indexAxis||en(a,this.options),s.order=r.order||0,s.index=n,s.label=""+r.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const l=Pt.getController(a),{datasetElementType:u,dataElementType:c}=ft.datasets[a];Object.assign(l,{dataElementType:Pt.getElement(c),datasetElementType:u&&Pt.getElement(u)}),s.controller=new l(this,n),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){st(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),d=!i&&-1===r.indexOf(f);f.buildOrUpdateElements(d),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||st(r,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Pi("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){st(this.scales,t=>{gt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Mn(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e)Hs(t,i,"_removeElements"===n?-r:r)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=r=>new Set(t.filter(s=>s[0]===r).map((s,a)=>a+","+s.splice(1).join(","))),i=n(0);for(let r=1;r<e;r++)if(!Mn(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;gt.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],st(this.boxes,i=>{n&&"chartArea"===i.position||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,xe(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Tt.has(this)?this.attached&&!Tt.running(this)&&Tt.start(this):(this.draw(),Ti({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const s=e[i];(!t||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=Ws(t)||this.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&be(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&_e(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return qe(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=oi.modes[e];return"function"==typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(r=>r&&r._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Ht(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);ee(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Tt.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Tn(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ne[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(r,s)=>{e.addEventListener(this,r,s),t[r]=s},i=(r,s,a)=>{r.offsetX=s,r.offsetY=a,this._eventHandler(r)};st(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(l,u)=>{e.addEventListener(this,l,u),t[l]=u},i=(l,u)=>{t[l]&&(e.removeEventListener(this,l,u),delete t[l])},r=(l,u)=>{this.canvas&&this.resize(l,u)};let s;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():s()}unbindEvents(){st(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},st(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,a,l;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){s=t[a];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:r,index:s})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[s],index:s}});!ke(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),s=r(e,t),a=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=s=>(s.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,a=this._getActiveElements(t,i,n,e),l=Qr(t),u=Vs(t,this._lastEvent,n,l);n&&(this._lastEvent=null,at(r.onHover,[t,a,this],this),l&&at(r.onClick,[t,a,this],this));const c=!ke(a,i);return(c||e)&&(this._active=a,this._updateHoverStyles(a,i,e)),this._lastEvent=u,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function Di(){return st(Ni.instances,o=>o._plugins.invalidate())}function Us(o,t,e){const{startAngle:n,pixelMargin:i,x:r,y:s,outerRadius:a,innerRadius:l}=t;let u=i/a;o.beginPath(),o.arc(r,s,a,n-u,e+u),l>i?(u=i/l,o.arc(r,s,l,e+u,n-u,!0)):o.arc(r,s,i,e+At,n-At),o.closePath(),o.clip()}function $s(o){return Jr(o,["outerStart","outerEnd","innerStart","innerEnd"])}function Ks(o,t,e,n){const i=$s(o.options.borderRadius),r=(e-t)/2,s=Math.min(r,n*t/2),a=l=>{const u=(e-Math.min(r,l))*n/2;return bt(l,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:bt(i.innerStart,0,s),innerEnd:bt(i.innerEnd,0,s)}}function Jt(o,t,e,n){return{x:e+o*Math.cos(t),y:n+o*Math.sin(t)}}function De(o,t,e,n,i,r){const{x:s,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=t,f=Math.max(t.outerRadius+n+e-u,0),d=c>0?c+n+e+u:0;let h=0;const m=i-l;if(n){const C=((c>0?c-n:0)+(f>0?f-n:0))/2;h=(m-(0!==C?m*C/(C+n):m))/2}const v=(m-Math.max(.001,m*f-e/Dt)/f)/2,y=l+v+h,g=i-v-h,{outerStart:b,outerEnd:E,innerStart:_,innerEnd:k}=Ks(t,d,f,g-y),A=f-b,O=f-E,x=y+b/A,w=g-E/O,S=d+_,T=d+k,N=y+_/S,j=g-k/T;if(o.beginPath(),r){const B=(x+w)/2;if(o.arc(s,a,f,x,B),o.arc(s,a,f,B,w),E>0){const P=Jt(O,w,s,a);o.arc(P.x,P.y,E,w,g+At)}const V=Jt(T,g,s,a);if(o.lineTo(V.x,V.y),k>0){const P=Jt(T,j,s,a);o.arc(P.x,P.y,k,g+At,j+Math.PI)}const C=(g-k/d+(y+_/d))/2;if(o.arc(s,a,d,g-k/d,C,!0),o.arc(s,a,d,C,y+_/d,!0),_>0){const P=Jt(S,N,s,a);o.arc(P.x,P.y,_,N+Math.PI,y-At)}const D=Jt(A,y,s,a);if(o.lineTo(D.x,D.y),b>0){const P=Jt(A,x,s,a);o.arc(P.x,P.y,b,y-At,x)}}else{o.moveTo(s,a);const B=Math.cos(x)*f+s,V=Math.sin(x)*f+a;o.lineTo(B,V);const C=Math.cos(w)*f+s,D=Math.sin(w)*f+a;o.lineTo(C,D)}o.closePath()}function Ys(o,t,e,n,i){const{fullCircles:r,startAngle:s,circumference:a}=t;let l=t.endAngle;if(r){De(o,t,e,n,l,i);for(let u=0;u<r;++u)o.fill();isNaN(a)||(l=s+(a%yt||yt))}return De(o,t,e,n,l,i),o.fill(),l}function Xs(o,t,e,n,i){const{fullCircles:r,startAngle:s,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:c}=l,f="inner"===l.borderAlign;if(!u)return;f?(o.lineWidth=2*u,o.lineJoin=c||"round"):(o.lineWidth=u,o.lineJoin=c||"bevel");let d=t.endAngle;if(r){De(o,t,e,n,d,i);for(let h=0;h<r;++h)o.stroke();isNaN(a)||(d=s+(a%yt||yt))}f&&Us(o,t,d),r||(De(o,t,e,n,d,i),o.stroke())}class Ri extends Mt{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=_n(i,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:c,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,m=it(f,l-a)>=yt||ye(r,a,l),p=Ft(s,u+d,c+d);return m&&p}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:u}=this.options,c=(i+r)/2,f=(s+a+u+l)/2;return{x:e+Math.cos(c)*f,y:n+Math.sin(c)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>yt?Math.floor(n/yt):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const u=i*(1-Math.sin(Math.min(Dt,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Ys(t,this,u,r,s),Xs(t,this,u,r,s),t.restore()}}function Ci(o,t,e=t){o.lineCap=it(e.borderCapStyle,t.borderCapStyle),o.setLineDash(it(e.borderDash,t.borderDash)),o.lineDashOffset=it(e.borderDashOffset,t.borderDashOffset),o.lineJoin=it(e.borderJoinStyle,t.borderJoinStyle),o.lineWidth=it(e.borderWidth,t.borderWidth),o.strokeStyle=it(e.borderColor,t.borderColor)}function Gs(o,t,e){o.lineTo(e.x,e.y)}function Zs(o){return o.stepped?oo:o.tension||"monotone"===o.cubicInterpolationMode?so:Gs}function Ii(o,t,e={}){const n=o.length,{start:i=0,end:r=n-1}=e,{start:s,end:a}=t,l=Math.max(i,s),u=Math.min(r,a);return{count:n,start:l,loop:t.loop,ilen:u<l&&!(i<s&&r<s||i>a&&r>a)?n+u-l:u-l}}function Qs(o,t,e,n){const{points:i,options:r}=t,{count:s,start:a,loop:l,ilen:u}=Ii(i,e,n),c=Zs(r);let h,m,p,{move:f=!0,reverse:d}=n||{};for(h=0;h<=u;++h)m=i[(a+(d?u-h:h))%s],!m.skip&&(f?(o.moveTo(m.x,m.y),f=!1):c(o,p,m,d,r.stepped),p=m);return l&&(m=i[(a+(d?u:0))%s],c(o,p,m,d,r.stepped)),!!l}function Js(o,t,e,n){const i=t.points,{count:r,start:s,ilen:a}=Ii(i,e,n),{move:l=!0,reverse:u}=n||{};let d,h,m,p,v,y,c=0,f=0;const g=E=>(s+(u?a-E:E))%r,b=()=>{p!==v&&(o.lineTo(c,v),o.lineTo(c,p),o.lineTo(c,y))};for(l&&(h=i[g(0)],o.moveTo(h.x,h.y)),d=0;d<=a;++d){if(h=i[g(d)],h.skip)continue;const E=h.x,_=h.y,k=0|E;k===m?(_<p?p=_:_>v&&(v=_),c=(f*c+E)/++f):(b(),o.lineTo(E,_),m=k,f=0,p=v=_),y=_}b()}function nn(o){const t=o.options;return o._decimated||o._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Qs:Js}function ta(o){return o.stepped?no:o.tension||"monotone"===o.cubicInterpolationMode?io:ro}function ea(o,t,e,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,n)&&i.closePath()),Ci(o,t.options),o.stroke(i)}function na(o,t,e,n){const{segments:i,options:r}=t,s=nn(t);for(const a of i)Ci(o,r,a.style),o.beginPath(),s(o,t,a,{start:e,end:e+n-1})&&o.closePath(),o.stroke()}const ia="function"==typeof Path2D;function ra(o,t,e,n){ia&&!t.options.segment?ea(o,t,e,n):na(o,t,e,n)}class pe extends Mt{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(to(this._points,n,t,n.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eo(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,n=t.length;return n&&this.points[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=Ln(this,{property:e,start:i,end:i});if(!s.length)return;const a=[],l=ta(n);let u,c;for(u=0,c=s.length;u<c;++u){const{start:f,end:d}=s[u],h=r[f],m=r[d];if(h===m){a.push(h);continue}const v=l(h,m,Math.abs((i-h[e])/(m[e]-h[e])),n.stepped);v[e]=t[e],a.push(v)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return nn(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=nn(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const a of i)s&=r(t,this,a,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),ra(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Bi(o,t,e,n){const i=o.options,{[e]:r}=o.getProps([e],n);return Math.abs(t-r)<i.radius+i.hitRadius}class ji extends Mt{static id="point";static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return Bi(this,t,"x",e)}inYRange(t,e){return Bi(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!qe(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Ve(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Fi(o,t){const{x:e,y:n,base:i,width:r,height:s}=o.getProps(["x","y","base","width","height"],t);let a,l,u,c,f;return o.horizontal?(f=s/2,a=Math.min(e,i),l=Math.max(e,i),u=n-f,c=n+f):(f=r/2,a=e-f,l=e+f,u=Math.min(n,i),c=Math.max(n,i)),{left:a,top:u,right:l,bottom:c}}function qt(o,t,e,n){return o?0:bt(t,e,n)}function oa(o,t,e){const i=o.borderSkipped,r=ao(o.options.borderWidth);return{t:qt(i.top,r.top,0,e),r:qt(i.right,r.right,0,t),b:qt(i.bottom,r.bottom,0,e),l:qt(i.left,r.left,0,t)}}function sa(o,t,e){const{enableBorderRadius:n}=o.getProps(["enableBorderRadius"]),i=o.options.borderRadius,r=$t(i),s=Math.min(t,e),a=o.borderSkipped,l=n||ut(i);return{topLeft:qt(!l||a.top||a.left,r.topLeft,0,s),topRight:qt(!l||a.top||a.right,r.topRight,0,s),bottomLeft:qt(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:qt(!l||a.bottom||a.right,r.bottomRight,0,s)}}function aa(o){const t=Fi(o),e=t.right-t.left,n=t.bottom-t.top,i=oa(o,e/2,n/2),r=sa(o,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function rn(o,t,e,n){const i=null===t,r=null===e,a=o&&!(i&&r)&&Fi(o,n);return a&&(i||Ft(t,a.left,a.right))&&(r||Ft(e,a.top,a.bottom))}function la(o){return o.topLeft||o.topRight||o.bottomLeft||o.bottomRight}function ua(o,t){o.rect(t.x,t.y,t.w,t.h)}function on(o,t,e={}){const n=o.x!==e.x?-t:0,i=o.y!==e.y?-t:0;return{x:o.x+n,y:o.y+i,w:o.w+((o.x+o.w!==e.x+e.w?t:0)-n),h:o.h+((o.y+o.h!==e.y+e.h?t:0)-i),radius:o.radius}}class qi extends Mt{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=aa(this),a=la(s.radius)?ie:ua;t.save(),(s.w!==r.w||s.h!==r.h)&&(t.beginPath(),a(t,on(s,e,r)),t.clip(),a(t,on(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,on(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return rn(this,t,e,n)}inXRange(t,e){return rn(this,t,null,e)}inYRange(t,e){return rn(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}var zi=Object.freeze({__proto__:null,ArcElement:Ri,LineElement:pe,PointElement:ji,BarElement:qi});const sn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Hi=sn.map(o=>o.replace("rgb(","rgba(").replace(")",", 0.5)"));function Vi(o){return sn[o%sn.length]}function Wi(o){return Hi[o%Hi.length]}function ca(o,t){return o.borderColor=Vi(t),o.backgroundColor=Wi(t),++t}function fa(o,t){return o.backgroundColor=o.data.map(()=>Vi(t++)),t}function ha(o,t){return o.backgroundColor=o.data.map(()=>Wi(t++)),t}function da(o){let t=0;return(e,n)=>{const i=o.getDatasetMeta(n).controller;i instanceof we?t=fa(e,t):i instanceof Ge?t=ha(e,t):i&&(t=ca(e,t))}}function Ui(o){let t;for(t in o)if(o[t].borderColor||o[t].backgroundColor)return!0;return!1}function pa(o){return o&&(o.borderColor||o.backgroundColor)}var $i={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(o,t,e){if(!e.enabled)return;const{data:{datasets:n},options:i}=o.config,{elements:r}=i;if(!e.forceOverride&&(Ui(n)||pa(i)||r&&Ui(r)))return;const s=da(o);n.forEach(s)}};function ga(o,t,e,n,i){const r=i.samples||n;if(r>=e)return o.slice(t,t+e);const s=[],a=(e-2)/(r-2);let l=0;const u=t+e-1;let f,d,h,m,p,c=t;for(s[l++]=o[c],f=0;f<r-2;f++){let g,v=0,y=0;const b=Math.floor((f+1)*a)+1+t,E=Math.min(Math.floor((f+2)*a)+1,e)+t,_=E-b;for(g=b;g<E;g++)v+=o[g].x,y+=o[g].y;v/=_,y/=_;const k=Math.floor(f*a)+1+t,A=Math.min(Math.floor((f+1)*a)+1,e)+t,{x:O,y:x}=o[c];for(h=m=-1,g=k;g<A;g++)m=.5*Math.abs((O-v)*(o[g].y-x)-(O-o[g].x)*(y-x)),m>h&&(h=m,d=o[g],p=g);s[l++]=d,c=p}return s[l++]=o[u],s}function ma(o,t,e,n){let s,a,l,u,c,f,d,h,m,p,i=0,r=0;const v=[],g=o[t].x,E=o[t+e-1].x-g;for(s=t;s<t+e;++s){a=o[s],l=(a.x-g)/E*n,u=a.y;const _=0|l;if(_===c)u<m?(m=u,f=s):u>p&&(p=u,d=s),i=(r*i+a.x)/++r;else{const k=s-1;if(!ot(f)&&!ot(d)){const A=Math.min(f,d),O=Math.max(f,d);A!==h&&A!==k&&v.push({...o[A],x:i}),O!==h&&O!==k&&v.push({...o[O],x:i})}s>0&&k!==h&&v.push(o[k]),v.push(a),c=_,r=0,m=p=u,f=d=h=s}}return v}function Ki(o){if(o._decimated){const t=o._data;delete o._decimated,delete o._data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Yi(o){o.data.datasets.forEach(t=>{Ki(t)})}function va(o,t){const e=t.length;let i,n=0;const{iScale:r}=o,{min:s,max:a,minDefined:l,maxDefined:u}=r.getUserBounds();return l&&(n=bt(ne(t,r.axis,s).lo,0,e-1)),i=u?bt(ne(t,r.axis,a).hi+1,n,e)-n:e-n,{start:n,count:i}}var Xi={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(o,t,e)=>{if(!e.enabled)return void Yi(o);const n=o.width;o.data.datasets.forEach((i,r)=>{const{_data:s,indexAxis:a}=i,l=o.getDatasetMeta(r),u=s||i.data;if("y"===te([a,o.options.indexAxis])||!l.controller.supportsDecimation)return;const c=o.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type||o.options.parsing)return;let m,{start:f,count:d}=va(l,u);if(d<=(e.threshold||4*n))Ki(i);else{switch(ot(s)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}})),e.algorithm){case"lttb":m=ga(u,f,d,n,e);break;case"min-max":m=ma(u,f,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=m}})},destroy(o){Yi(o)}};function ya(o,t,e){const n=o.segments,i=o.points,r=t.points,s=[];for(const a of n){let{start:l,end:u}=a;u=ln(l,u,i);const c=an(e,i[l],i[u],a.loop);if(!t.segments){s.push({source:a,target:c,start:i[l],end:i[u]});continue}const f=Ln(t,c);for(const d of f){const h=an(e,r[d.start],r[d.end],d.loop),m=lo(a,i,h);for(const p of m)s.push({source:p,target:d,start:{[e]:Gi(c,h,"start",Math.max)},end:{[e]:Gi(c,h,"end",Math.min)}})}}return s}function an(o,t,e,n){if(n)return;let i=t[o],r=e[o];return"angle"===o&&(i=re(i),r=re(r)),{property:o,start:i,end:r}}function ba(o,t){const{x:e=null,y:n=null}=o||{},i=t.points,r=[];return t.segments.forEach(({start:s,end:a})=>{a=ln(s,a,i);const l=i[s],u=i[a];null!==n?(r.push({x:l.x,y:n}),r.push({x:u.x,y:n})):null!==e&&(r.push({x:e,y:l.y}),r.push({x:e,y:u.y}))}),r}function ln(o,t,e){for(;t>o;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Gi(o,t,e,n){return o&&t?n(o[e],t[e]):o?o[e]:t?t[e]:0}function Zi(o,t){let e=[],n=!1;return xt(o)?(n=!0,e=o):e=ba(o,t),e.length?new pe({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function Qi(o){return o&&!1!==o.fill}function _a(o,t,e){let i=o[t].fill;const r=[t];let s;if(!e)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!ht(i))return i;if(s=o[i],!s)return!1;if(s.visible)return i;r.push(i),i=s.fill}return!1}function xa(o,t,e){const n=Ea(o);if(ut(n))return!isNaN(n.value)&&n;let i=parseFloat(n);return ht(i)&&Math.floor(i)===i?Oa(n[0],t,i,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Oa(o,t,e,n){return("-"===o||"+"===o)&&(e=t+e),!(e===t||e<0||e>=n)&&e}function ka(o,t){let e=null;return"start"===o?e=t.bottom:"end"===o?e=t.top:ut(o)?e=t.getPixelForValue(o.value):t.getBasePixel&&(e=t.getBasePixel()),e}function wa(o,t,e){let n;return n="start"===o?e:"end"===o?t.options.reverse?t.min:t.max:ut(o)?o.value:t.getBaseValue(),n}function Ea(o){const t=o.options,e=t.fill;let n=it(e&&e.target,e);return void 0===n&&(n=!!t.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}function Aa(o){const{scale:t,index:e,line:n}=o,i=[],r=n.segments,s=n.points,a=Sa(t,e);a.push(Zi({x:null,y:t.bottom},n));for(let l=0;l<r.length;l++){const u=r[l];for(let c=u.start;c<=u.end;c++)Pa(i,s[c],a)}return new pe({points:i,options:{}})}function Sa(o,t){const e=[],n=o.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const r=n[i];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function Pa(o,t,e){const n=[];for(let i=0;i<e.length;i++){const r=e[i],{first:s,last:a,point:l}=Ta(r,t,"x");if(!(!l||s&&a))if(s)n.unshift(l);else if(o.push(l),!a)break}o.push(...n)}function Ta(o,t,e){const n=o.interpolate(t,e);if(!n)return{};const i=n[e],r=o.segments,s=o.points;let a=!1,l=!1;for(let u=0;u<r.length;u++){const c=r[u],f=s[c.start][e],d=s[c.end][e];if(Ft(i,f,d)){a=i===f,l=i===d;break}}return{first:a,last:l,point:n}}class Ji{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:s}=this;return t.arc(i,r,s,(e=e||{start:0,end:yt}).end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function Ma(o){const{chart:t,fill:e,line:n}=o;if(ht(e))return La(t,e);if("stack"===e)return Aa(o);if("shape"===e)return!0;const i=Na(o);return i instanceof Ji?i:Zi(i,n)}function La(o,t){const e=o.getDatasetMeta(t);return e&&o.isDatasetVisible(t)?e.dataset:null}function Na(o){return(o.scale||{}).getPointPositionForValue?Ra(o):Da(o)}function Da(o){const{scale:t={},fill:e}=o,n=ka(e,t);if(ht(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function Ra(o){const{scale:t,fill:e}=o,n=t.options,i=t.getLabels().length,r=n.reverse?t.max:t.min,s=wa(e,t,r),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,r);return new Ji({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,s));return a}function un(o,t,e){const n=Ma(t),{line:i,scale:r,axis:s}=t,a=i.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:f=u}=l||{};n&&i.points.length&&(be(o,e),Ca(o,{line:i,target:n,above:c,below:f,area:e,scale:r,axis:s}),_e(o))}function Ca(o,t){const{line:e,target:n,above:i,below:r,area:s,scale:a}=t,l=e._loop?"angle":t.axis;o.save(),"x"===l&&r!==i&&(tr(o,n,s.top),er(o,{line:e,target:n,color:i,scale:a,property:l}),o.restore(),o.save(),tr(o,n,s.bottom)),er(o,{line:e,target:n,color:r,scale:a,property:l}),o.restore()}function tr(o,t,e){const{segments:n,points:i}=t;let r=!0,s=!1;o.beginPath();for(const a of n){const{start:l,end:u}=a,c=i[l],f=i[ln(l,u,i)];r?(o.moveTo(c.x,c.y),r=!1):(o.lineTo(c.x,e),o.lineTo(c.x,c.y)),s=!!t.pathSegment(o,a,{move:s}),s?o.closePath():o.lineTo(f.x,e)}o.lineTo(t.first().x,e),o.closePath(),o.clip()}function er(o,t){const{line:e,target:n,property:i,color:r,scale:s}=t,a=ya(e,n,i);for(const{source:l,target:u,start:c,end:f}of a){const{style:{backgroundColor:d=r}={}}=l,h=!0!==n;o.save(),o.fillStyle=d,Ia(o,s,h&&an(i,c,f)),o.beginPath();const m=!!e.pathSegment(o,l);let p;if(h){m?o.closePath():nr(o,n,f,i);const v=!!n.pathSegment(o,u,{move:m,reverse:!0});p=m&&v,p||nr(o,n,c,i)}o.closePath(),o.fill(p?"evenodd":"nonzero"),o.restore()}}function Ia(o,t,e){const{top:n,bottom:i}=t.chart.chartArea,{property:r,start:s,end:a}=e||{};"x"===r&&(o.beginPath(),o.rect(s,n,a-s,i-n),o.clip())}function nr(o,t,e,n){const i=t.interpolate(e,n);i&&o.lineTo(i.x,i.y)}var ir={id:"filler",afterDatasetsUpdate(o,t,e){const n=(o.data.datasets||[]).length,i=[];let r,s,a,l;for(s=0;s<n;++s)r=o.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof pe&&(l={visible:o.isDatasetVisible(s),index:s,fill:xa(a,s,n),chart:o,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(s=0;s<n;++s)l=i[s],l&&!1!==l.fill&&(l.fill=_a(i,s,e.propagate))},beforeDraw(o,t,e){const n="beforeDraw"===e.drawTime,i=o.getSortedVisibleDatasetMetas(),r=o.chartArea;for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;a&&(a.line.updateControlPoints(r,a.axis),n&&a.fill&&un(o.ctx,a,r))}},beforeDatasetsDraw(o,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const n=o.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const r=n[i].$filler;Qi(r)&&un(o.ctx,r,o.chartArea)}},beforeDatasetDraw(o,t,e){const n=t.meta.$filler;!Qi(n)||"beforeDatasetDraw"!==e.drawTime||un(o.ctx,n,o.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rr=(o,t)=>{let{boxHeight:e=t,boxWidth:n=t}=o;return o.usePointStyle&&(e=Math.min(e,t),n=o.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},Ba=(o,t)=>null!==o&&null!==t&&o.datasetIndex===t.datasetIndex&&o.index===t.index;class or extends Mt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=at(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=pt(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=rr(n,r);let u,c;e.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(s,r,a,l)+10):(c=this.maxHeight,u=this._fitCols(s,i,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let f=t;r.textAlign="left",r.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((m,p)=>{const v=n+e/2+r.measureText(m.text).width;(0===p||u[u.length-1]+v+2*a>s)&&(f+=c,u[u.length-(p>0?0:1)]=0,h+=c,d++),l[p]={left:0,top:h,row:d,width:v,height:i},u[u.length-1]+=v+a}),f}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=s-t;let f=a,d=0,h=0,m=0,p=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:g,itemHeight:b}=ja(n,e,r,v,i);y>0&&h+b+2*a>c&&(f+=d+a,u.push({width:d,height:h}),m+=d+a,p++,d=h=0),l[y]={left:m,top:h,col:p,width:g,height:b},d=Math.max(d,g),h+=b+a}),f+=d,u.push({width:d,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=Qt(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=vt(n,this.left+i,this.right-this.lineWidths[a]);for(const u of e)a!==u.row&&(a=u.row,l=vt(n,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+t+i,u.left=s.leftForLtr(s.x(l),u.width),l+=u.width+i}else{let a=0,l=vt(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const u of e)u.col!==a&&(a=u.col,l=vt(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=s.leftForLtr(s.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;be(t,this),this._draw(),_e(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,a=ft.color,l=Qt(t.rtl,this.left,this.width),u=pt(s.font),{padding:c}=s,f=u.size,d=f/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:m,boxHeight:p,itemHeight:v}=rr(s,f),b=this.isHorizontal(),E=this._computeTitleHeight();h=b?{x:vt(r,this.left+c,this.right-n[0]),y:this.top+c+E,line:0}:{x:this.left+c,y:vt(r,this.top+E+c,this.bottom-e[0].height),line:0},Nn(this.ctx,t.textDirection);const _=v+c;this.legendItems.forEach((k,A)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const O=i.measureText(k.text).width,x=l.textAlign(k.textAlign||(k.textAlign=s.textAlign)),w=m+d+O;let S=h.x,T=h.y;l.setWidth(this.width),b?A>0&&S+w+c>this.right&&(T=h.y+=_,h.line++,S=h.x=vt(r,this.left+c,this.right-n[h.line])):A>0&&T+_>this.bottom&&(S=h.x=S+e[h.line].width+c,h.line++,T=h.y=vt(r,this.top+E+c,this.bottom-e[h.line].height)),function(k,A,O){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;i.save();const x=it(O.lineWidth,1);if(i.fillStyle=it(O.fillStyle,a),i.lineCap=it(O.lineCap,"butt"),i.lineDashOffset=it(O.lineDashOffset,0),i.lineJoin=it(O.lineJoin,"miter"),i.lineWidth=x,i.strokeStyle=it(O.strokeStyle,a),i.setLineDash(it(O.lineDash,[])),s.usePointStyle){const w={radius:p*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:x},S=l.xPlus(k,m/2);co(i,w,S,A+d,s.pointStyleWidth&&m)}else{const w=A+Math.max((f-p)/2,0),S=l.leftForLtr(k,m),T=$t(O.borderRadius);i.beginPath(),Object.values(T).some(N=>0!==N)?ie(i,{x:S,y:w,w:m,h:p,radius:T}):i.rect(S,w,m,p),i.fill(),0!==x&&i.stroke()}i.restore()}(l.x(S),T,k),S=uo(x,S+m+d,b?S+w:this.right,t.rtl),function(k,A,O){Ut(i,O.text,k,A+v/2,u,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})}(l.x(S),T,k),b?h.x+=w+c:h.y+="string"!=typeof k.text?sr(k,u.lineHeight):_}),Dn(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=pt(e.font),i=mt(e.padding);if(!e.display)return;const r=Qt(t.rtl,this.left,this.width),s=this.ctx,a=e.position,u=i.top+n.size/2;let c,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,f=vt(t.align,f,this.right-d);else{const m=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);c=u+vt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const h=vt(a,f,f+d);s.textAlign=r.textAlign(He(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Ut(s,e.text,h,c,n)}_computeTitleHeight(){const t=this.options.title,e=pt(t.font),n=mt(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(Ft(t,this.left,this.right)&&Ft(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Ft(t,i.left,i.left+i.width)&&Ft(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!za(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=Ba(i,n);i&&!r&&at(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&at(e.onHover,[t,n,this],this)}else n&&at(e.onClick,[t,n,this],this)}}function ja(o,t,e,n,i){return{itemWidth:Fa(n,o,t,e),itemHeight:qa(i,n,t.lineHeight)}}function Fa(o,t,e,n){let i=o.text;return i&&"string"!=typeof i&&(i=i.reduce((r,s)=>r.length>s.length?r:s)),t+e.size/2+n.measureText(i).width}function qa(o,t,e){let n=o;return"string"!=typeof t.text&&(n=sr(t,e)),n}function sr(o,t){return t*(o.text?o.text.length+.5:0)}function za(o,t){return!(("mousemove"!==o&&"mouseout"!==o||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==o&&"mouseup"!==o))}var ar={id:"legend",_element:or,start(o,t,e){const n=o.legend=new or({ctx:o.ctx,options:e,chart:o});gt.configure(o,n,e),gt.addBox(o,n)},stop(o){gt.removeBox(o,o.legend),delete o.legend},beforeUpdate(o,t,e){const n=o.legend;gt.configure(o,n,e),n.options=e},afterUpdate(o){const t=o.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(o,t){t.replay||o.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(o,t,e){const n=t.datasetIndex,i=e.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:o=>o.chart.options.color,boxWidth:40,padding:10,generateLabels(o){const t=o.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:i,color:r,useBorderRadius:s,borderRadius:a}}=o.legend.options;return o._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(e?0:void 0),c=mt(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:s&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:o=>o.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:o=>!o.startsWith("on"),labels:{_scriptable:o=>!["generateLabels","filter","sort"].includes(o)}}};class cn extends Mt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=xt(n.text)?n.text.length:1;this._padding=mt(n.padding);const r=i*pt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,a=s.align;let u,c,f,l=0;return this.isHorizontal()?(c=vt(a,n,r),f=e+t,u=r-n):("left"===s.position?(c=n+t,f=vt(a,i,e),l=-.5*Dt):(c=r-t,f=vt(a,e,i),l=.5*Dt),u=i-e),{titleX:c,titleY:f,maxWidth:u,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=pt(e.font),r=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(r);Ut(t,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:u,textAlign:He(e.align),textBaseline:"middle",translation:[s,a]})}}function Ha(o,t){const e=new cn({ctx:o.ctx,options:t,chart:o});gt.configure(o,e,t),gt.addBox(o,e),o.titleBlock=e}var lr={id:"title",_element:cn,start(o,t,e){Ha(o,e)},stop(o){gt.removeBox(o,o.titleBlock),delete o.titleBlock},beforeUpdate(o,t,e){const n=o.titleBlock;gt.configure(o,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Re=new WeakMap;var ur={id:"subtitle",start(o,t,e){const n=new cn({ctx:o.ctx,options:e,chart:o});gt.configure(o,n,e),gt.addBox(o,n),Re.set(o,n)},stop(o){gt.removeBox(o,Re.get(o)),Re.delete(o)},beforeUpdate(o,t,e){const n=Re.get(o);gt.configure(o,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ge={average(o){if(!o.length)return!1;let t,e,n=0,i=0,r=0;for(t=0,e=o.length;t<e;++t){const s=o[t].element;if(s&&s.hasValue()){const a=s.tooltipPosition();n+=a.x,i+=a.y,++r}}return{x:n/r,y:i/r}},nearest(o,t){if(!o.length)return!1;let r,s,a,e=t.x,n=t.y,i=Number.POSITIVE_INFINITY;for(r=0,s=o.length;r<s;++r){const l=o[r].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=fo(t,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function Lt(o,t){return t&&(xt(t)?Array.prototype.push.apply(o,t):o.push(t)),o}function It(o){return("string"==typeof o||o instanceof String)&&o.indexOf("\n")>-1?o.split("\n"):o}function Va(o,t){const{element:e,datasetIndex:n,index:i}=t,r=o.getDatasetMeta(n).controller,{label:s,value:a}=r.getLabelAndValue(i);return{chart:o,label:s,parsed:r.getParsed(i),raw:o.data.datasets[n].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:e}}function cr(o,t){const e=o.chart.ctx,{body:n,footer:i,title:r}=o,{boxWidth:s,boxHeight:a}=t,l=pt(t.bodyFont),u=pt(t.titleFont),c=pt(t.footerFont),f=r.length,d=i.length,h=n.length,m=mt(t.padding);let p=m.height,v=0,y=n.reduce((E,_)=>E+_.before.length+_.lines.length+_.after.length,0);y+=o.beforeBody.length+o.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y&&(p+=h*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-h)*l.lineHeight+(y-1)*t.bodySpacing),d&&(p+=t.footerMarginTop+d*c.lineHeight+(d-1)*t.footerSpacing);let g=0;const b=function(E){v=Math.max(v,e.measureText(E).width+g)};return e.save(),e.font=u.string,st(o.title,b),e.font=l.string,st(o.beforeBody.concat(o.afterBody),b),g=t.displayColors?s+2+t.boxPadding:0,st(n,E=>{st(E.before,b),st(E.lines,b),st(E.after,b)}),g=0,e.font=c.string,st(o.footer,b),e.restore(),v+=m.width,{width:v,height:p}}function Wa(o,t){const{y:e,height:n}=t;return e<n/2?"top":e>o.height-n/2?"bottom":"center"}function Ua(o,t,e,n){const{x:i,width:r}=n,s=e.caretSize+e.caretPadding;if("left"===o&&i+r+s>t.width||"right"===o&&i-r-s<0)return!0}function $a(o,t,e,n){const{x:i,width:r}=e,{width:s,chartArea:{left:a,right:l}}=o;let u="center";return"center"===n?u=i<=(a+l)/2?"left":"right":i<=r/2?u="left":i>=s-r/2&&(u="right"),Ua(u,o,t,e)&&(u="center"),u}function fr(o,t,e){const n=e.yAlign||t.yAlign||Wa(o,e);return{xAlign:e.xAlign||t.xAlign||$a(o,t,e,n),yAlign:n}}function Ka(o,t){let{x:e,width:n}=o;return"right"===t?e-=n:"center"===t&&(e-=n/2),e}function Ya(o,t,e){let{y:n,height:i}=o;return"top"===t?n+=e:n-="bottom"===t?i+e:i/2,n}function hr(o,t,e,n){const{caretSize:i,caretPadding:r,cornerRadius:s}=o,{xAlign:a,yAlign:l}=e,u=i+r,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:h}=$t(s);let m=Ka(t,a);const p=Ya(t,l,u);return"center"===l?"left"===a?m+=u:"right"===a&&(m-=u):"left"===a?m-=Math.max(c,d)+i:"right"===a&&(m+=Math.max(f,h)+i),{x:bt(m,0,n.width-t.width),y:bt(p,0,n.height-t.height)}}function Ce(o,t,e){const n=mt(e.padding);return"center"===t?o.x+o.width/2:"right"===t?o.x+o.width-n.right:o.x+n.left}function dr(o){return Lt([],It(o))}function Xa(o,t,e){return Ht(o,{tooltip:t,tooltipItems:e,type:"tooltip"})}function pr(o,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?o.override(e):o}const gr={beforeTitle:Rt,title(o){if(o.length>0){const t=o[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:Rt,beforeBody:Rt,beforeLabel:Rt,label(o){if(this&&this.options&&"dataset"===this.options.mode)return o.label+": "+o.formattedValue||o.formattedValue;let t=o.dataset.label||"";t&&(t+=": ");const e=o.formattedValue;return ot(e)||(t+=e),t},labelColor(o){const e=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(o){const e=o.chart.getDatasetMeta(o.datasetIndex).controller.getStyle(o.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Rt,afterBody:Rt,beforeFooter:Rt,footer:Rt,afterFooter:Rt};function Ot(o,t,e,n){const i=o[t].call(e,n);return typeof i>"u"?gr[t].call(e,n):i}class mr extends Mt{static positioners=ge;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new $e(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Xa(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=Ot(n,"beforeTitle",this,t),r=Ot(n,"title",this,t),s=Ot(n,"afterTitle",this,t);let a=[];return a=Lt(a,It(i)),a=Lt(a,It(r)),a=Lt(a,It(s)),a}getBeforeBody(t,e){return dr(Ot(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return st(t,r=>{const s={before:[],lines:[],after:[]},a=pr(n,r);Lt(s.before,It(Ot(a,"beforeLabel",this,r))),Lt(s.lines,Ot(a,"label",this,r)),Lt(s.after,It(Ot(a,"afterLabel",this,r))),i.push(s)}),i}getAfterBody(t,e){return dr(Ot(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Ot(n,"beforeFooter",this,t),r=Ot(n,"footer",this,t),s=Ot(n,"afterFooter",this,t);let a=[];return a=Lt(a,It(i)),a=Lt(a,It(r)),a=Lt(a,It(s)),a}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let l,u,a=[];for(l=0,u=e.length;l<u;++l)a.push(Va(this.chart,e[l]));return t.filter&&(a=a.filter((c,f,d)=>t.filter(c,f,d,n))),t.itemSort&&(a=a.sort((c,f)=>t.itemSort(c,f,n))),st(a,c=>{const f=pr(t.callbacks,c);i.push(Ot(f,"labelColor",this,c)),r.push(Ot(f,"labelPointStyle",this,c)),s.push(Ot(f,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=a,a}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const a=ge[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const l=this._size=cr(this,n),u=Object.assign({},a,l),c=fr(this.chart,n,u),f=hr(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:f}=$t(a),{x:d,y:h}=t,{width:m,height:p}=e;let v,y,g,b,E,_;return"center"===r?(E=h+p/2,"left"===i?(v=d,y=v-s,b=E+s,_=E-s):(v=d+m,y=v+s,b=E-s,_=E+s),g=v):(y="left"===i?d+Math.max(l,c)+s:"right"===i?d+m-Math.max(u,f)-s:this.caretX,"top"===r?(b=h,E=b-s,v=y-s,g=y+s):(b=h+p,E=b+s,v=y+s,g=y-s),_=b),{x1:v,x2:y,x3:g,y1:b,y2:E,y3:_}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,a,l;if(r){const u=Qt(n.rtl,this.x,this.width);for(t.x=Ce(this,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",s=pt(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,l=0;l<r;++l)e.fillText(i[l],u.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+a,l+1===r&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:u,boxPadding:c}=r,f=pt(r.bodyFont),d=Ce(this,"left",r),h=i.x(d),p=e.y+(l<f.lineHeight?(f.lineHeight-l)/2:0);if(r.usePointStyle){const v={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(h,u)+u/2,g=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Ve(t,v,y,g),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Ve(t,v,y,g)}else{t.lineWidth=ut(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const v=i.leftForLtr(h,u-c),y=i.leftForLtr(i.xPlus(h,1),u-c-2),g=$t(s.borderRadius);Object.values(g).some(b=>0!==b)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ie(t,{x:v,y:p,w:u,h:l,radius:g}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),ie(t,{x:y,y:p+1,w:u-2,h:l-2,radius:g}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(v,p,u,l),t.strokeRect(v,p,u,l),t.fillStyle=s.backgroundColor,t.fillRect(y,p+1,u-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=n,f=pt(n.bodyFont);let d=f.lineHeight,h=0;const m=Qt(n.rtl,this.x,this.width),p=function(O){e.fillText(O,m.x(t.x+h),t.y+d/2),t.y+=d+r},v=m.textAlign(s);let y,g,b,E,_,k,A;for(e.textAlign=s,e.textBaseline="middle",e.font=f.string,t.x=Ce(this,v,n),e.fillStyle=n.bodyColor,st(this.beforeBody,p),h=a&&"right"!==v?"center"===s?u/2+c:u+2+c:0,E=0,k=i.length;E<k;++E){for(y=i[E],g=this.labelTextColors[E],e.fillStyle=g,st(y.before,p),b=y.lines,a&&b.length&&(this._drawColorBox(e,t,E,m,n),d=Math.max(f.lineHeight,l)),_=0,A=b.length;_<A;++_)p(b[_]),d=f.lineHeight;st(y.after,p)}h=0,d=f.lineHeight,st(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,a;if(r){const l=Qt(n.rtl,this.x,this.width);for(t.x=Ce(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=l.textAlign(n.footerAlign),e.textBaseline="middle",s=pt(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:a,y:l}=t,{width:u,height:c}=n,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:m}=$t(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(a+f,l),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(a+u-d,l),e.quadraticCurveTo(a+u,l,a+u,l+d),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(a+u,l+c-m),e.quadraticCurveTo(a+u,l+c,a+u-m,l+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(a+h,l+c),e.quadraticCurveTo(a,l+c,a,l+c-h),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(a,l+f),e.quadraticCurveTo(a,l,a+f,l),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const s=ge[t.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=cr(this,t),l=Object.assign({},s,this._size),u=fr(e,t,l),c=hr(t,l,u,e);(i._to!==c.x||r._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=mt(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),Nn(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Dn(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),r=!ke(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),a=this._positionChanged(s,t),l=e||!ke(s,r)||a;return l&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e;const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=ge[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}var vr={id:"tooltip",_element:mr,positioners:ge,afterInit(o,t,e){e&&(o.tooltip=new mr({chart:o,options:e}))},beforeUpdate(o,t,e){o.tooltip&&o.tooltip.initialize(e)},reset(o,t,e){o.tooltip&&o.tooltip.initialize(e)},afterDraw(o){const t=o.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===o.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(o.ctx),o.notifyPlugins("afterTooltipDraw",e)}},afterEvent(o,t){o.tooltip&&o.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(o,t)=>t.bodyFont.size,boxWidth:(o,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:o=>"filter"!==o&&"itemSort"!==o&&"external"!==o,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yr=Object.freeze({__proto__:null,Colors:$i,Decimation:Xi,Filler:ir,Legend:ar,SubTitle:ur,Title:lr,Tooltip:vr});const Ga=(o,t,e,n)=>("string"==typeof t?(e=o.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Za(o,t,e,n){const i=o.indexOf(t);return-1===i?Ga(o,t,e,n):i!==o.lastIndexOf(t)?e:i}const Qa=(o,t)=>null===o?null:bt(Math.round(o),0,t);function br(o){const t=this.getLabels();return o>=0&&o<t.length?t[o]:o}class _r extends zt{static id="category";static defaults={ticks:{callback:br}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:i,label:r}of e)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ot(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:Za(n,t,it(e,t),this._addedLabels),Qa(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return br.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Ja(o,t){const e=[],{bounds:i,step:r,min:s,max:a,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:d}=o,h=r||1,m=c-1,{min:p,max:v}=t,y=!ot(s),g=!ot(a),b=!ot(u),E=(v-p)/(f+1);let k,A,O,x,_=Cn((v-p)/m/h)*h;if(_<1e-14&&!y&&!g)return[{value:p},{value:v}];x=Math.ceil(v/_)-Math.floor(p/_),x>m&&(_=Cn(x*_/m/h)*h),ot(l)||(k=Math.pow(10,l),_=Math.ceil(_*k)/k),"ticks"===i?(A=Math.floor(p/_)*_,O=Math.ceil(v/_)*_):(A=p,O=v),y&&g&&r&&ho((a-s)/r,_/1e3)?(x=Math.round(Math.min((a-s)/_,c)),_=(a-s)/x,A=s,O=a):b?(A=y?s:A,O=g?a:O,x=u-1,_=(O-A)/x):(x=(O-A)/_,x=We(x,Math.round(x),_/1e3)?Math.round(x):Math.ceil(x));const w=Math.max(In(_),In(A));k=Math.pow(10,ot(l)?w:l),A=Math.round(A*k)/k,O=Math.round(O*k)/k;let S=0;for(y&&(d&&A!==s?(e.push({value:s}),A<s&&S++,We(Math.round((A+S*_)*k)/k,s,xr(s,E,o))&&S++):A<s&&S++);S<x;++S)e.push({value:Math.round((A+S*_)*k)/k});return g&&d&&O!==a?e.length&&We(e[e.length-1].value,a,xr(a,E,o))?e[e.length-1].value=a:e.push({value:a}):(!g||O===a)&&e.push({value:O}),e}function xr(o,t,{horizontal:e,minRotation:n}){const i=St(n),r=(e?Math.sin(i):Math.cos(i))||.001;return Math.min(t/r,.75*t*(""+o).length)}class Ie extends zt{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ot(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=l=>i=e?i:l,a=l=>r=n?r:l;if(t){const l=jt(i),u=jt(r);l<0&&u<0?a(0):l>0&&u>0&&s(0)}if(i===r){let l=0===r?1:Math.abs(.05*r);a(r+l),t||s(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let i,{maxTicksLimit:e,stepSize:n}=t;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s=Ja({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Rn(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return ve(t,this.chart.options.locale,this.options.ticks.format)}}class Or extends Ie{static id="linear";static defaults={ticks:{callback:Ue.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ht(t)?t:0,this.max=ht(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=St(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const me=o=>Math.floor(oe(o)),Yt=(o,t)=>Math.pow(10,me(o)+t);function kr(o){return o/Math.pow(10,me(o))==1}function wr(o,t,e){const n=Math.pow(10,e),i=Math.floor(o/n);return Math.ceil(t/n)-i}function tl(o,t){let n=me(t-o);for(;wr(o,t,n)>10;)n++;for(;wr(o,t,n)<10;)n--;return Math.min(n,me(o))}function el(o,{min:t,max:e}){t=wt(o.min,t);const n=[],i=me(t);let r=tl(t,e),s=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,u=Math.round((t-l)*s)/s,c=Math.floor((t-l)/a/10)*a*10;let f=Math.floor((u-c)/Math.pow(10,r)),d=wt(o.min,Math.round((l+c+f*Math.pow(10,r))*s)/s);for(;d<e;)n.push({value:d,major:kr(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,s=r>=0?1:s),d=Math.round((l+c+f*Math.pow(10,r))*s)/s;const h=wt(o.max,d);return n.push({value:h,major:kr(h),significand:f}),n}class Er extends zt{static id="logarithmic";static defaults={ticks:{callback:Ue.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Ie.prototype.parse.apply(this,[t,e]);if(0!==n)return ht(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ht(t)?Math.max(0,t):null,this.max=ht(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ht(this._userMin)&&(this.min=t===Yt(this.min,0)?Yt(this.min,-1):Yt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=a=>n=t?n:a,s=a=>i=e?i:a;n===i&&(n<=0?(r(1),s(10)):(r(Yt(n,-1)),s(Yt(i,1)))),n<=0&&r(Yt(i,-1)),i<=0&&s(Yt(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,n=el({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Rn(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return void 0===t?"0":ve(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=oe(t),this._valueRange=oe(this.max)-oe(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(oe(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function fn(o){const t=o.ticks;if(t.display&&o.display){const e=mt(t.backdropPadding);return it(t.font&&t.font.size,ft.font.size)+e.height}return 0}function nl(o,t,e){return e=xt(e)?e:[e],{w:po(o,t.string,e),h:e.length*t.lineHeight}}function Ar(o,t,e,n,i){return o===n||o===i?{start:t-e/2,end:t+e/2}:o<n||o>i?{start:t-e,end:t}:{start:t,end:t+e}}function il(o){const t={l:o.left+o._padding.left,r:o.right-o._padding.right,t:o.top+o._padding.top,b:o.bottom-o._padding.bottom},e=Object.assign({},t),n=[],i=[],r=o._pointLabels.length,s=o.options.pointLabels,a=s.centerPointLabels?Dt/r:0;for(let l=0;l<r;l++){const u=s.setContext(o.getPointLabelContext(l));i[l]=u.padding;const c=o.getPointPosition(l,o.drawingArea+i[l],a),f=pt(u.font),d=nl(o.ctx,f,o._pointLabels[l]);n[l]=d;const h=re(o.getIndexAngle(l)+a),m=Math.round(ze(h));rl(e,t,h,Ar(m,c.x,d.w,0,180),Ar(m,c.y,d.h,90,270))}o.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),o._pointLabelItems=ol(o,n,i)}function rl(o,t,e,n,i){const r=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/r,o.l=Math.min(o.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/r,o.r=Math.max(o.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/s,o.t=Math.min(o.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,o.b=Math.max(o.b,t.b+l))}function ol(o,t,e){const n=[],i=o._pointLabels.length,r=o.options,s=fn(r)/2,a=o.drawingArea,l=r.pointLabels.centerPointLabels?Dt/i:0;for(let u=0;u<i;u++){const c=o.getPointPosition(u,a+s+e[u],l),f=Math.round(ze(re(c.angle+At))),d=t[u],h=ll(c.y,d.h,f),m=sl(f),p=al(c.x,d.w,m);n.push({x:c.x,y:h,textAlign:m,left:p,top:h,right:p+d.w,bottom:h+d.h})}return n}function sl(o){return 0===o||180===o?"center":o<180?"left":"right"}function al(o,t,e){return"right"===e?o-=t:"center"===e&&(o-=t/2),o}function ll(o,t,e){return 90===e||270===e?o-=t/2:(e>270||e<90)&&(o-=t),o}function ul(o,t){const{ctx:e,options:{pointLabels:n}}=o;for(let i=t-1;i>=0;i--){const r=n.setContext(o.getPointLabelContext(i)),s=pt(r.font),{x:a,y:l,textAlign:u,left:c,top:f,right:d,bottom:h}=o._pointLabelItems[i],{backdropColor:m}=r;if(!ot(m)){const p=$t(r.borderRadius),v=mt(r.backdropPadding);e.fillStyle=m;const y=c-v.left,g=f-v.top,b=d-c+v.width,E=h-f+v.height;Object.values(p).some(_=>0!==_)?(e.beginPath(),ie(e,{x:y,y:g,w:b,h:E,radius:p}),e.fill()):e.fillRect(y,g,b,E)}Ut(e,o._pointLabels[i],a,l+s.lineHeight/2,s,{color:r.color,textAlign:u,textBaseline:"middle"})}}function Sr(o,t,e,n){const{ctx:i}=o;if(e)i.arc(o.xCenter,o.yCenter,t,0,yt);else{let r=o.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let s=1;s<n;s++)r=o.getPointPosition(s,t),i.lineTo(r.x,r.y)}}function cl(o,t,e,n,i){const r=o.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!n||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash),r.lineDashOffset=i.dashOffset,r.beginPath(),Sr(o,e,s,n),r.closePath(),r.stroke(),r.restore())}function fl(o,t,e){return Ht(o,{label:e,index:t,type:"pointLabel"})}class Pr extends Ie{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ue.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=mt(fn(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ht(t)&&!isNaN(t)?t:0,this.max=ht(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fn(this.options))}generateTickLabels(t){Ie.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const i=at(this.options.pointLabels.callback,[e,n],this);return i||0===i?i:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?il(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return re(t*(yt/(this._pointLabels.length||1))+St(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(ot(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ot(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return fl(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-At+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Sr(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,s=this._pointLabels.length;let a,l,u;if(e.pointLabels.display&&ul(this,s),i.display&&this.ticks.forEach((c,f)=>{if(0!==f){l=this.getDistanceFromCenterForValue(c.value);const d=this.getContext(f),h=i.setContext(d),m=r.setContext(d);cl(this,h,l,s,m)}}),n.display){for(t.save(),a=s-1;a>=0;a--){const c=n.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:d}=c;!d||!f||(t.lineWidth=d,t.strokeStyle=f,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&!e.reverse)return;const u=n.setContext(this.getContext(l)),c=pt(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=c.string,s=t.measureText(a.label).width,t.fillStyle=u.backdropColor;const f=mt(u.backdropPadding);t.fillRect(-s/2-f.left,-r-c.size/2-f.top,s+f.width,c.size+f.height)}Ut(t,a.label,0,-r,c,{color:u.color})}),t.restore()}drawTitle(){}}const Be={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kt=Object.keys(Be);function hl(o,t){return o-t}function Tr(o,t){if(ot(t))return null;const e=o._adapter,{parser:n,round:i,isoWeekday:r}=o._parseOpts;let s=t;return"function"==typeof n&&(s=n(s)),ht(s)||(s="string"==typeof n?e.parse(s,n):e.parse(s)),null===s?null:(i&&(s="week"!==i||!Gt(r)&&!0!==r?e.startOf(s,i):e.startOf(s,"isoWeek",r)),+s)}function Mr(o,t,e,n){const i=kt.length;for(let r=kt.indexOf(o);r<i-1;++r){const s=Be[kt[r]];if(s.common&&Math.ceil((e-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=n)return kt[r]}return kt[i-1]}function dl(o,t,e,n,i){for(let r=kt.length-1;r>=kt.indexOf(e);r--){const s=kt[r];if(Be[s].common&&o._adapter.diff(i,n,s)>=t-1)return s}return kt[e?kt.indexOf(e):0]}function pl(o){for(let t=kt.indexOf(o)+1,e=kt.length;t<e;++t)if(Be[kt[t]].common)return kt[t]}function Lr(o,t,e){if(e){if(e.length){const{lo:n,hi:i}=mo(e,t);o[e[n]>=t?e[n]:e[i]]=!0}}else o[t]=!0}function gl(o,t,e,n){const i=o._adapter,r=+i.startOf(t[0].value,n),s=t[t.length-1].value;let a,l;for(a=r;a<=s;a=+i.add(a,1,n))l=e[a],l>=0&&(t[l].major=!0);return t}function Nr(o,t,e){const n=[],i={},r=t.length;let s,a;for(s=0;s<r;++s)a=t[s],i[a]=s,n.push({value:a,major:!1});return 0!==r&&e?gl(o,n,i,e):n}class je extends zt{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),i=this._adapter=new ii._date(t.adapters.date);i.init(e),Oe(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Tr(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:a}=this.getUserBounds();function l(u){!s&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!s||!a)&&(l(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&l(this.getMinMax(!1))),i=ht(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=ht(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=go(i,r,this.max);return this._unit=e.unit||(n.autoSkip?Mr(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):dl(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?pl(this._unit):void 0,this.initOffsets(i),t.reverse&&a.reverse(),Nr(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i,r,e=0,n=0;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),e=1===t.length?1-i:(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),n=1===t.length?r:(r-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;e=bt(e,0,s),n=bt(n,0,s),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||Mr(r.minUnit,e,n,this._getLabelCapacity(e)),a=it(i.ticks.stepSize,1),l="week"===s&&r.isoWeekday,u=Gt(l)||!0===l,c={};let d,h,f=e;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":s),t.diff(n,e,s)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+s);const m="data"===i.ticks.source&&this.getDataTimestamps();for(d=f,h=0;d<n;d=+t.add(d,a,s),h++)Lr(c,d,m);return(d===n||"ticks"===i.bounds||1===h)&&Lr(c,d,m),Object.keys(c).sort((p,v)=>p-v).map(p=>+p)}getLabelForValue(t){const n=this.options.time;return this._adapter.format(t,n.tooltipFormat?n.tooltipFormat:n.displayFormats.datetime)}format(t,e){return this._adapter.format(t,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return at(s,[t,e,n],this);const a=r.time.displayFormats,l=this._unit,u=this._majorUnit,f=u&&a[u],d=n[e];return this._adapter.format(t,i||(u&&f&&d&&d.major?f:l&&a[l]))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=St(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*s,h:n*s+a*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,Nr(this,[t],this._majorUnit),i),s=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,n,t=this._cache.data||[];if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,n=i.length;e<n;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Tr(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return mn(t.sort(hl))}}function Fe(o,t,e){let r,s,a,l,n=0,i=o.length-1;e?(t>=o[n].pos&&t<=o[i].pos&&({lo:n,hi:i}=ne(o,"pos",t)),({pos:r,time:a}=o[n]),({pos:s,time:l}=o[i])):(t>=o[n].time&&t<=o[i].time&&({lo:n,hi:i}=ne(o,"time",t)),({time:r,pos:a}=o[n]),({time:s,pos:l}=o[i]));const u=s-r;return u?a+(l-a)*(t-r)/u:a}class Dr extends je{static id="timeseries";static defaults=je.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Fe(e,this.min),this._tableRange=Fe(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,a,l,u,c;for(s=0,a=t.length;s<a;++s)u=t[s],u>=e&&u<=n&&i.push(u);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,a=i.length;s<a;++s)c=i[s+1],l=i[s-1],u=i[s],Math.round((c+l)/2)!==u&&r.push({time:u,pos:s/(a-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Fe(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Fe(this._table,n*this._tableRange+this._minPos,!0)}}var Rr=Object.freeze({__proto__:null,CategoryScale:_r,LinearScale:Or,LogarithmicScale:Er,RadialLinearScale:Pr,TimeScale:je,TimeSeriesScale:Dr});const ml=[ni,zi,yr,Rr];export{jn as Animation,$e as Animations,Ri as ArcElement,Gn as BarController,qi as BarElement,Je as BasePlatform,fi as BasicPlatform,Zn as BubbleController,_r as CategoryScale,Ni as Chart,$i as Colors,Ct as DatasetController,Xi as Decimation,mi as DomPlatform,we as DoughnutController,Mt as Element,ir as Filler,oi as Interaction,ar as Legend,Qn as LineController,pe as LineElement,Or as LinearScale,Er as LogarithmicScale,Jn as PieController,ji as PointElement,Ge as PolarAreaController,ti as RadarController,Pr as RadialLinearScale,zt as Scale,ei as ScatterController,ur as SubTitle,je as TimeScale,Dr as TimeSeriesScale,lr as Title,vr as Tooltip,ii as _adapters,vi as _detectPlatform,Tt as animator,ni as controllers,zi as elements,gt as layouts,yr as plugins,ml as registerables,Pt as registry,Rr as scales};